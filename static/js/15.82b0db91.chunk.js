(this["webpackJsonptwitter-polarization"]=this["webpackJsonptwitter-polarization"]||[]).push([[15],{304:function(t,n,e){"use strict";e.r(n);var a,r,i,o=e(111),c=e(35),s=e(0),d=e(139),u=e(187),l=e(306),f=e(118),g=e(300),h=e(4),m=e(5),p=m.b.section(a||(a=Object(h.a)(["\n  position: relative;\n  padding: 10rem 0 8rem;\n  @media only screen and (max-width: 768px) {\n    padding: 4rem 0 4rem;\n  }\n"]))),b=m.b.svg(r||(r=Object(h.a)([""]))),j=m.b.div(i||(i=Object(h.a)(["\n  display: flex;\n\n  @media only screen and (max-width: 768px) {\n    display: block;\n  }\n\n  div {\n    flex: 1;\n    @media only screen and (max-width: 768px) {\n      flex: 0;\n    }\n  }\n\n  .right {\n    padding-top: 9%;\n    @media only screen and (max-width: 768px) {\n      padding-top: 0;\n    }\n  }\n\n  img {\n    border-radius: 50%;\n    height: 48px;\n  }\n\n  .left {\n    padding-left: 10%;\n    @media only screen and (max-width: 768px) {\n      padding-left: 0%;\n\n      svg {\n        width: 100%;\n      }\n    }\n  }\n\n  .userInfo {\n    padding-top: 1rem;\n    display: inline-flex;\n\n    p {\n      padding-top: 1rem;\n      padding-right: 1rem;\n    }\n  }\n"]))),x=e(1);n.default=function(){var t=Object(l.a)("https://gist.githubusercontent.com/dhannyell/f4453995758ea516ed637fd00b9da2f4/raw/2feb69a9dc9b3c1c4166c1ed41c2b4b2f6134c0a/hierarchical_graph.json"),n=Object(c.a)(t,2),e=n[0],a=e.response,r=e.loading,i=e.error,h=(n[1],Object(l.a)("https://gist.githubusercontent.com/dhannyell/b405174707a39252af5cc8981aec3aee/raw/78945dda256ca9afbbef38c91aeb7a8f2e113035/standard_graph@1.json")),m=Object(c.a)(h,2),O=m[0],v=O.response,y=O.loading,w=(O.error2,m[1],Object(s.useState)([])),I=Object(c.a)(w,2),k=I[0],M=I[1],S=Object(s.useState)([]),E=Object(c.a)(S,2),z=(E[0],E[1]),A=Object(s.useState)([]),N=Object(c.a)(A,2),P=N[0],D=N[1],L=Object(s.useState)([]),q=Object(c.a)(L,2),C=q[0],F=q[1],R=Object(s.useState)([]),Y=Object(c.a)(R,2),G=Y[0],H=Y[1],J=Object(s.useState)([]),U=Object(c.a)(J,2),_=U[0],B=U[1],X=Object(s.useState)([]),K=Object(c.a)(X,2),Q=K[0],T=K[1],V=Object(s.useState)([]),W=Object(c.a)(V,2),Z=W[0],$=W[1],tt=Object(s.useState)(""),nt=Object(c.a)(tt,2),et=nt[0],at=nt[1],rt=954,it=d.i().domain(["Esquerda","Direita","Centro"]).range(["#941c1c","#1a219c","#9c8e19"]);function ot(t){return"".concat(t.parent?ot(t.parent)+".":"").concat(t.data.name)}return Object(s.useEffect)((function(){if(!1===y){var t=v.data.links;M(t);var n=v.data.nodes;z(n);var e=Object(u.a)(n);D(e);var a=e.dimension((function(t){return t.Ideology}));F(a);e.dimension((function(t){return t.username}));var r=a.group();H(r);var i=Object(u.a)(n);B(i);var o=i.dimension((function(t){return t.Ideology}));T(o);i.dimension((function(t){return t.username}));var c=o.group();$(c)}}),[y]),Object(s.useEffect)((function(){if(k.length>0&&!1===r){var t=d.i().domain(["Esquerda","Direita","Centro"]).range(["#941c1c","#1a219c","#9c8e19"]),n=function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",a=new Map;return t.forEach((function t(r){var i=r.name;if(a.has(i))return a.get(i);var o=i.lastIndexOf(e);return a.set(i,r),o>=0?(t({name:i.substring(0,o),children:[]}).children.push(r),r.name=i.substring(o+1)):n=r,r})),n}(a.data),e=d.g().curve(d.d.beta(.85)).radius((function(t){return t.y})).angle((function(t){return t.x})),i=d.b().size([2*Math.PI,377])(function(t){"undefined"===typeof t.leaves()&&(console.log("sou undefined"),t=[{data:{name:"loading","Orienta\xe7ao":"Centro",imports:[]},depth:2,height:0,incoming:[],outgoing:[],parent:[]}]);var n,e=new Map(t.leaves().map((function(t){return[ot(t),t]}))),a=Object(o.a)(t.leaves());try{var r=function(){var t=n.value;t.incoming=[],t.outgoing=t.data.imports.map((function(n){return[t,e.get(n)]}))};for(a.s();!(n=a.n()).done;)r()}catch(f){a.e(f)}finally{a.f()}var i,c=Object(o.a)(t.leaves());try{for(c.s();!(i=c.n()).done;){var s,d=i.value,u=Object(o.a)(d.outgoing);try{for(u.s();!(s=u.n()).done;){var l=s.value;l[1].incoming.push(l)}}catch(f){u.e(f)}finally{u.f()}}}catch(f){c.e(f)}finally{c.f()}return t}(d.e(n).sort((function(t,n){return d.a(t.height,n.height)||d.a(t.data.name,n.data.name)})))),s=P.dimension((function(t){return t.username})),u=_.dimension((function(t){return t.username})),l=d.m("#hierarchical").attr("viewBox",[-477,-477,rt,rt]),g=(d.h().domain([0,60]).range([150,0]),l.append("g").attr("font-family","sans-serif").attr("font-size",10).selectAll("g").data(i.leaves()).join("g").attr("transform",(function(t){return"rotate(".concat(180*t.x/Math.PI-90,") translate(").concat(t.y,",0)")})).append("text").attr("dy","0.31em").attr("x",(function(t){return t.x<Math.PI?6:-6})).attr("text-anchor",(function(t){return t.x<Math.PI?"start":"end"})).attr("transform",(function(t){return t.x>=Math.PI?"rotate(180)":null})).text((function(t){return t.data.name})).attr("fill",(function(n){return t(n.data.Ideology)})).each((function(t){t.text=this})).on("click",(function(n,e){n.data.selected?(n.data.selected=!1,g.style("mix-blend-mode","multiply"),d.m(this).attr("font-weight",null),d.m(this).attr("fill",t(n.data.Ideology)),d.n(n.incoming.map((function(t){return t.path}))).attr("stroke",null),d.n(n.outgoing.map((function(t){return t.path}))).attr("stroke",null),d.n(n.incoming.map((function(t){return Object(c.a)(t,1)[0].text}))).attr("font-weight",null),d.n(n.outgoing.map((function(t){return Object(c.a)(t,2)[1].text}))).attr("font-weight",null)):(at(n.data.name),n.data.selected=!0,g.style("mix-blend-mode",null),d.m(this).attr("font-weight","bold"),d.m(this).attr("fill","#000"),d.n(n.incoming.map((function(t){return t.path}))).attr("stroke","#00f").raise(),d.n(n.outgoing.map((function(t){return t.path}))).attr("stroke","#f00").raise(),d.n(n.incoming.map((function(t){return Object(c.a)(t,1)[0].text}))).attr("font-weight","bold"),d.n(n.outgoing.map((function(t){return Object(c.a)(t,2)[1].text}))).attr("font-weight","bold"));var a=function(t){var n=[];return t.forEach((function(t){n.push(t.split(".")[2])})),n}(n.data.imports),r=function(t){var n=[];return k.forEach((function(e){e.target==t&&n.push(e.source)})),n}(n.data.name);s.filterFunction((function(t){return a.indexOf(t)>-1})),u.filterFunction((function(t){return r.indexOf(t)>-1})),f.renderAll()})).call((function(t){return t.append("title").text((function(t){return"".concat(t.data.name,"\n                        Retweeted by ").concat(t.outgoing.length," users\n                        Retweeted ").concat(t.incoming.length," users")}))})),l.append("g").attr("stroke","#ccc").attr("fill","none").selectAll("path").data(i.leaves().flatMap((function(t){return t.outgoing}))).join("path").style("mix-blend-mode","multiply").attr("d",(function(t){var n=Object(c.a)(t,2),a=n[0],r=n[1];return e(a.path(r))})).each((function(t){t.path=this})))}}),[k,r]),r||y?Object(x.jsx)("h1",{children:"Loading Data..."}):i?Object(x.jsx)("p",{children:"Error!"}):Object(x.jsx)(x.Fragment,{children:k.length>100?Object(x.jsx)(p,{children:Object(x.jsxs)(j,{children:[Object(x.jsx)("div",{className:"left ",children:Object(x.jsx)(b,{id:"hierarchical",preserveAspectRatio:"xMidYMid meet"})}),Object(x.jsxs)("div",{className:"right",children:[Object(x.jsxs)("div",{className:"userInfo",children:[Object(x.jsxs)("p",{children:["Ideologia de quem retuitou @",et]}),Object(x.jsx)("img",{src:"/twitter-polarization/images/".concat(et,".jpg"),alt:et})]}),Object(x.jsxs)("div",{className:"charts",children:[Object(x.jsx)(g.a,{dimension:C,group:G,x:it,xUnits:f.units.ordinal,elasticY:!0,elasticX:!1,margins:{top:10,right:20,bottom:20,left:30},renderHorizontalGridLines:!0,colorAccessor:function(t){return t.key}}),Object(x.jsx)("div",{className:"userInfo",children:Object(x.jsxs)("p",{children:["Ideologia dos retuitados por @",et]})}),Object(x.jsx)(g.a,{dimension:Q,group:Z,x:it,xUnits:f.units.ordinal,elasticY:!0,margin:{top:10,right:20,bottom:20,left:30},renderHorizontalGridLines:!0,colorAccessor:function(t){return t.key}})]})]})]})}):Object(x.jsx)("h1",{children:"Loading Data..."})})}}}]);
//# sourceMappingURL=15.82b0db91.chunk.js.map