{"version":3,"sources":["components/Painel/styles.js","components/Painel/index.js"],"names":["GraphSection","styled","section","Svg","svg","Container","div","Painel","useAxios","response","loading","error","response2","loading2","error2","useState","allRetweets","setAllRetweets","setAllUsers","facts1","setFacts1","ideologyDimension1","setIdeologyDimension1","ideologyCount1","setIdeologyCount1","facts2","setFacts2","ideologyDimension2","setIdeologyDimension2","ideologyCount2","setIdeologyCount2","selectedName","setSelectedName","width","orientationTypeScale","d3","domain","range","id","node","parent","data","name","useEffect","all_retweets","links","all_users","nodes","crossfilter","dimension","d","group","length","root","delimiter","map","Map","forEach","find","has","get","i","lastIndexOf","set","substring","children","push","hierarchy","line","curve","beta","radius","y","angle","x","size","Math","PI","tree","leaves","console","log","Orientaçao","imports","depth","height","incoming","outgoing","o","f","bilink","sort","a","b","nameDimension1","nameDimension2","attr","link","append","selectAll","join","text","each","this","on","event","selected","style","path","raise","retweeted_usernames","who_user_retweeted","usernames","u","split","getRetweetedUsers","users_who_retweet","user","getWhoRetweetedUser","filterFunction","indexOf","dc","call","flatMap","leaf","className","preserveAspectRatio","src","alt","xUnits","ordinal","elasticY","elasticX","margins","top","right","bottom","left","renderHorizontalGridLines","colorAccessor","key","margin"],"mappings":"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","file":"static/js/16.f14ecb94.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const GraphSection = styled.section`\n  position: relative;\n  padding: 10rem 0 8rem;\n  @media only screen and (max-width: 768px) {\n    padding: 4rem 0 4rem;\n  }\n`;\n\nexport const Svg = styled.svg``;\n\nexport const Container = styled.div`\n  display: flex;\n\n  @media only screen and (max-width: 768px) {\n    display: block;\n  }\n\n  div {\n    flex: 1;\n    @media only screen and (max-width: 768px) {\n      flex: 0;\n    }\n  }\n\n  .right {\n    padding-top: 9%;\n    @media only screen and (max-width: 768px) {\n      padding-top: 0;\n    }\n  }\n\n  img {\n    border-radius: 50%;\n    height: 48px;\n  }\n\n  .left {\n    padding-left: 10%;\n    @media only screen and (max-width: 768px) {\n      padding-left: 0%;\n\n      svg {\n        width: 100%;\n      }\n    }\n  }\n\n  .userInfo {\n    padding-top: 1rem;\n    display: inline-flex;\n\n    p {\n      padding-top: 1rem;\n      padding-right: 1rem;\n    }\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport crossfilter from 'crossfilter2';\nimport useAxios from 'axios-hooks';\nimport * as dc from 'dc';\nimport { ChartContext, BarChart } from 'react-dc-js';\n\nimport { Container, GraphSection, Svg } from './styles';\n\nfunction Painel() {\n  const [{ response, loading, error }, refetch] = useAxios(\n    'https://gist.githubusercontent.com/dhannyell/f4453995758ea516ed637fd00b9da2f4/raw/2feb69a9dc9b3c1c4166c1ed41c2b4b2f6134c0a/hierarchical_graph.json',\n  );\n\n  const [\n    { response: response2, loading: loading2, error2 },\n    refetch2,\n  ] = useAxios(\n    'https://gist.githubusercontent.com/dhannyell/b405174707a39252af5cc8981aec3aee/raw/78945dda256ca9afbbef38c91aeb7a8f2e113035/standard_graph@1.json',\n  );\n\n  const [allRetweets, setAllRetweets] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [facts1, setFacts1] = useState([]);\n  const [ideologyDimension1, setIdeologyDimension1] = useState([]);\n  const [ideologyCount1, setIdeologyCount1] = useState([]);\n\n  const [facts2, setFacts2] = useState([]);\n  const [ideologyDimension2, setIdeologyDimension2] = useState([]);\n  const [ideologyCount2, setIdeologyCount2] = useState([]);\n\n  const [selectedName, setSelectedName] = useState('');\n\n  const width = 954;\n  const height = 800;\n  const barplot_width = 300;\n  const barplot_height = 150;\n  const radius = width / 2;\n  const colorin = '#00f';\n  const colorout = '#f00';\n  const colornone = '#ccc';\n\n  const orientationTypeScale = d3\n    .scaleOrdinal()\n    .domain(['Esquerda', 'Direita', 'Centro'])\n    .range(['#941c1c', '#1a219c', '#9c8e19']);\n\n  function id(node) {\n    return `${node.parent ? id(node.parent) + '.' : ''}${node.data.name}`;\n  }\n\n  function bilink(root) {\n    if (typeof root.leaves() === 'undefined') {\n      console.log('sou undefined');\n      root = [\n        {\n          data: { name: 'loading', Orientaçao: 'Centro', imports: [] },\n          depth: 2,\n          height: 0,\n          incoming: [],\n          outgoing: [],\n          parent: [],\n        },\n      ];\n    }\n\n    const map = new Map(root.leaves().map((d) => [id(d), d]));\n    for (const d of root.leaves())\n      (d.incoming = []),\n        (d.outgoing = d.data.imports.map((i) => [d, map.get(i)]));\n    for (const d of root.leaves())\n      for (const o of d.outgoing) o[1].incoming.push(o);\n    return root;\n  }\n\n  function hierarchy(data, delimiter = '.') {\n    let root;\n    const map = new Map();\n    data.forEach(function find(data) {\n      const { name } = data;\n      if (map.has(name)) return map.get(name);\n      const i = name.lastIndexOf(delimiter);\n      map.set(name, data);\n      if (i >= 0) {\n        find({ name: name.substring(0, i), children: [] }).children.push(data);\n        data.name = name.substring(i + 1);\n      } else {\n        root = data;\n      }\n      return data;\n    });\n    return root;\n  }\n\n  useEffect(() => {\n    if (loading2 === false) {\n      const all_retweets = response2.data.links;\n      setAllRetweets(all_retweets);\n\n      const all_users = response2.data.nodes;\n      setAllUsers(all_users);\n\n      let facts1 = crossfilter(all_users);\n      setFacts1(facts1);\n\n      let ideologyDimension1 = facts1.dimension((d) => d['Ideology']);\n      setIdeologyDimension1(ideologyDimension1);\n\n      let nameDimension1 = facts1.dimension((d) => d['username']);\n      //setNameDimension1(nameDimension1);\n      let ideologyCount1 = ideologyDimension1.group();\n      setIdeologyCount1(ideologyCount1);\n\n      let facts2 = crossfilter(all_users);\n      setFacts2(facts2);\n      let ideologyDimension2 = facts2.dimension((d) => d['Ideology']);\n      setIdeologyDimension2(ideologyDimension2);\n      let nameDimension2 = facts2.dimension((d) => d['username']);\n      //setNameDimension2(nameDimension2);\n      let ideologyCount2 = ideologyDimension2.group();\n      setIdeologyCount2(ideologyCount2);\n    }\n  }, [loading2]);\n\n  useEffect(() => {\n    if (allRetweets.length > 0 && loading === false) {\n      const colorin = '#00f';\n      const colornone = '#ccc';\n      const colorout = '#f00';\n      const orientationTypeScale = d3\n        .scaleOrdinal()\n        .domain(['Esquerda', 'Direita', 'Centro'])\n        .range(['#941c1c', '#1a219c', '#9c8e19']);\n\n      const data = hierarchy(response.data);\n\n      const line = d3\n        .lineRadial()\n        .curve(d3.curveBundle.beta(0.85))\n        .radius((d) => d.y)\n        .angle((d) => d.x);\n\n      const tree = d3.cluster().size([2 * Math.PI, radius - 100]);\n\n      const root = tree(\n        bilink(\n          d3\n            .hierarchy(data)\n            .sort(\n              (a, b) =>\n                d3.ascending(a.height, b.height) ||\n                d3.ascending(a.data.name, b.data.name),\n            ),\n        ),\n      );\n\n      let nameDimension1 = facts1.dimension((d) => d['username']);\n      let nameDimension2 = facts2.dimension((d) => d['username']);\n\n      const svg = d3\n        .select('#hierarchical')\n        .attr('viewBox', [-width / 2, -width / 2, width, width]);\n\n      let y = d3.scaleLinear().domain([0, 60]).range([barplot_height, 0]);\n      const node = svg\n        .append('g')\n        .attr('font-family', 'sans-serif')\n        .attr('font-size', 10)\n        .selectAll('g')\n        .data(root.leaves())\n        .join('g')\n        .attr(\n          'transform',\n          (d) => `rotate(${(d.x * 180) / Math.PI - 90}) translate(${d.y},0)`,\n        )\n        .append('text')\n        .attr('dy', '0.31em')\n        .attr('x', (d) => (d.x < Math.PI ? 6 : -6))\n        .attr('text-anchor', (d) => (d.x < Math.PI ? 'start' : 'end'))\n        .attr('transform', (d) => (d.x >= Math.PI ? 'rotate(180)' : null))\n        .text((d) => d.data.name)\n        .attr('fill', (d) => orientationTypeScale(d.data['Ideology']))\n        .each(function (d) {\n          d.text = this;\n        })\n        .on('click', selection_fn)\n        .call((text) =>\n          text.append('title').text(\n            (d) => `${d.data.name}\n                        Retweeted by ${d.outgoing.length} users\n                        Retweeted ${d.incoming.length} users`,\n          ),\n        );\n\n      const link = svg\n        .append('g')\n        .attr('stroke', colornone)\n        .attr('fill', 'none')\n        .selectAll('path')\n        .data(root.leaves().flatMap((leaf) => leaf.outgoing))\n        .join('path')\n        .style('mix-blend-mode', 'multiply')\n        .attr('d', ([i, o]) => line(i.path(o)))\n        .each(function (d) {\n          d.path = this;\n        });\n\n      function getRetweetedUsers(who_user_retweeted) {\n        let usernames = [];\n        who_user_retweeted.forEach(function (u) {\n          usernames.push(u.split('.')[2]);\n        });\n\n        return usernames;\n      }\n\n      function getWhoRetweetedUser(user) {\n        let users_who_retweet = [];\n        allRetweets.forEach(function (link) {\n          if (link['target'] == user) {\n            users_who_retweet.push(link['source']);\n          }\n        });\n\n        return users_who_retweet;\n      }\n\n      function selection_fn(d, event) {\n        if (d.data.selected) {\n          d.data.selected = false;\n          link.style('mix-blend-mode', 'multiply');\n          d3.select(this).attr('font-weight', null);\n          d3.select(this).attr(\n            'fill',\n            orientationTypeScale(d.data['Ideology']),\n          );\n          d3.selectAll(d.incoming.map((d) => d.path)).attr('stroke', null);\n          d3.selectAll(d.outgoing.map((d) => d.path)).attr('stroke', null);\n          d3.selectAll(d.incoming.map(([d]) => d.text)).attr(\n            'font-weight',\n            null,\n          );\n          d3.selectAll(d.outgoing.map(([, d]) => d.text)).attr(\n            'font-weight',\n            null,\n          );\n        } else {\n          setSelectedName(d.data.name);\n          d.data.selected = true;\n          link.style('mix-blend-mode', null);\n          d3.select(this).attr('font-weight', 'bold');\n          d3.select(this).attr('fill', '#000');\n          d3.selectAll(d.incoming.map((d) => d.path))\n            .attr('stroke', colorin)\n            .raise();\n          d3.selectAll(d.outgoing.map((d) => d.path))\n            .attr('stroke', colorout)\n            .raise();\n          d3.selectAll(d.incoming.map(([d]) => d.text)).attr(\n            'font-weight',\n            'bold',\n          );\n          d3.selectAll(d.outgoing.map(([, d]) => d.text)).attr(\n            'font-weight',\n            'bold',\n          );\n        }\n\n        let retweeted_usernames = getRetweetedUsers(d.data.imports);\n        let users_who_retweet = getWhoRetweetedUser(d.data['name']);\n\n        nameDimension1.filterFunction(function (d) {\n          return retweeted_usernames.indexOf(d) > -1;\n        });\n\n        nameDimension2.filterFunction(function (d) {\n          return users_who_retweet.indexOf(d) > -1;\n        });\n        dc.renderAll();\n      }\n    }\n  }, [allRetweets, loading]);\n\n  if (loading || loading2) {\n    return <h1>Loading Data...</h1>;\n  }\n  if (error) return <p>Error!</p>;\n\n  function importImage() {\n    const image = '../../assets/images/_pinheira.jpg';\n    return image;\n  }\n\n  return (\n    <>\n      {allRetweets.length > 100 ? (\n        <GraphSection>\n          <Container>\n            <div className=\"left \">\n              <Svg id=\"hierarchical\" preserveAspectRatio=\"xMidYMid meet\"></Svg>\n            </div>\n            <div className=\"right\">\n              <div className=\"userInfo\">\n                <p>Ideologia de quem retuitou @{selectedName}</p>\n                <img src={`/images/${selectedName}.jpg`} alt={selectedName} />\n              </div>\n              <div className=\"charts\">\n                <BarChart\n                  dimension={ideologyDimension1}\n                  group={ideologyCount1}\n                  x={orientationTypeScale}\n                  xUnits={dc.units.ordinal}\n                  elasticY={true}\n                  elasticX={false}\n                  margins={{ top: 10, right: 20, bottom: 20, left: 30 }}\n                  renderHorizontalGridLines={true}\n                  colorAccessor={(d) => d.key}\n                />\n                <div className=\"userInfo\">\n                  <p>Ideologia dos retuitados por @{selectedName}</p>\n                </div>\n                <BarChart\n                  dimension={ideologyDimension2}\n                  group={ideologyCount2}\n                  x={orientationTypeScale}\n                  xUnits={dc.units.ordinal}\n                  elasticY={true}\n                  margin={{ top: 10, right: 20, bottom: 20, left: 30 }}\n                  renderHorizontalGridLines={true}\n                  colorAccessor={(d) => d.key}\n                />\n              </div>\n            </div>\n          </Container>\n        </GraphSection>\n      ) : (\n        <h1>Loading Data...</h1>\n      )}\n    </>\n  );\n}\n\nexport default Painel;\n"],"sourceRoot":""}