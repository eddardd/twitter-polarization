{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/BubblePainel/styles.js","components/BubblePainel/index.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Container","styled","section","div","BubblePainel","useState","radiusValue","setHeightValue","noSplitHeight","margin","x","d3","domain","range","padding","round","y","yAxis","g","call","ticks","select","remove","selectAll","attr","r","deputadosData","d","votos","force","strength","ideologia","Math","floor","random","radius","partido","svg","wrapper","append","tickFormat","yAxisContainer","console","log","nodes","useEffect","height","partidos","keys","sort","alpha","restart"],"mappings":"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","file":"static/js/12.43739c10.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import styled from 'styled-components';\n\nexport const GraphSection = styled.section`\n  position: relative;\n  padding: 10rem 0 8rem;\n  @media only screen and (max-width: 768px) {\n    padding: 4rem 0 4rem;\n  }\n`;\n\nexport const Container = styled.div`\n  iframe {\n    margin: 0px;\n    border: 0px solid white;\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport * as d3 from 'd3';\n\nimport deputadosData from '../../assets/deputadosData.json';\n\nimport { GraphSection, Container } from './styles';\n\nfunction BubblePainel() {\n  const [radiusValue, setRadiosValue] = useState(3);\n  const [heightValue, setHeightValue] = useState(500);\n\n  const width = 1200;\n  const noSplitHeight = 500;\n  const splitHeight = 2000;\n  const margin = { top: 30, right: 30, left: 100, bottom: 30 };\n\n  const color = d3\n    .scaleOrdinal()\n    .domain(['Esquerda', 'Centro', 'Direita'])\n    .range(['#E58597', '#A2ADD6', '#47B58D']);\n\n  const x = d3\n    .scalePoint()\n    .domain(['Esquerda', 'Centro', 'Direita'])\n    .padding(0.1)\n    .range([30, 850])\n    .round(true);\n\n  const y = d3.scaleBand().domain(['Todos']).range([noSplitHeight, 0]);\n\n  const yAxis = (g) =>\n    g\n      .call(d3.axisLeft(y).ticks(8))\n      .call((g) => g.select('.domain').remove())\n      .call((g) => g.selectAll('.tick line').remove())\n      .attr('y', 1000);\n\n  const xAxis = (g) =>\n    g\n      .call(d3.axisTop(x).tickFormat((d) => d))\n      .call((g) => g.select('.domain').remove())\n      .call((g) =>\n        g\n          .append('text')\n          .attr('x', 1000)\n          .attr('y', 300)\n          .attr('font-weight', 'bold')\n          .attr('fill', 'currentColor')\n          .attr('text-anchor', 'end'),\n      );\n\n  const r = d3\n    .scaleSqrt()\n    .domain(d3.extent(deputadosData, (d) => d.votos))\n    .range([3, 3]);\n\n  const force = d3\n    .forceSimulation(deputadosData)\n    .force('charge', d3.forceManyBody().strength(0))\n    .force(\n      'x',\n      d3.forceX().x((d) => {\n        switch (d.ideologia) {\n          case 'Esquerda':\n            return Math.floor(Math.random() * (350 - 50 + 1)) + 50;\n            break;\n          case 'Centro':\n            return Math.floor(Math.random() * (550 - 380 + 1)) + 380;\n            break;\n          case 'Direita':\n            return Math.floor(Math.random() * (860 - 580 + 1)) + 580;\n            break;\n        }\n      }),\n    )\n    .force(\n      'collision',\n      d3.forceCollide().radius((d) => r(d.votos) + 1),\n    )\n    .force(\n      'y',\n      d3.forceY((d) => y(d.partido)),\n    );\n\n  const svg = d3\n    .select('#bubble')\n    .attr('viewBox', [0, 0, width, noSplitHeight + margin.top + margin.bottom]);\n\n  const wrapper = svg\n    .append('g')\n    .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n  wrapper.append('g').call(xAxis);\n\n  const yAxisContainer = wrapper\n    .append('g')\n    .attr('transform', `translate(-10,10)`);\n\n  console.log(r('22263'));\n\n  console.log(svg.nodes());\n\n  useEffect(() => {\n    if (radiusValue !== 3) {\n      let height = radiusValue ? splitHeight : noSplitHeight;\n      let partidos = [...deputadosData.keys()].sort();\n\n      setHeightValue(height);\n      console.log(height);\n\n      yAxisContainer\n        .call(yAxis, y, radiusValue ? partidos : ['Todos'])\n        .call((g) => g.select('.domain').remove())\n        .call((g) => g.selectAll('.tick line').remove());\n\n      y.domain(radiusValue ? partidos : ['Todos']);\n      y.range(\n        radiusValue\n          ? [splitHeight - margin.top - margin.bottom, 0]\n          : [noSplitHeight - margin.top - margin.bottom, 0],\n      );\n      yAxisContainer\n        .call(yAxis, y, radiusValue ? partidos : ['Todos'])\n        .call((g) => g.select('.domain').remove())\n        .call((g) => g.selectAll('.tick line').remove());\n\n      force.force(\n        'y',\n        radiusValue\n          ? d3.forceY((d) => y(d.partido) + 45)\n          : d3.forceY((noSplitHeight - margin.top - margin.bottom) / 2),\n      );\n\n      force.alpha(1).restart();\n    }\n  }, [radiusValue]);\n\n  function handleChange(e) {\n    setRadiosValue(false);\n    const split = false;\n    return Object.assign(svg.node(), {\n      update(split) {\n        console.log(svg);\n      },\n    });\n  }\n\n  function handleChange1(e) {\n    setRadiosValue(true);\n  }\n\n  return (\n    <>\n      <Container></Container>\n    </>\n  );\n}\n\nexport default BubblePainel;\n"],"sourceRoot":""}