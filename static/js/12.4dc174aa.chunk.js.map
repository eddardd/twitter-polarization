{"version":3,"sources":["components/BubblePainel/styles.js","components/BubblePainel/index.js"],"names":["styled","section","BubblePainel","useState","margin","color","d3","domain","range","x","padding","round","y","console","log","xAxis","g","call","tickFormat","d","select","remove","append","attr","r","deputadosData","votos","force","strength","ideologia","Math","floor","random","radius","partido","useEffect","svg","wrapper","circles","selectAll","data","join","on","transition","ease","Object","assign","node","update","split","partidos","type","name","id"],"mappings":"+k/CAE4BA,EAAOC,QAAV,4J,MCoJVC,UA/If,WAAyB,IAAD,EACgBC,mBAAS,GADzB,mBAKhBC,GALgB,UAKA,IAAhBA,EAAqC,IAArCA,EAAkD,GAElDC,EAAQC,MAEXC,OAAO,CAAC,WAAY,SAAU,YAC9BC,MAAM,CAAC,UAAW,UAAW,YAE1BC,EAAIH,MAEPC,OAAO,CAAC,WAAY,SAAU,YAC9BG,QAAQ,IACRF,MAAM,CAAC,GAAI,MACXG,OAAM,GAEHC,EAAIN,MAAeC,OAAO,CAAC,UAAUC,MAAM,CAhB3B,IAgB2C,IAEjEK,QAAQC,IAAI,KACZD,QAAQC,IAAIF,EAAE,OAEd,IAOMG,EAAQ,SAACC,GAAD,OACZA,EACGC,KAAKX,IAAWG,GAAGS,YAAW,SAACC,GAAD,OAAOA,MACrCF,MAAK,SAACD,GAAD,OAAOA,EAAEI,OAAO,WAAWC,YAChCJ,MAAK,SAACD,GAAD,OACJA,EACGM,OAAO,QACPC,KAAK,IAAK,KACVA,KAAK,IAAK,KACVA,KAAK,cAAe,QACpBA,KAAK,OAAQ,gBACbA,KAAK,cAAe,WAGvBC,EAAIlB,MAEPC,OAAOD,IAAUmB,GAAe,SAACN,GAAD,OAAOA,EAAEO,UACzClB,MAAM,CAAC,EAAG,IAEPmB,EAAQrB,IACKmB,GAChBE,MAAM,SAAUrB,MAAmBsB,SAAS,IAC5CD,MACC,IACArB,MAAYG,GAAE,SAACU,GACb,OAAQA,EAAEU,WACR,IAAK,WACH,OAAOC,KAAKC,MAAM,IAAAD,KAAKE,UAA6B,GAEtD,IAAK,SACH,OAAOF,KAAKC,MAAM,IAAAD,KAAKE,UAA8B,IAEvD,IAAK,UACH,OAAOF,KAAKC,MAAM,IAAAD,KAAKE,UAA8B,SAK5DL,MACC,YACArB,MAAkB2B,QAAO,SAACd,GAAD,OAAOK,EAAEL,EAAEO,OAAS,MAE9CC,MACC,IACArB,KAAU,SAACa,GAAD,OAAOP,EAAEO,EAAEe,aAuDzB,OApDAC,qBAAU,WACR,IAAMC,EAAM9B,IACF,WACPiB,KAAK,UAAW,CACf,EACA,EAjFQ,KACQ,IAkFAnB,EAAaA,IAG3BiC,EAAUD,EACbd,OAAO,KACPC,KAAK,YAFQ,oBAEkBnB,EAFlB,aAEkCA,EAFlC,MAIhBiC,EAAQf,OAAO,KAAKL,KAAKF,GACFsB,EACpBf,OAAO,KACPC,KAAK,YAFe,qBAIvBV,QAAQC,IAAIU,EAAE,UACd,IAAMc,EAAUD,EACbf,OAAO,KACPC,KAAK,YAAa,WAClBgB,UAAU,UACVC,KAAKf,GACLgB,KAAK,UACLlB,KAAK,KAAK,SAACJ,GAAD,OAAOK,EAAEL,EAAEO,UACrBH,KAAK,QAAQ,SAACJ,GAAD,OAAOd,EAAMc,EAAEU,cAC5BN,KAAK,KAAK,SAACJ,GAAD,OAAOW,KAAKC,MAAsB,IAAhBD,KAAKE,aAWpC,OATAL,EAAMe,GAAG,QAAQ,WACfJ,EACGK,aACAC,KAAKtC,KACLiB,KAAK,MAAM,SAACJ,GAAD,OAAOA,EAAEV,KACpBc,KAAK,MAAM,SAACJ,GAAD,OAAOA,EAAEP,QAGzBC,QAAQC,IAAIa,GACLkB,OAAOC,OAAOV,EAAIW,OAAQ,CAC/BC,OAD+B,SACxBC,GACLrC,EAAEL,OAAO0C,EAAQC,SAAW,CAAC,eAGhC,IASD,qCACE,kCACE,uBAAOC,KAAM,QAASC,KAAM,UAD9B,YAGA,kCACE,uBAAOD,KAAM,QAASC,KAAM,UAD9B,kBAGA,qBAAKC,GAAG","file":"static/js/12.4dc174aa.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const GraphSection = styled.section`\n  position: relative;\n  padding: 10rem 0 8rem;\n  @media only screen and (max-width: 768px) {\n    padding: 4rem 0 4rem;\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport * as d3 from 'd3';\n\nimport deputadosData from '../../assets/deputadosData.json';\n\nimport { GraphSection } from './styles';\n\nfunction BubblePainel() {\n  const [radiosValue, setRadiosValue] = useState(0);\n  const width = 1200;\n  const noSplitHeight = 500;\n  const splitHeight = 2000;\n  const margin = { top: 30, right: 30, left: 100, bottom: 30 };\n\n  const color = d3\n    .scaleOrdinal()\n    .domain(['Esquerda', 'Centro', 'Direita'])\n    .range(['#E58597', '#A2ADD6', '#47B58D']);\n\n  const x = d3\n    .scalePoint()\n    .domain(['Esquerda', 'Centro', 'Direita'])\n    .padding(0.1)\n    .range([30, 850])\n    .round(true);\n\n  const y = d3.scaleBand().domain(['Todos']).range([noSplitHeight, 0]);\n\n  console.log('y');\n  console.log(y('PT'));\n\n  const yAxis = (g) =>\n    g\n      .call(d3.axisLeft(y).ticks(8))\n      .call((g) => g.select('.domain').remove())\n      .call((g) => g.selectAll('.tick line').remove())\n      .attr('y', 1000);\n\n  const xAxis = (g) =>\n    g\n      .call(d3.axisTop(x).tickFormat((d) => d))\n      .call((g) => g.select('.domain').remove())\n      .call((g) =>\n        g\n          .append('text')\n          .attr('x', 1000)\n          .attr('y', 300)\n          .attr('font-weight', 'bold')\n          .attr('fill', 'currentColor')\n          .attr('text-anchor', 'end'),\n      );\n\n  const r = d3\n    .scaleSqrt()\n    .domain(d3.extent(deputadosData, (d) => d.votos))\n    .range([3, 3]);\n\n  const force = d3\n    .forceSimulation(deputadosData)\n    .force('charge', d3.forceManyBody().strength(0))\n    .force(\n      'x',\n      d3.forceX().x((d) => {\n        switch (d.ideologia) {\n          case 'Esquerda':\n            return Math.floor(Math.random() * (350 - 50 + 1)) + 50;\n            break;\n          case 'Centro':\n            return Math.floor(Math.random() * (550 - 380 + 1)) + 380;\n            break;\n          case 'Direita':\n            return Math.floor(Math.random() * (860 - 580 + 1)) + 580;\n            break;\n        }\n      }),\n    )\n    .force(\n      'collision',\n      d3.forceCollide().radius((d) => r(d.votos) + 1),\n    )\n    .force(\n      'y',\n      d3.forceY((d) => y(d.partido)),\n    );\n\n  useEffect(() => {\n    const svg = d3\n      .select('#bubble')\n      .attr('viewBox', [\n        0,\n        0,\n        width,\n        noSplitHeight + margin.top + margin.bottom,\n      ]);\n\n    const wrapper = svg\n      .append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    wrapper.append('g').call(xAxis);\n    const yAxisContainer = wrapper\n      .append('g')\n      .attr('transform', `translate(-10,10)`);\n\n    console.log(r('22263'));\n    const circles = wrapper\n      .append('g')\n      .attr('className', 'circles')\n      .selectAll('circle')\n      .data(deputadosData)\n      .join('circle')\n      .attr('r', (d) => r(d.votos))\n      .attr('fill', (d) => color(d.ideologia))\n      .attr('x', (d) => Math.floor(Math.random() * 100));\n\n    force.on('tick', () => {\n      circles\n        .transition()\n        .ease(d3.easeLinear)\n        .attr('cx', (d) => d.x)\n        .attr('cy', (d) => d.y);\n    });\n\n    console.log(force);\n    return Object.assign(svg.node(), {\n      update(split) {\n        y.domain(split ? partidos : ['Todos']);\n      },\n    });\n  }, []);\n\n  function update(split) {}\n\n  function handleChange() {\n    setRadiosValue(1);\n  }\n\n  return (\n    <>\n      <label>\n        <input type={'radio'} name={'split'} /> Todos\n      </label>\n      <label>\n        <input type={'radio'} name={'split'} /> Por Partido\n      </label>\n      <svg id=\"bubble\"></svg>\n    </>\n  );\n}\n\nexport default BubblePainel;\n"],"sourceRoot":""}