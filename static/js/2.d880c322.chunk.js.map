{"version":3,"sources":["../node_modules/dc/node_modules/d3/dist/package.js","../node_modules/dc/node_modules/d3-array/src/ascending.js","../node_modules/dc/node_modules/d3-array/src/bisector.js","../node_modules/dc/node_modules/d3-array/src/number.js","../node_modules/dc/node_modules/d3-array/src/bisect.js","../node_modules/dc/node_modules/d3-array/src/count.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/dc/node_modules/d3-array/src/cross.js","../node_modules/dc/node_modules/d3-array/src/cumsum.js","../node_modules/dc/node_modules/d3-array/src/descending.js","../node_modules/dc/node_modules/d3-array/src/variance.js","../node_modules/dc/node_modules/d3-array/src/deviation.js","../node_modules/dc/node_modules/d3-array/src/extent.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/dc/node_modules/d3-array/src/fsum.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/internmap/src/index.js","../node_modules/dc/node_modules/d3-array/src/identity.js","../node_modules/dc/node_modules/d3-array/src/group.js","../node_modules/dc/node_modules/d3-array/src/permute.js","../node_modules/dc/node_modules/d3-array/src/sort.js","../node_modules/dc/node_modules/d3-array/src/groupSort.js","../node_modules/dc/node_modules/d3-array/src/array.js","../node_modules/dc/node_modules/d3-array/src/constant.js","../node_modules/dc/node_modules/d3-array/src/ticks.js","../node_modules/dc/node_modules/d3-array/src/nice.js","../node_modules/dc/node_modules/d3-array/src/threshold/sturges.js","../node_modules/dc/node_modules/d3-array/src/bin.js","../node_modules/dc/node_modules/d3-array/src/max.js","../node_modules/dc/node_modules/d3-array/src/min.js","../node_modules/dc/node_modules/d3-array/src/quickselect.js","../node_modules/dc/node_modules/d3-array/src/quantile.js","../node_modules/dc/node_modules/d3-array/src/threshold/freedmanDiaconis.js","../node_modules/dc/node_modules/d3-array/src/threshold/scott.js","../node_modules/dc/node_modules/d3-array/src/maxIndex.js","../node_modules/dc/node_modules/d3-array/src/mean.js","../node_modules/dc/node_modules/d3-array/src/median.js","../node_modules/dc/node_modules/d3-array/src/merge.js","../node_modules/dc/node_modules/d3-array/src/minIndex.js","../node_modules/dc/node_modules/d3-array/src/pairs.js","../node_modules/dc/node_modules/d3-array/src/range.js","../node_modules/dc/node_modules/d3-array/src/least.js","../node_modules/dc/node_modules/d3-array/src/leastIndex.js","../node_modules/dc/node_modules/d3-array/src/greatest.js","../node_modules/dc/node_modules/d3-array/src/greatestIndex.js","../node_modules/dc/node_modules/d3-array/src/scan.js","../node_modules/dc/node_modules/d3-array/src/shuffle.js","../node_modules/dc/node_modules/d3-array/src/sum.js","../node_modules/dc/node_modules/d3-array/src/transpose.js","../node_modules/dc/node_modules/d3-array/src/zip.js","../node_modules/dc/node_modules/d3-array/src/every.js","../node_modules/dc/node_modules/d3-array/src/some.js","../node_modules/dc/node_modules/d3-array/src/filter.js","../node_modules/dc/node_modules/d3-array/src/map.js","../node_modules/dc/node_modules/d3-array/src/reduce.js","../node_modules/dc/node_modules/d3-array/src/reverse.js","../node_modules/dc/node_modules/d3-array/src/difference.js","../node_modules/dc/node_modules/d3-array/src/disjoint.js","../node_modules/dc/node_modules/d3-array/src/set.js","../node_modules/dc/node_modules/d3-array/src/intersection.js","../node_modules/dc/node_modules/d3-array/src/superset.js","../node_modules/dc/node_modules/d3-array/src/subset.js","../node_modules/dc/node_modules/d3-array/src/union.js","../node_modules/dc/node_modules/d3-axis/src/array.js","../node_modules/dc/node_modules/d3-axis/src/identity.js","../node_modules/dc/node_modules/d3-axis/src/axis.js","../node_modules/dc/node_modules/d3-dispatch/src/dispatch.js","../node_modules/dc/node_modules/d3-selection/src/selector.js","../node_modules/dc/node_modules/d3-selection/src/array.js","../node_modules/dc/node_modules/d3-selection/src/selectorAll.js","../node_modules/dc/node_modules/d3-selection/src/selection/selectAll.js","../node_modules/dc/node_modules/d3-selection/src/matcher.js","../node_modules/dc/node_modules/d3-selection/src/selection/selectChild.js","../node_modules/dc/node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/dc/node_modules/d3-selection/src/selection/sparse.js","../node_modules/dc/node_modules/d3-selection/src/selection/enter.js","../node_modules/dc/node_modules/d3-selection/src/constant.js","../node_modules/dc/node_modules/d3-selection/src/selection/data.js","../node_modules/dc/node_modules/d3-selection/src/selection/sort.js","../node_modules/dc/node_modules/d3-selection/src/selection/call.js","../node_modules/dc/node_modules/d3-selection/src/namespaces.js","../node_modules/dc/node_modules/d3-selection/src/namespace.js","../node_modules/dc/node_modules/d3-selection/src/selection/attr.js","../node_modules/dc/node_modules/d3-selection/src/window.js","../node_modules/dc/node_modules/d3-selection/src/selection/style.js","../node_modules/dc/node_modules/d3-selection/src/selection/property.js","../node_modules/dc/node_modules/d3-selection/src/selection/classed.js","../node_modules/dc/node_modules/d3-selection/src/selection/text.js","../node_modules/dc/node_modules/d3-selection/src/selection/html.js","../node_modules/dc/node_modules/d3-selection/src/selection/raise.js","../node_modules/dc/node_modules/d3-selection/src/selection/lower.js","../node_modules/dc/node_modules/d3-selection/src/creator.js","../node_modules/dc/node_modules/d3-selection/src/selection/insert.js","../node_modules/dc/node_modules/d3-selection/src/selection/remove.js","../node_modules/dc/node_modules/d3-selection/src/selection/clone.js","../node_modules/dc/node_modules/d3-selection/src/selection/on.js","../node_modules/dc/node_modules/d3-selection/src/selection/dispatch.js","../node_modules/dc/node_modules/d3-selection/src/selection/iterator.js","../node_modules/dc/node_modules/d3-selection/src/selection/index.js","../node_modules/dc/node_modules/d3-selection/src/selection/select.js","../node_modules/dc/node_modules/d3-selection/src/selection/filter.js","../node_modules/dc/node_modules/d3-selection/src/selection/exit.js","../node_modules/dc/node_modules/d3-selection/src/selection/join.js","../node_modules/dc/node_modules/d3-selection/src/selection/merge.js","../node_modules/dc/node_modules/d3-selection/src/selection/order.js","../node_modules/dc/node_modules/d3-selection/src/selection/nodes.js","../node_modules/dc/node_modules/d3-selection/src/selection/node.js","../node_modules/dc/node_modules/d3-selection/src/selection/size.js","../node_modules/dc/node_modules/d3-selection/src/selection/empty.js","../node_modules/dc/node_modules/d3-selection/src/selection/each.js","../node_modules/dc/node_modules/d3-selection/src/selection/append.js","../node_modules/dc/node_modules/d3-selection/src/selection/datum.js","../node_modules/dc/node_modules/d3-selection/src/select.js","../node_modules/dc/node_modules/d3-drag/src/noevent.js","../node_modules/dc/node_modules/d3-drag/src/nodrag.js","../node_modules/dc/node_modules/d3-color/src/define.js","../node_modules/dc/node_modules/d3-color/src/color.js","../node_modules/dc/node_modules/d3-interpolate/src/basis.js","../node_modules/dc/node_modules/d3-interpolate/src/basisClosed.js","../node_modules/dc/node_modules/d3-interpolate/src/constant.js","../node_modules/dc/node_modules/d3-interpolate/src/color.js","../node_modules/dc/node_modules/d3-interpolate/src/rgb.js","../node_modules/dc/node_modules/d3-interpolate/src/numberArray.js","../node_modules/dc/node_modules/d3-interpolate/src/array.js","../node_modules/dc/node_modules/d3-interpolate/src/date.js","../node_modules/dc/node_modules/d3-interpolate/src/number.js","../node_modules/dc/node_modules/d3-interpolate/src/object.js","../node_modules/dc/node_modules/d3-interpolate/src/string.js","../node_modules/dc/node_modules/d3-timer/src/timer.js","../node_modules/dc/node_modules/d3-interpolate/src/value.js","../node_modules/dc/node_modules/d3-selection/src/sourceEvent.js","../node_modules/dc/node_modules/d3-selection/src/pointer.js","../node_modules/dc/node_modules/d3-timer/src/timeout.js","../node_modules/dc/node_modules/d3-transition/src/transition/schedule.js","../node_modules/dc/node_modules/d3-transition/src/interrupt.js","../node_modules/dc/node_modules/d3-interpolate/src/transform/parse.js","../node_modules/dc/node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/dc/node_modules/d3-interpolate/src/transform/index.js","../node_modules/dc/node_modules/d3-transition/src/transition/tween.js","../node_modules/dc/node_modules/d3-transition/src/transition/interpolate.js","../node_modules/dc/node_modules/d3-transition/src/transition/attr.js","../node_modules/dc/node_modules/d3-transition/src/transition/attrTween.js","../node_modules/dc/node_modules/d3-transition/src/transition/delay.js","../node_modules/dc/node_modules/d3-transition/src/transition/duration.js","../node_modules/dc/node_modules/d3-transition/src/transition/ease.js","../node_modules/dc/node_modules/d3-transition/src/transition/on.js","../node_modules/dc/node_modules/d3-transition/src/transition/remove.js","../node_modules/dc/node_modules/d3-transition/src/transition/selection.js","../node_modules/dc/node_modules/d3-transition/src/transition/style.js","../node_modules/dc/node_modules/d3-transition/src/transition/styleTween.js","../node_modules/dc/node_modules/d3-transition/src/transition/textTween.js","../node_modules/dc/node_modules/d3-transition/src/transition/index.js","../node_modules/dc/node_modules/d3-ease/src/cubic.js","../node_modules/dc/node_modules/d3-transition/src/transition/select.js","../node_modules/dc/node_modules/d3-transition/src/transition/selectAll.js","../node_modules/dc/node_modules/d3-transition/src/transition/filter.js","../node_modules/dc/node_modules/d3-transition/src/transition/merge.js","../node_modules/dc/node_modules/d3-transition/src/transition/transition.js","../node_modules/dc/node_modules/d3-transition/src/transition/text.js","../node_modules/dc/node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/dc/node_modules/d3-transition/src/transition/end.js","../node_modules/dc/node_modules/d3-transition/src/selection/transition.js","../node_modules/dc/node_modules/d3-transition/src/selection/index.js","../node_modules/dc/node_modules/d3-transition/src/selection/interrupt.js","../node_modules/dc/node_modules/d3-transition/src/active.js","../node_modules/dc/node_modules/d3-brush/src/constant.js","../node_modules/dc/node_modules/d3-brush/src/event.js","../node_modules/dc/node_modules/d3-brush/src/noevent.js","../node_modules/dc/node_modules/d3-brush/src/brush.js","../node_modules/dc/node_modules/d3-chord/src/math.js","../node_modules/dc/node_modules/d3-chord/src/chord.js","../node_modules/dc/node_modules/d3-path/src/path.js","../node_modules/dc/node_modules/d3-chord/src/array.js","../node_modules/dc/node_modules/d3-chord/src/constant.js","../node_modules/dc/node_modules/d3-chord/src/ribbon.js","../node_modules/dc/node_modules/d3-color/src/math.js","../node_modules/dc/node_modules/d3-color/src/lab.js","../node_modules/dc/node_modules/d3-color/src/cubehelix.js","../node_modules/dc/node_modules/d3-contour/src/array.js","../node_modules/dc/node_modules/d3-contour/src/ascending.js","../node_modules/dc/node_modules/d3-contour/src/constant.js","../node_modules/dc/node_modules/d3-contour/src/contains.js","../node_modules/dc/node_modules/d3-contour/src/noop.js","../node_modules/dc/node_modules/d3-contour/src/contours.js","../node_modules/dc/node_modules/d3-contour/src/area.js","../node_modules/dc/node_modules/d3-contour/src/blur.js","../node_modules/dc/node_modules/d3-contour/src/density.js","../node_modules/delaunator/index.js","../node_modules/d3-delaunay/src/path.js","../node_modules/d3-delaunay/src/polygon.js","../node_modules/d3-delaunay/src/voronoi.js","../node_modules/d3-delaunay/src/delaunay.js","../node_modules/dc/node_modules/d3-drag/src/constant.js","../node_modules/dc/node_modules/d3-drag/src/event.js","../node_modules/dc/node_modules/d3-drag/src/drag.js","../node_modules/dc/node_modules/d3-dsv/src/dsv.js","../node_modules/dc/node_modules/d3-dsv/src/csv.js","../node_modules/dc/node_modules/d3-dsv/src/tsv.js","../node_modules/dc/node_modules/d3-dsv/src/autoType.js","../node_modules/dc/node_modules/d3-ease/src/linear.js","../node_modules/dc/node_modules/d3-ease/src/quad.js","../node_modules/dc/node_modules/d3-ease/src/poly.js","../node_modules/dc/node_modules/d3-ease/src/sin.js","../node_modules/dc/node_modules/d3-ease/src/math.js","../node_modules/dc/node_modules/d3-ease/src/exp.js","../node_modules/dc/node_modules/d3-ease/src/circle.js","../node_modules/dc/node_modules/d3-ease/src/bounce.js","../node_modules/dc/node_modules/d3-ease/src/back.js","../node_modules/dc/node_modules/d3-ease/src/elastic.js","../node_modules/dc/node_modules/d3-fetch/src/blob.js","../node_modules/dc/node_modules/d3-fetch/src/buffer.js","../node_modules/dc/node_modules/d3-fetch/src/text.js","../node_modules/dc/node_modules/d3-fetch/src/dsv.js","../node_modules/dc/node_modules/d3-fetch/src/image.js","../node_modules/dc/node_modules/d3-fetch/src/json.js","../node_modules/dc/node_modules/d3-fetch/src/xml.js","../node_modules/dc/node_modules/d3-force/src/center.js","../node_modules/dc/node_modules/d3-quadtree/src/add.js","../node_modules/dc/node_modules/d3-quadtree/src/cover.js","../node_modules/dc/node_modules/d3-quadtree/src/quad.js","../node_modules/dc/node_modules/d3-quadtree/src/x.js","../node_modules/dc/node_modules/d3-quadtree/src/y.js","../node_modules/dc/node_modules/d3-quadtree/src/quadtree.js","../node_modules/dc/node_modules/d3-quadtree/src/data.js","../node_modules/dc/node_modules/d3-quadtree/src/extent.js","../node_modules/dc/node_modules/d3-quadtree/src/find.js","../node_modules/dc/node_modules/d3-quadtree/src/remove.js","../node_modules/dc/node_modules/d3-quadtree/src/root.js","../node_modules/dc/node_modules/d3-quadtree/src/size.js","../node_modules/dc/node_modules/d3-quadtree/src/visit.js","../node_modules/dc/node_modules/d3-quadtree/src/visitAfter.js","../node_modules/dc/node_modules/d3-force/src/constant.js","../node_modules/dc/node_modules/d3-force/src/jiggle.js","../node_modules/dc/node_modules/d3-force/src/collide.js","../node_modules/dc/node_modules/d3-force/src/link.js","../node_modules/dc/node_modules/d3-force/src/lcg.js","../node_modules/dc/node_modules/d3-force/src/simulation.js","../node_modules/dc/node_modules/d3-force/src/manyBody.js","../node_modules/dc/node_modules/d3-force/src/radial.js","../node_modules/dc/node_modules/d3-force/src/x.js","../node_modules/dc/node_modules/d3-force/src/y.js","../node_modules/dc/node_modules/d3-format/src/formatDecimal.js","../node_modules/dc/node_modules/d3-format/src/exponent.js","../node_modules/dc/node_modules/d3-format/src/formatSpecifier.js","../node_modules/dc/node_modules/d3-format/src/formatTrim.js","../node_modules/dc/node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/dc/node_modules/d3-format/src/defaultLocale.js","../node_modules/dc/node_modules/d3-format/src/formatRounded.js","../node_modules/dc/node_modules/d3-format/src/formatTypes.js","../node_modules/dc/node_modules/d3-format/src/identity.js","../node_modules/dc/node_modules/d3-format/src/locale.js","../node_modules/dc/node_modules/d3-format/src/formatGroup.js","../node_modules/dc/node_modules/d3-format/src/formatNumerals.js","../node_modules/dc/node_modules/d3-format/src/precisionFixed.js","../node_modules/dc/node_modules/d3-format/src/precisionPrefix.js","../node_modules/dc/node_modules/d3-format/src/precisionRound.js","../node_modules/dc/node_modules/d3-geo/src/math.js","../node_modules/dc/node_modules/d3-geo/src/noop.js","../node_modules/dc/node_modules/d3-geo/src/stream.js","../node_modules/dc/node_modules/d3-geo/src/area.js","../node_modules/dc/node_modules/d3-geo/src/bounds.js","../node_modules/dc/node_modules/d3-geo/src/cartesian.js","../node_modules/dc/node_modules/d3-geo/src/centroid.js","../node_modules/dc/node_modules/d3-geo/src/constant.js","../node_modules/dc/node_modules/d3-geo/src/compose.js","../node_modules/dc/node_modules/d3-geo/src/rotation.js","../node_modules/dc/node_modules/d3-geo/src/circle.js","../node_modules/dc/node_modules/d3-geo/src/clip/buffer.js","../node_modules/dc/node_modules/d3-geo/src/pointEqual.js","../node_modules/dc/node_modules/d3-geo/src/clip/rejoin.js","../node_modules/dc/node_modules/d3-geo/src/polygonContains.js","../node_modules/dc/node_modules/d3-geo/src/clip/index.js","../node_modules/dc/node_modules/d3-geo/src/clip/antimeridian.js","../node_modules/dc/node_modules/d3-geo/src/clip/circle.js","../node_modules/dc/node_modules/d3-geo/src/clip/rectangle.js","../node_modules/dc/node_modules/d3-geo/src/clip/line.js","../node_modules/dc/node_modules/d3-geo/src/clip/extent.js","../node_modules/dc/node_modules/d3-geo/src/length.js","../node_modules/dc/node_modules/d3-geo/src/distance.js","../node_modules/dc/node_modules/d3-geo/src/contains.js","../node_modules/dc/node_modules/d3-geo/src/graticule.js","../node_modules/dc/node_modules/d3-geo/src/interpolate.js","../node_modules/dc/node_modules/d3-geo/src/path/area.js","../node_modules/dc/node_modules/d3-geo/src/identity.js","../node_modules/dc/node_modules/d3-geo/src/path/bounds.js","../node_modules/dc/node_modules/d3-geo/src/path/centroid.js","../node_modules/dc/node_modules/d3-geo/src/path/context.js","../node_modules/dc/node_modules/d3-geo/src/path/measure.js","../node_modules/dc/node_modules/d3-geo/src/path/string.js","../node_modules/dc/node_modules/d3-geo/src/path/index.js","../node_modules/dc/node_modules/d3-geo/src/transform.js","../node_modules/dc/node_modules/d3-geo/src/projection/fit.js","../node_modules/dc/node_modules/d3-geo/src/projection/resample.js","../node_modules/dc/node_modules/d3-geo/src/projection/index.js","../node_modules/dc/node_modules/d3-geo/src/projection/conic.js","../node_modules/dc/node_modules/d3-geo/src/projection/conicEqualArea.js","../node_modules/dc/node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../node_modules/dc/node_modules/d3-geo/src/projection/albers.js","../node_modules/dc/node_modules/d3-geo/src/projection/albersUsa.js","../node_modules/dc/node_modules/d3-geo/src/projection/azimuthal.js","../node_modules/dc/node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../node_modules/dc/node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../node_modules/dc/node_modules/d3-geo/src/projection/mercator.js","../node_modules/dc/node_modules/d3-geo/src/projection/conicConformal.js","../node_modules/dc/node_modules/d3-geo/src/projection/equirectangular.js","../node_modules/dc/node_modules/d3-geo/src/projection/conicEquidistant.js","../node_modules/dc/node_modules/d3-geo/src/projection/equalEarth.js","../node_modules/dc/node_modules/d3-geo/src/projection/gnomonic.js","../node_modules/dc/node_modules/d3-geo/src/projection/identity.js","../node_modules/dc/node_modules/d3-geo/src/projection/naturalEarth1.js","../node_modules/dc/node_modules/d3-geo/src/projection/orthographic.js","../node_modules/dc/node_modules/d3-geo/src/projection/stereographic.js","../node_modules/dc/node_modules/d3-geo/src/projection/transverseMercator.js","../node_modules/dc/node_modules/d3-hierarchy/src/cluster.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/dc/node_modules/d3-hierarchy/src/pack/enclose.js","../node_modules/dc/node_modules/d3-hierarchy/src/array.js","../node_modules/dc/node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/dc/node_modules/d3-hierarchy/src/accessors.js","../node_modules/dc/node_modules/d3-hierarchy/src/constant.js","../node_modules/dc/node_modules/d3-hierarchy/src/pack/index.js","../node_modules/dc/node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/dc/node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/dc/node_modules/d3-hierarchy/src/partition.js","../node_modules/dc/node_modules/d3-hierarchy/src/stratify.js","../node_modules/dc/node_modules/d3-hierarchy/src/tree.js","../node_modules/dc/node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/dc/node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/dc/node_modules/d3-hierarchy/src/treemap/index.js","../node_modules/dc/node_modules/d3-hierarchy/src/treemap/binary.js","../node_modules/dc/node_modules/d3-hierarchy/src/treemap/sliceDice.js","../node_modules/dc/node_modules/d3-hierarchy/src/treemap/resquarify.js","../node_modules/dc/node_modules/d3-interpolate/src/discrete.js","../node_modules/dc/node_modules/d3-interpolate/src/hue.js","../node_modules/dc/node_modules/d3-interpolate/src/round.js","../node_modules/dc/node_modules/d3-interpolate/src/zoom.js","../node_modules/dc/node_modules/d3-interpolate/src/hsl.js","../node_modules/dc/node_modules/d3-interpolate/src/lab.js","../node_modules/dc/node_modules/d3-interpolate/src/hcl.js","../node_modules/dc/node_modules/d3-interpolate/src/cubehelix.js","../node_modules/dc/node_modules/d3-interpolate/src/piecewise.js","../node_modules/dc/node_modules/d3-interpolate/src/quantize.js","../node_modules/dc/node_modules/d3-polygon/src/area.js","../node_modules/dc/node_modules/d3-polygon/src/centroid.js","../node_modules/dc/node_modules/d3-polygon/src/hull.js","../node_modules/dc/node_modules/d3-polygon/src/cross.js","../node_modules/dc/node_modules/d3-polygon/src/contains.js","../node_modules/dc/node_modules/d3-polygon/src/length.js","../node_modules/dc/node_modules/d3-random/src/defaultSource.js","../node_modules/dc/node_modules/d3-random/src/uniform.js","../node_modules/dc/node_modules/d3-random/src/int.js","../node_modules/dc/node_modules/d3-random/src/normal.js","../node_modules/dc/node_modules/d3-random/src/logNormal.js","../node_modules/dc/node_modules/d3-random/src/irwinHall.js","../node_modules/dc/node_modules/d3-random/src/bates.js","../node_modules/dc/node_modules/d3-random/src/exponential.js","../node_modules/dc/node_modules/d3-random/src/pareto.js","../node_modules/dc/node_modules/d3-random/src/bernoulli.js","../node_modules/dc/node_modules/d3-random/src/geometric.js","../node_modules/dc/node_modules/d3-random/src/gamma.js","../node_modules/dc/node_modules/d3-random/src/beta.js","../node_modules/dc/node_modules/d3-random/src/binomial.js","../node_modules/dc/node_modules/d3-random/src/weibull.js","../node_modules/dc/node_modules/d3-random/src/cauchy.js","../node_modules/dc/node_modules/d3-random/src/logistic.js","../node_modules/dc/node_modules/d3-random/src/poisson.js","../node_modules/dc/node_modules/d3-random/src/lcg.js","../node_modules/dc/node_modules/d3-scale/src/init.js","../node_modules/dc/node_modules/d3-scale/src/ordinal.js","../node_modules/dc/node_modules/d3-scale/src/band.js","../node_modules/dc/node_modules/d3-scale/src/number.js","../node_modules/dc/node_modules/d3-scale/src/continuous.js","../node_modules/dc/node_modules/d3-scale/src/constant.js","../node_modules/dc/node_modules/d3-scale/src/tickFormat.js","../node_modules/dc/node_modules/d3-scale/src/linear.js","../node_modules/dc/node_modules/d3-scale/src/identity.js","../node_modules/dc/node_modules/d3-scale/src/nice.js","../node_modules/dc/node_modules/d3-scale/src/log.js","../node_modules/dc/node_modules/d3-scale/src/symlog.js","../node_modules/dc/node_modules/d3-scale/src/pow.js","../node_modules/dc/node_modules/d3-scale/src/radial.js","../node_modules/dc/node_modules/d3-scale/src/quantile.js","../node_modules/dc/node_modules/d3-scale/src/quantize.js","../node_modules/dc/node_modules/d3-scale/src/threshold.js","../node_modules/dc/node_modules/d3-time/src/interval.js","../node_modules/dc/node_modules/d3-time/src/year.js","../node_modules/dc/node_modules/d3-time/src/month.js","../node_modules/dc/node_modules/d3-time/src/duration.js","../node_modules/dc/node_modules/d3-time/src/week.js","../node_modules/dc/node_modules/d3-time/src/day.js","../node_modules/dc/node_modules/d3-time/src/hour.js","../node_modules/dc/node_modules/d3-time/src/minute.js","../node_modules/dc/node_modules/d3-time/src/second.js","../node_modules/dc/node_modules/d3-time/src/millisecond.js","../node_modules/dc/node_modules/d3-time/src/utcWeek.js","../node_modules/dc/node_modules/d3-time/src/utcDay.js","../node_modules/dc/node_modules/d3-time/src/utcYear.js","../node_modules/dc/node_modules/d3-time-format/src/locale.js","../node_modules/dc/node_modules/d3-time-format/src/defaultLocale.js","../node_modules/dc/node_modules/d3-scale/src/time.js","../node_modules/dc/node_modules/d3-time/src/utcMonth.js","../node_modules/dc/node_modules/d3-time/src/utcHour.js","../node_modules/dc/node_modules/d3-time/src/utcMinute.js","../node_modules/dc/node_modules/d3-scale/src/utcTime.js","../node_modules/dc/node_modules/d3-scale/src/sequential.js","../node_modules/dc/node_modules/d3-scale/src/sequentialQuantile.js","../node_modules/dc/node_modules/d3-scale/src/diverging.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/colors.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/category10.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Accent.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Dark2.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Paired.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Set1.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Set2.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Set3.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/ramp.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/BrBG.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/PRGn.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/PiYG.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/PuOr.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/RdBu.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/RdGy.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/Spectral.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","../node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../node_modules/dc/node_modules/d3-selection/src/create.js","../node_modules/dc/node_modules/d3-selection/src/local.js","../node_modules/dc/node_modules/d3-selection/src/pointers.js","../node_modules/dc/node_modules/d3-selection/src/selectAll.js","../node_modules/dc/node_modules/d3-shape/src/constant.js","../node_modules/dc/node_modules/d3-shape/src/math.js","../node_modules/dc/node_modules/d3-shape/src/arc.js","../node_modules/dc/node_modules/d3-shape/src/array.js","../node_modules/dc/node_modules/d3-shape/src/curve/linear.js","../node_modules/dc/node_modules/d3-shape/src/point.js","../node_modules/dc/node_modules/d3-shape/src/line.js","../node_modules/dc/node_modules/d3-shape/src/area.js","../node_modules/dc/node_modules/d3-shape/src/descending.js","../node_modules/dc/node_modules/d3-shape/src/identity.js","../node_modules/dc/node_modules/d3-shape/src/pie.js","../node_modules/dc/node_modules/d3-shape/src/curve/radial.js","../node_modules/dc/node_modules/d3-shape/src/lineRadial.js","../node_modules/dc/node_modules/d3-shape/src/areaRadial.js","../node_modules/dc/node_modules/d3-shape/src/pointRadial.js","../node_modules/dc/node_modules/d3-shape/src/link/index.js","../node_modules/dc/node_modules/d3-shape/src/symbol/circle.js","../node_modules/dc/node_modules/d3-shape/src/symbol/cross.js","../node_modules/dc/node_modules/d3-shape/src/symbol/diamond.js","../node_modules/dc/node_modules/d3-shape/src/symbol/star.js","../node_modules/dc/node_modules/d3-shape/src/symbol/square.js","../node_modules/dc/node_modules/d3-shape/src/symbol/triangle.js","../node_modules/dc/node_modules/d3-shape/src/symbol/wye.js","../node_modules/dc/node_modules/d3-shape/src/symbol.js","../node_modules/dc/node_modules/d3-shape/src/noop.js","../node_modules/dc/node_modules/d3-shape/src/curve/basis.js","../node_modules/dc/node_modules/d3-shape/src/curve/basisClosed.js","../node_modules/dc/node_modules/d3-shape/src/curve/basisOpen.js","../node_modules/dc/node_modules/d3-shape/src/curve/bump.js","../node_modules/dc/node_modules/d3-shape/src/curve/bundle.js","../node_modules/dc/node_modules/d3-shape/src/curve/cardinal.js","../node_modules/dc/node_modules/d3-shape/src/curve/cardinalClosed.js","../node_modules/dc/node_modules/d3-shape/src/curve/cardinalOpen.js","../node_modules/dc/node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/dc/node_modules/d3-shape/src/curve/catmullRomClosed.js","../node_modules/dc/node_modules/d3-shape/src/curve/catmullRomOpen.js","../node_modules/dc/node_modules/d3-shape/src/curve/linearClosed.js","../node_modules/dc/node_modules/d3-shape/src/curve/monotone.js","../node_modules/dc/node_modules/d3-shape/src/curve/natural.js","../node_modules/dc/node_modules/d3-shape/src/curve/step.js","../node_modules/dc/node_modules/d3-shape/src/offset/none.js","../node_modules/dc/node_modules/d3-shape/src/order/none.js","../node_modules/dc/node_modules/d3-shape/src/stack.js","../node_modules/dc/node_modules/d3-shape/src/offset/expand.js","../node_modules/dc/node_modules/d3-shape/src/offset/diverging.js","../node_modules/dc/node_modules/d3-shape/src/offset/silhouette.js","../node_modules/dc/node_modules/d3-shape/src/offset/wiggle.js","../node_modules/dc/node_modules/d3-shape/src/order/appearance.js","../node_modules/dc/node_modules/d3-shape/src/order/ascending.js","../node_modules/dc/node_modules/d3-shape/src/order/descending.js","../node_modules/dc/node_modules/d3-shape/src/order/insideOut.js","../node_modules/dc/node_modules/d3-shape/src/order/reverse.js","../node_modules/dc/node_modules/d3-time-format/src/isoFormat.js","../node_modules/dc/node_modules/d3-time-format/src/isoParse.js","../node_modules/dc/node_modules/d3-timer/src/interval.js","../node_modules/dc/node_modules/d3-zoom/src/constant.js","../node_modules/dc/node_modules/d3-zoom/src/event.js","../node_modules/dc/node_modules/d3-zoom/src/transform.js","../node_modules/dc/node_modules/d3-zoom/src/noevent.js","../node_modules/dc/node_modules/d3-zoom/src/zoom.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/react-reveal/Slide.js","../../src/core/bad-argument-exception.js","../../src/core/constants.js","../../src/core/logger.js","../../src/core/config.js","../../src/core/chart-registry.js","../../src/core/core.js","../../src/core/events.js","../../src/core/filters.js","../../src/core/invalid-state-exception.js","../../src/core/utils.js","../../src/core/printers.js","../../src/core/units.js","../../src/core/d3compat.js","../../src/base/base-mixin.js","../../src/base/color-mixin.js","../../src/base/bubble-mixin.js","../../src/base/cap-mixin.js","../../src/base/margin-mixin.js","../../src/base/coordinate-grid-mixin.js","../../src/base/d3.box.js","../../src/base/stack-mixin.js","../../src/charts/bar-chart.js","../../src/charts/box-plot.js","../../src/charts/bubble-chart.js","../../src/charts/bubble-overlay.js","../../src/charts/cbox-menu.js","../../src/charts/composite-chart.js","../../src/charts/data-count.js","../../src/charts/data-grid.js","../../src/charts/data-table.js","../../src/charts/geo-choropleth-chart.js","../../src/charts/heatmap.js","../../src/charts/html-legend.js","../../src/charts/legend.js","../../src/charts/line-chart.js","../../src/charts/number-display.js","../../src/charts/pie-chart.js","../../src/charts/row-chart.js","../../src/charts/scatter-plot.js","../../src/charts/select-menu.js","../../src/charts/series-chart.js","../../src/charts/sunburst-chart.js","../../src/charts/text-filter-widget.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/react-reveal/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/react-reveal/Reveal.js","../node_modules/react-reveal/Bounce.js","../node_modules/react-reveal/Roll.js","../node_modules/react-reveal/Flip.js","../node_modules/react-reveal/Rotate.js","../node_modules/react-reveal/LightSpeed.js","../node_modules/react-reveal/Zoom.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/crossfilter2/src/array.js","../node_modules/crossfilter2/src/filter.js","../node_modules/crossfilter2/src/identity.js","../node_modules/crossfilter2/src/null.js","../node_modules/crossfilter2/src/zero.js","../node_modules/crossfilter2/src/heap.js","../node_modules/crossfilter2/src/heapselect.js","../node_modules/crossfilter2/src/bisect.js","../node_modules/crossfilter2/src/permute.js","../node_modules/crossfilter2/src/reduce.js","../node_modules/crossfilter2/src/result.js","../../index.js","../node_modules/crossfilter2/src/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeFunction.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js"],"names":["version","a","b","NaN","f","delta","compare","left","x","lo","hi","length","mid","d","ascending","ascendingComparator","center","i","right","numbers","values","valueof","undefined","value","index","ascendingBisect","bisector","bisectRight","bisectLeft","bisectCenter","number","count","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","array","empty","arrayify","reducer","reduce","cross","pop","lengths","map","j","fill","product","some","push","cumsum","sum","Float64Array","v","variance","mean","deviation","Math","sqrt","min","max","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","prototype","Adder","this","_partials","_n","p","y","abs","n","fsum","adder","add","fcumsum","_assertThisInitialized","self","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","property","receiver","Reflect","get","base","object","hasOwnProperty","call","desc","getOwnPropertyDescriptor","_setPrototypeOf","_inherits","subClass","superClass","create","constructor","_isNativeReflectConstruct","construct","sham","Proxy","Date","toString","e","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","arguments","apply","Parent","args","Class","Function","bind","_cache","Map","fn","indexOf","has","set","Wrapper","InternMap","entries","keyof","defineProperties","_intern","_key","intern_get","intern_set","intern_delete","InternSet","Set","delete","valueOf","group","keys","nest","identity","groups","rollup","rollups","unique","indexes","Error","regroup","source","sort","F","Uint32Array","c","permute","groupSort","ak","av","bk","bv","slice","e10","e5","e2","start","stop","reverse","ticks","step","tickIncrement","isFinite","r0","round","r1","power","floor","log","LN10","error","pow","tickStep","step0","step1","nice","prestep","ceil","LN2","domain","extent","threshold","sturges","histogram","data","xz","x0","x1","tz","tn","m","shift","bin","bins","bisect","_","constant","thresholds","quickselect","k","z","s","exp","sd","newLeft","newRight","t","swap","quantile","i0","value0","subarray","quantileSorted","value1","maxIndex","flatten","arrays","merge","minIndex","pairs","previous","pairof","pair","first","range","least","defined","minValue","element","leastIndex","greatest","maxValue","greatestIndex","scan","shuffler","random","i1","matrix","transpose","row","every","test","filter","mapper","done","next","difference","others","other","disjoint","is","intersection","out","superset","subset","union","epsilon","translateX","translateY","scale","offset","bandwidth","entering","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","window","devicePixelRatio","transform","context","format","spacing","range0","range1","position","copy","selection","path","selectAll","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","insert","transition","getAttribute","parentNode","remove","each","tickSize","axisTop","axisRight","axisBottom","axisLeft","noop","dispatch","Dispatch","parseTypenames","typenames","types","trim","split","name","type","callback","concat","on","typename","T","that","none","selector","querySelector","querySelectorAll","matches","childMatcher","node","find","childFirst","firstElementChild","children","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","appendChild","child","insertBefore","bindIndex","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","document","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","join","splice","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","removeEventListener","listener","options","onAdd","event","contextListener","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","_groups","root","Selection","parents","_parents","subgroups","subnode","subgroup","arrayAll","selectorAll","selectChild","match","childFind","selectChildren","childrenFilter","matcher","enterGroup","updateGroup","exitGroup","_enter","_exit","sparse","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","nodes","size","getAttributeNS","classed","html","creator","before","deep","selection_iterator","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","factory","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","h","Hsl","hslConvert","hsl","hsl2rgb","m2","basis","t1","v0","v1","v2","v3","t2","t3","define","channels","assign","displayable","formatHsl","linear","hue","gamma","nogamma","exponential","rgbGamma","end","colorRgb","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","basisClosed","isNumberArray","ArrayBuffer","isView","DataView","numberArray","genericArray","nb","na","setTime","reA","reB","taskHead","taskTail","am","bm","bs","bi","lastIndex","q","one","zero","date","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","top","clientTop","pageX","pageY","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","timerFlush","wake","t0","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","emptyOn","emptyTween","id","timing","schedules","__transition","tween","schedule","state","duration","ease","init","svgNode","active","degrees","PI","rotate","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","xa","ya","xb","yb","translate","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","interpolateNumber","interpolateRgb","interpolateString","interpolate","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","cubicIn","cubicOut","cubicInOut","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","easeVarying","Promise","resolve","reject","cancel","interrupt","defaultTiming","easeCubicInOut","BrushEvent","mode","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","X","handles","input","output","xy","Y","XY","cursors","overlay","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","ctrlKey","button","defaultExtent","hasAttribute","viewBox","width","height","defaultTouchable","navigator","maxTouchPoints","__brush","brushSelection","dim","brushX","brush","brushY","touchending","touchable","listeners","handleSize","initialize","handle","redraw","started","touchmoved","touchended","emitter","clean","emit","Emitter","touches","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","points","identifier","pointer","point0","pts","move","beforestart","moved","ended","keydowned","keyupped","dragDisable","changedTouches","cur","dragEnable","keyCode","selection0","selection1","clear","starting","keyModifiers","cos","sin","pi","halfPi","tau","compareValue","chord","chordTranspose","chordDirected","directed","padAngle","sortGroups","sortSubgroups","sortChords","groupSums","groupIndex","chords","subgroupIndex","startAngle","endAngle","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","x2","y2","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","defaultSource","defaultTarget","defaultRadius","radius","defaultStartAngle","defaultEndAngle","defaultPadAngle","defaultArrowheadRadius","ribbon","headRadius","sourceRadius","targetRadius","buffer","ap","argv","sr","sa0","sa1","tr","ta0","ta1","hr","tr2","ta2","ribbonArrow","radians","Xn","Zn","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","lch","hcl","A","B","C","D","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","ring","hole","ringContains","xi","yi","pj","xj","yj","segmentContains","collinear","cases","thresholdSturges","smooth","smoothLinear","contours","contour","polygons","holes","fragmentByStart","fragmentByEnd","forEach","stitch","startIndex","endIndex","unshift","isorings","area","polygon","coordinates","xt","yt","_0","_1","blurX","blurY","defaultX","defaultY","defaultWeight","weight","density","values0","Float32Array","values1","wi","geometry","transformPolygon","transformRing","transformPoint","resize","cellSize","EPSILON","EDGE_STACK","Delaunator","coords","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","i2","cx","cy","minDist","dist","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","hull","d0","triangles","halfedges","ax","ay","bx","by","ex","ey","cl","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_legalize","pseudoAngle","ar","b0","al","p0","pr","pl","p1","inCircle","hbl","_link","br","getX","defaultGetX","getY","defaultGetY","orientIfSure","px","py","rx","ry","qx","qy","fx","fy","bp","cp","ids","dists","temp","tempDist","tmp","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","x3","y3","ab","inedges","ti","tj","_renderSegment","h0","h1","_project","_clip","cell","cellPolygon","renderCell","c0","_regioncode","c1","_clipSegment","_step","ci","neighbors","cj","ai","li","aj","lj","_cell","V","_clipInfinite","_clipFinite","P","sx0","sy0","sx1","sy1","_edgecode","_edge","vx0","vy0","vxn","vyn","vx","vy","flatIterable","pointX","pointY","jitter","Delaunay","_delaunator","_hullIndex","bounds","hypot","hullIndex","dc","dt","renderHull","trianglePolygon","renderTriangle","flatArray","DragEvent","subject","defaultContainer","defaultSubject","mousedownx","mousedowny","mousemoving","container","gestures","clickDistance2","drag","mousedowned","touchstarted","gesture","mousemoved","mouseupped","nodrag","mouse","touch","clickDistance","EOL","EOF","objectConverter","columns","JSON","stringify","inferColumns","rows","columnSet","column","pad","formatDate","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","delimiter","reFormat","DELIMITER","charCodeAt","parseRows","I","eof","eol","token","replace","preformatBody","formatValue","formatRow","convert","customConverter","formatBody","formatRows","csv","dsv","csvParse","csvParseRows","csvFormat","csvFormatBody","csvFormatRows","csvFormatRow","csvFormatValue","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatBody","tsvFormatRows","tsvFormatRow","tsvFormatValue","autoType","fixtz","getHours","quadIn","quadOut","quadInOut","polyIn","custom","exponent","polyOut","polyInOut","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b1","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","elasticIn","asin","amplitude","period","elasticOut","elasticInOut","responseBlob","response","ok","status","statusText","blob","fetch","then","responseArrayBuffer","arrayBuffer","responseText","dsvParse","dsvFormat","image","Image","onerror","onload","src","responseJson","json","parser","DOMParser","parseFromString","strength","force","sx","sy","tree","xm","ym","bottom","_root","leaf","_x","_y","quadtree","Quadtree","addAll","leaf_copy","treeProto","cover","yz","visit","quads","Quad","d2","retainer","removeAll","visitAfter","radii","iterations","ri","ri2","prepare","quad","rj","jiggle","_nodes","_random","nodeById","nodeId","links","strengths","distances","bias","link","distance","alpha","initializeStrength","initializeDistance","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","lcg","initializeNodes","angle","initializeForce","randomSource","closest","distanceMin2","distanceMax2","theta2","accumulate","distanceMin","distanceMax","theta","radiuses","formatDecimalParts","toExponential","coefficient","re","formatSpecifier","specifier","FormatSpecifier","align","sign","symbol","comma","precision","prefixExponent","locale","formatPrefix","toFixed","toLocaleString","toPrecision","formatRounded","toUpperCase","prefixes","grouping","thousands","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","padding","defaultLocale","formatLocale","epsilon2","quarterPi","haversin","streamGeometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","MultiPoint","LineString","streamLine","MultiLineString","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","phi0","lambda1","phi1","lambda2","deltaSum","ranges","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","linePoint","normal","inflection","phii","lambdai","antimeridian","rangeCompare","rangeContains","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","feature","merged","deltaMax","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cz","compose","invert","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","circle","lines","rejoin","Intersection","entry","segments","compareIntersection","startInside","clip","segment","pointEqual","current","isSubject","longitude","winding","sinPhi1","cosPhi1","point1","absDelta","phiArc","pointVisible","clipLine","sink","ringBuffer","clipBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","clipRejoin","pointLine","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","cr","smallRadius","notHemisphere","visible","intersect","two","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","polar","q1","code","v00","point2","clipMax","clipMin","clipRectangle","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","activeStream","bufferStream","clipStream","polygonInside","cleanInside","lengthSum","cache","cacheStream","lengthStream","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","ao","bo","ringRadians","pointRadians","graticuleX","graticuleY","graticule","DX","DY","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","x00","y00","cy0","cy1","kx0","ky0","kx1","ky1","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_context","_radius","pointRadius","_line","_point","lengthRing","PathString","_string","_circle","projection","projectionStream","contextStream","pathArea","measure","pathMeasure","pathBounds","pathCentroid","methods","transformer","TransformStream","fit","fitBounds","clipExtent","geoStream","fitExtent","fitSize","fitWidth","fitHeight","cosMinDistance","project","delta2","resampleLineTo","depth","phi2","dx2","dy2","dz","a00","b00","c00","resampleStream","ringPoint","resample","resampleNone","transformRadians","scaleTranslateRotate","scaleTranslate","cosAlpha","sinAlpha","fi","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","preclip","clipAntimeridian","postclip","recenter","reset","transformRotate","clipAngle","clipCircle","reflectX","reflectY","conicProjection","parallels","conicEqualAreaRaw","cylindricalEqualAreaRaw","r0y","conicEqualArea","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","multiplex","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","equirectangularRaw","conicEquidistantRaw","gy","nx","A1","A2","A3","A4","M","equalEarthRaw","l2","l6","gnomonicRaw","sa","tx","ty","kx","ky","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","eachAfter","meanX","leafLeft","leafRight","hierarchy","mapChildren","objectChildren","childs","Node","eachBefore","computeHeight","copyData","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","node_iterator","circles","shuffle","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","r2","r21","r3","a2","a3","b2","b3","c3","d1","d3","place","intersects","score","packEnclose","aa","sj","sk","pack","enclose","optional","required","constantZero","radiusLeaf","packChildren","translateChild","partition","treemapDice","positionNode","roundNode","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","change","nextAncestor","vim","TreeNode","treeRoot","firstWalk","secondWalk","sizeNode","siblings","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","squarifyRatio","ratio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","resquarify","_squarify","zoomRho","rho","rho2","rho4","zoom","ux0","uy0","ux1","uy1","coshr0","SQRT2","_2","colorHsl","hslLong","colorLab","colorHcl","hclLong","cubehelixGamma","colorCubehelix","cubehelixLong","piecewise","interpolator","samples","lexicographicOrder","computeUpperHullIndexes","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","inside","perimeter","sourceRandomUniform","randomUniform","sourceRandomInt","randomInt","sourceRandomNormal","randomNormal","mu","sigma","sourceRandomLogNormal","randomLogNormal","sourceRandomIrwinHall","randomIrwinHall","sourceRandomBates","irwinHall","randomBates","sourceRandomExponential","randomExponential","log1p","sourceRandomPareto","randomPareto","RangeError","sourceRandomBernoulli","randomBernoulli","sourceRandomGeometric","randomGeometric","sourceRandomGamma","randomGamma","multiplier","sourceRandomBeta","G","randomBeta","sourceRandomBinomial","geometric","randomBinomial","acc","nn","pp","sourceRandomWeibull","randomWeibull","outerFunc","sourceRandomCauchy","randomCauchy","sourceRandomLogistic","randomLogistic","sourceRandomPoisson","binomial","randomPoisson","mul","inc","eps","seed","initRange","initInterpolator","implicit","ordinal","unknown","band","ordinalRange","rescale","sequence","rangeRound","pointish","unit","normalize","bimap","polymap","clamp","untransform","interpolateValue","clamper","interpolateRound","continuous","precisionPrefix","precisionRound","precisionFixed","linearish","maxIter","transformLog","transformExp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","log10","log2","logp","powp","transformSymlog","transformSymexp","expm1","symlogish","symlog","transformPow","transformSqrt","transformSquare","powish","square","unsquare","radial","squared","invertExtent","quantiles","quantize","newInterval","floori","offseti","field","setMonth","setHours","setFullYear","getFullYear","years","month","setDate","getMonth","months","durationSecond","durationMinute","durationHour","durationDay","durationWeek","weekday","getDate","getDay","getTimezoneOffset","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","day","days","hour","getMilliseconds","getSeconds","getMinutes","minute","second","millisecond","utcWeekday","setUTCDate","getUTCDay","setUTCHours","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcDay","utcDays","utcYear","setUTCMonth","setUTCFullYear","utcYears","localDate","H","L","utcDate","UTC","newDate","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseSpecifier","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseZone","parseLiteralPercent","pads","charAt","newParse","Z","week","Q","timeMonday","timeDay","U","utcFormat","utcParse","timeFormat","timeParse","numberRe","percentRe","requoteRe","requote","timeYear","timeSunday","dISO","timeThursday","dow","UTCdISO","durationMonth","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","tickInterval","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","utcMonth","utcMonths","utcHour","setUTCMinutes","utcHours","utcMinute","setUTCSeconds","utcMinutes","utcTime","utcWeek","utcSecond","utcMillisecond","k10","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","k21","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt","scheme","interpolateRgbBasis","ramp","interpolateCubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","nextId","Local","events","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","arcEndAngle","arcPadAngle","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","cx0","cx1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","a01","a11","a10","da0","da1","rp","rc0","rc1","oc","kc","lc","Linear","areaStart","areaEnd","curve","curveLinear","defined0","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","sortValues","descending","pie","arcs","pa","curveRadialLinear","curveRadial","Radial","_curve","lineRadial","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","linkTarget","curveHorizontal","curveVertical","pointRadial","p2","p3","linkHorizontal","linkVertical","linkRadial","draw","tan30","tan30_2","kr","sqrt3","symbols","diamond","star","triangle","wye","Basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bump","bumpX","bumpY","Bundle","_basis","_beta","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","slope2","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","_t0","Step","_t","stepBefore","stepAfter","series","stackValue","stackSeries","orderNone","offsetNone","stack","oz","sz","yn","s2","si","sij0","s3","peaks","peak","vi","vj","appearance","tops","bottoms","isoSpecifier","formatIso","toISOString","parseIso","total","_restart","ZoomEvent","Transform","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","__zoom","SVGElement","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","translateExtent","touchstarting","touchfirst","constrain","wheelDelta","scaleExtent","interpolateZoom","touchDelay","tapDistance","wheeled","dblclicked","__zooming","Gesture","taps","wheel","wheelidled","k1","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","k0","translateBy","translateTo","module","exports","_defineProperty","obj","_objectWithoutProperties","make","up","down","big","mirror","opposite","lookup","_globals","animation","Slide","defaults","forever","animationFillMode","_wrap2","default","_propTypes","require","_wrap","__esModule","propTypes","bool","BadArgumentException","constants","CHART_CLASS","DEBUG_GROUP_CLASS","STACK_CLASS","DESELECTED_CLASS","SELECTED_CLASS","NODE_INDEX_NAME","GROUP_INDEX_NAME","DEFAULT_CHART_GROUP","EVENT_DELAY","NEGLIGIBLE_NUMBER","Logger","enableDebugLog","_alreadyWarned","msg","console","warn","logger","debug","Config","_defaultColors","_schemeCategory20c","dateFormat","_renderlet","disableTransitions","warnOnce","config","chartRegistry","_chartMap","chart","_initializeChartGroup","anchorName","registerChart","register","deregisterChart","deregister","hasChart","deregisterAllCharts","filterAll","charts","refocusAll","focus","renderAll","render","redrawAll","optionalTransition","enable","afterTransition","_transition","renderlet","instanceOfChart","__dcFlag__","closure","filters","low","high","isFiltered","filterType","fromBottomLeft","InvalidStateException","pluck","utils","isFloat","printSingleValue","fformat","isInteger","_toTimeFunc","getTime","percentage","subtract","isNumber","isNegligible","val","_idCounter","findChild","nodeName","uniqueId","nameToId","appendOrSelect","tag","safeNumber","arraysEqual","elem","allChildren","paths","toHierarchy","accessor","parts","currentNode","currentPath","childNode","getAncestors","arraysIdentical","printers","units","fp","_f","resolution","d3compatPointer","evt","adaptHandler","handler","_d3v5Nester","sortKeys","nester","_d3v6Nester","compatNestHelper","_defaultFilterHandler","dimension","filterRange","filterFunction","filterExact","_defaultHasFilterHandler","_defaultRemoveFilterHandler","_defaultAddFilterHandler","_defaultResetFilterHandler","BaseMixin","_svgDescription","_keyboardAccessible","_dimension","_group","_anchor","_svg","_isChild","_minWidth","_defaultWidthCalc","_widthCalc","_minHeight","_defaultHeightCalc","_heightCalc","_width","_height","_useViewBoxResizing","_keyAccessor","_valueAccessor","_label","_ordering","_renderLabel","_title","keyAccessor","valueAccessor","_renderTitle","_controlsUseVisibility","_transitionDuration","_transitionDelay","_filterPrinter","_mandatoryAttributesList","_chartGroup","_listeners","_legend","_commitHandler","_defaultData","all","_data","_filters","_filterHandler","_hasFilterHandler","_removeFilterHandler","_addFilterHandler","_resetFilterHandler","expireCache","_groupName","orderFunction","sel","chartGroup","anchor","chartID","rootElement","svgElement","generateSvg","svgDescription","sizeSvg","description","filterPrinterFunction","attribute","controlsUseVisibility","checkForMandatoryAttributes","_doRender","_activateRenderlets","onClickFunction","onClickArgs","tabElements","transitionDuration","transitionDelay","_doRedraw","fs","applyFilters","_invokeFilteredListener","hasFilter","turnOnControls","turnOffControls","trigger","redrawGroup","labelFunction","enableLabels","titleFunction","opts","applyOptions","renderletFunction","baseMixin","ColorMixin","Base","_colors","scaleOrdinal","defaultColors","_colorAccessor","_colorCalculator","getColor","newDomain","colorAccessor","colorScale","scaleQuantize","scaleLinear","interpolateHcl","BubbleMixin","_maxBubbleRelativeSize","_minRadiusWithLabel","_sortBubbleSize","_elasticRadius","_excludeElasticZero","BUBBLE_NODE_CLASS","BUBBLE_CLASS","MIN_RADIUS","renderLabel","radiusAccessor","radiusValueAccessor","_r","bubbleRadiusScale","rMin","rMax","_rValueAccessor","label","bubbleR","_shouldLabel","bubbleGEnter","onClick","_labelPointerEvent","_labelFunction","_labelOpacity","labels","title","renderTitle","_titleFunction","relativeSize","excludeZero","isSelectedNode","highlightSelected","fadeDeselected","resetHighlight","CapMixin","_cap","_takeFront","_othersLabel","_othersGrouper","topItems","restItems","restItemsSum","restKeys","othersLabel","ordering","kv","_computeOrderedGroups","rest","items","grouperFunction","MarginMixin","_margin","margins","GRID_LINE_CLASS","HORIZONTAL_CLASS","VERTICAL_CLASS","Y_AXIS_LABEL_CLASS","X_AXIS_LABEL_CLASS","CUSTOM_BRUSH_HANDLE_CLASS","DEFAULT_AXIS_LABEL_PADDING","CoordinateGridMixin","schemeCategory10","_mandatoryAttributes","_g","_chartBodyG","_origX","_xOriginalDomain","_xAxis","_xUnits","integers","_xAxisPadding","_xAxisPaddingUnit","_xElasticity","_xAxisLabel","_xAxisLabelPadding","_lastXDomain","_yAxis","_yAxisPadding","_yElasticity","_yAxisLabel","_yAxisLabelPadding","_brush","_gBrush","_brushOn","_parentBrushOn","_round","_ignoreBrushEvents","_renderHorizontalGridLine","_renderVerticalGridLine","_resizing","_unitCount","_zoomScale","_zoomOutRestrict","_zoom","_onZoom","_nullZoom","_hasBeenMouseZoomable","_ignoreZoomEvents","_rangeChart","_focusChart","_mouseZoomable","_clipPadding","_fOuterRangeBandPadding","_fRangeBandPadding","_useRightYAxis","_useTopXAxis","focusChart","href","_getClipPathId","gElement","xScale","_createXAxis","isOrdinal","xUnits","scaleBand","elasticX","_ordinalXDomain","xAxisMin","xAxisMax","xdom","xAxisLength","_useOuterPadding","_renderVerticalGridLines","axisXG","_xAxisY","axisXLab","axisXLabY","xAxisLabel","gridLineG","linesGEnter","effectiveWidth","labelText","elasticY","_min","yAxisMin","_max","yAxisMax","yAxisHeight","_createYAxis","_renderHorizontalGridLinesForAxis","axisClass","labelXPosition","axisYLab","labelYPosition","axisYG","axisPosition","_yAxisX","renderYAxisAt","labelPosition","renderYAxisLabel","yAxisLabel","useRightYAxis","yScale","effectiveHeight","redrawBrush","doTransition","_brushing","setBrushExtents","createBrushHandlePaths","gBrush","brushHandles","resizeHandlePath","extendBrush","rangedFilter","brushIsEmpty","RangedFilter","applyBrushSelection","replaceFilter","oldValue","_withoutBrushEvents","scaledSelection","fadeDeselectedArea","defs","chartBodyClip","resetSvg","_preprocessData","_generateG","_generateClipPath","_drawChart","_configureMouseZoom","_prepareXAxis","_prepareYAxis","plotData","renderXAxis","renderYAxis","renderBrush","resizing","_enableMouseZoom","_disableMouseZoom","zoomScaleMin","_updateD3zoomTransform","noRaiseEvents","domFilter","_hasRangeSelected","_invokeZoomedListener","origDomain","zoomIdentity","_withoutZoomEvents","_domainToZoomTransform","ext","outerLimits","_checkExtents","_zoomHandler","xOriginalDomain","brushOn","d3Box","whiskers","boxWhiskers","quartiles","boxQuartiles","renderDataPoints","dataRadius","dataOpacity","dataWidthPortion","showOutliers","boldOutlier","box","quartileData","whiskerIndices","whiskerData","_i","outlierIndices","pointIndices","__chart__","_box","medianLine","whisker","outlierClass","outlierSize","outlierX","outlier","boxTick","whiskerTick","StackMixin","_stackLayout","_stack","_titles","_hidableStacks","_evadeDomainFilter","layers","_visibility","_prepareValues","v4data","col","layer","stackLayout","ys","layerIdx","valAccessor","allValues","hidden","domainValues","_domainFilter","evadeDomainFilter","xDomain","stackName","_findLayerByName","_flattenStack","yAxisPadding","xAxisPadding","xAxisPaddingUnit","titleAccessor","flat","isLegendableHidden","showStack","hideStack","renderGroup","MIN_BAR_WIDTH","DEFAULT_GAP_BETWEEN_BARS","LABEL_PADDING","BarChart","_gap","_centerBar","_alwaysUseRounding","_barWidth","_outerRangeBandPadding","chartBodyG","_calculateBarWidth","last","_renderBars","_renderLabels","_barHeight","layerIndex","labelsEnterUpdate","_labelXPos","_labelYPos","bars","_barXPos","barsEnterUpdate","_makeKeyboardAccessible","numberOfBars","xUnitCount","barPadding","parentBrushOn","_rangeBandPadding","colorFilter","inv","barChart","defaultWhiskersIQR","q3","iqr","BoxPlot","_whiskerIqrFactor","_whiskersIqr","_whiskers","_tickFormat","_renderDataPoints","_dataOpacity","_dataWidthPortion","_showOutliers","_boldOutlier","_yRangePadding","_boxWidth","innerChartWidth","boxPadding","outerPadding","xOffset","_calculatedBoxWidth","boxesG","boxesGEnterUpdate","_renderBoxes","_updateBoxes","_removeBoxes","boxesGEnter","_boxTransform","_maxDataValue","_minDataValue","_yAxisRangeRatio","show","boxPlot","BubbleChart","_bubbleX","_bubbleY","calculateRadiusDomain","maxBubbleRelativeSize","bubbleG","sortBubbleSize","keyboardAccessible","_removeNodes","_renderNodes","_updateNodes","_bubbleLocator","_doRenderLabel","_doRenderTitles","doUpdateLabels","doUpdateTitles","bubbleChart","BUBBLE_OVERLAY_CLASS","BubbleOverlay","_points","_initOverlayG","_initializeBubbles","_mapData","nodeG","_getNodeG","bubbleNodeClass","_updateBubbles","flag","debugG","debugText","bubbleOverlay","GROUP_CSS_CLASS","ITEM_CSS_CLASS","CboxMenu","_cbox","_promptText","_multiple","_inputType","_promptValue","_uniqueId","_filterDisplayed","_order","_renderOptions","_onChange","checked","option","onChange","cboxMenu","SUB_CHART_CLASS","DEFAULT_RIGHT_Y_AXIS_LABEL_PADDING","CompositeChart","_children","_childOptions","_shareColors","_shareTitle","_alignYAxes","_rightYAxis","_rightYAxisLabel","_rightYAxisLabelPadding","_rightY","_rightAxisGridLines","_generateChildG","_leftYAxisChildren","_rightYAxisChildren","_calculateYAxisRanges","_prepareLeftYAxis","_prepareRightYAxis","yAxis","rightYAxis","rightYAxisLabel","lyAxisMin","lyAxisMax","ryAxisMin","ryAxisMax","_yAxisMin","_yAxisMax","_rightYAxisMin","_rightYAxisMax","alignYAxes","_alignYAxisRanges","extentRatio","needDomain","rightY","needRange","xAxis","subChartArray","prop","_setChildrenProperty","_getYAxisMin","_getYAxisMax","_getAllXAxisMinFromChildCharts","_getAllXAxisMaxFromChildCharts","legendables","legendHighlight","legendReset","compositeChart","DataCount","_formatNumber","_crossfilter","_groupAll","_html","formatter","tot","crossfilter","groupAll","selected","cf","dataCount","LABEL_CSS_CLASS","SECTION_CSS_CLASS","GRID_CSS_CLASS","DataGrid","_section","_size","_sortBy","_beginSlice","_endSlice","_htmlSection","_renderItems","_renderSections","sections","_nestEntries","itemSection","section","htmlSection","sortByFunction","dataGrid","ROW_CSS_CLASS","COLUMN_CSS_CLASS","HEAD_CSS_CLASS","DataTable","_columns","_showSections","_renderRows","_doColumnHeaderFnToString","_doColumnHeaderCapitalize","lastIndexOf","bAllFunctions","thead","headrow","headcols","_doColumnHeaderFormat","rowSection","rowEnter","_doColumnValueFormat","showSections","dataTable","GeoChoroplethChart","_geoPath","geoPath","_projectionFlag","_projection","_geoJsons","regionG","_geoJson","_getGeoPath","_plotData","_generateLayeredData","_isDataLayer","_renderRegionG","_renderPaths","_renderTitles","_layerSelector","_isSelected","_isDeselected","layerNameClass","regionClass","baseClasses","_getKey","currentFill","selectedRegion","geoAlbersUsa","geoJsons","geoChoroplethChart","DEFAULT_BORDER_RADIUS","HeatMap","_chartBody","_cols","_rows","_colOrdering","_rowOrdering","_colScale","_rowScale","_xBorderRadius","_yBorderRadius","_colsLabel","_rowsLabel","_xAxisOnClick","_filterAxis","_yAxisOnClick","_boxOnClick","TwoDimensionalFilter","cellsOnAxis","unfilteredCellsOnAxis","filtersList","nonstandardFilter","_filter","cols","rowCount","colCount","boxWidth","boxHeight","boxes","gEnter","boxOnClick","gCols","gColsText","xAxisOnClick","colsLabel","gRows","gRowsText","yAxisOnClick","rowsLabel","heatMap","HtmlLegend","_htmlLegendDivCssClass","_legendItemCssClassHorizontal","_legendItemCssClassVertical","_container","_legendText","_maxItems","_horizontal","_legendItemClass","_highlightSelected","_defaultLegendItemCssClass","legendItemClassName","itemEnter","legendToggle","_makeLegendKeyboardAccessible","htmlLegend","LABEL_GAP","Legend","_itemHeight","_legendWidth","_itemWidth","_autoItemWidth","cumulativeLegendTextWidth","itemWidth","getBBox","_legendItemHeight","legend","DEFAULT_DOT_RADIUS","TOOLTIP_G_CLASS","DOT_CIRCLE_CLASS","Y_AXIS_REF_LINE_CLASS","X_AXIS_REF_LINE_CLASS","DEFAULT_DOT_OPACITY","LineChart","_renderArea","_dotRadius","_dataPointRadius","_dataPointFillOpacity","_dataPointStrokeOpacity","_interpolate","_tension","_defined","_dashStyle","_xyTipsOn","chartBody","layersList","layersEnter","_drawLine","_drawArea","_drawDots","_drawLabels","curveLinearClosed","curveStep","curveStepBefore","curveStepAfter","curveBasis","curveBasisOpen","curveBasisClosed","curveBundle","curveCardinal","curveCardinalOpen","curveCardinalClosed","curveMonotoneX","_getCurveFactory","_getColor","_safeD","_area","xyTipsOn","tooltipListClass","tooltips","_createRefLines","dots","dotsEnterModify","_getDotRadius","dot","_showDot","_showRefLines","_hideDot","_hideRefLines","_doRenderTitle","labelsEnterModify","yAxisX","yAxisRefPathD","xAxisRefPathD","fillOpacity","strokeOpacity","dashstyle","item","_colorFilter","lineChart","SPAN_CLASS","NumberDisplay","_lastValue","_ariaLiveRegion","valObj","_maxBin","sorted","newValue","span","easeQuad","interpStart","interp","num","formatNumber","numberDisplay","DEFAULT_MIN_ANGLE_FOR_LABEL","PieChart","_sliceCssClass","_labelCssClass","_sliceGroupCssClass","_labelGroupCssClass","_emptyCssClass","_emptyTitle","_givenRadius","_innerRadius","_externalRadiusPadding","_minAngleForLabel","_externalLabelRadius","_drawPaths","cappedKeyAccessor","cappedValueAccessor","cap","maxRadius","pieData","_buildArcs","pieLayout","_pieLayout","slices","_removeElements","_createElements","_updateElements","_highlightFilter","slicesEnter","_createSliceNodes","_createSlicePath","_createTitles","_createLabels","slicePath","_fill","_onClick","_safeArc","tranNodes","_tweenPie","_sliceHasNoData","_sliceTooSmall","_isSelectedSlice","_applyLabelText","_labelPosition","whether","labelsEnter","classes","_highlightSlice","_positionLabels","_updateLabelPaths","polyline","arc2","_current","_updateSlicePaths","_updateLabels","_updateTitles","slicePaths","_arc","externalLabelRadius","legendable","_highlightSliceFromLegendable","highlighted","_isOffCanvas","pieChart","RowChart","_labelOffsetX","_labelOffsetY","_hasLabelOffsetY","_dyOffset","_titleLabelOffsetX","_fixedBarHeight","_rowCssClass","_titleRowCssClass","_renderTitleLabel","_elasticX","_rowData","rowsCap","_extent","axisG","_calculateAxisScale","_drawAxis","_drawGridLines","_isSelectedRow","_rootValue","_translateX","renderTitleLabel","titlelab","labelOffsety","rowChart","ScatterPlot","_symbol","_existenceAccessor","originalKeyAccessor","existenceAccessor","_highlightedSize","_symbolSize","_excludedSize","_excludedColor","_excludedOpacity","_emptySize","_emptyOpacity","_nonemptyOpacity","_emptyColor","_filtered","_canvas","_useCanvas","_elementSize","RangedTwoDimensionalFilter","svgSel","svgLeft","svgTop","getContext","imageSmoothingQuality","canvasElement","legendHighlightDatum","_resizeCanvas","clearRect","canvas","cOpacity","excludedOpacity","cColor","excludedColor","cSize","_canvasElementSize","isHighlighted","save","globalAlpha","beginPath","fillStyle","restore","_locator","_plotOnCanvas","_plotOnSVG","_d","emptySize","_resizeSymbolsWhere","condition","oldSize","coord","ranged2DFilter","scatterPlot","SELECT_CSS_CLASS","OPTION_CSS_CLASS","SelectMenu","_select","_numberVisible","_setAttributes","selectedOptions","numberVisible","selectMenu","SeriesChart","_keySort","_charts","_chartFunction","_seriesAccessor","_seriesSort","_valueSort","shareColors","childrenChanged","keep","sub","subChart","_clearChart","_compose","chartFunction","_resetChildren","sortFunction","seriesChart","SunburstChart","_ringSizes","_extendedValueAccessor","ringIndex","customRelativeRadius","ringSizes","relativeRingSizes","scaleFactor","standardRadius","rootOffset","partitionedNodes","cdata","_partitionNodes","sunburstData","_tweenSlice","partitionDy","scaleInnerRadius","scaleOuterRadius","relativeRingSizesFunction","ringCount","assertPortionsArray","relativeSizes","numberOfRings","portionsSum","_scaleRadius","defaultRingSizes","_isPathFiltered","pathFilter","HierarchyFilter","currentFilter","getSortable","_hierarchy","_partition","_filtersForPath","exactMatch","tweenTarget","sunburstChart","INPUT_CSS_CLASS","TextFilterWidget","_normalize","_filterFunctionFactory","query","_placeHolder","_input","textFilterWidget","_interopRequireDefault","_Reveal","_Fade","_Bounce","_Roll","_Slide","_Flip","_Rotate","_LightSpeed","_Zoom","Reveal","className","durationOut","delayOut","countOut","foreverOut","effect","effectOut","inEffect","outEffect","O","_extends","_Fade2","in","oneOfType","oneOf","defaultProps","Bounce","Roll","Flip","backfaceVisibility","Rotate","LightSpeed","Zoom","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","method","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","len","arr2","array8","arrayUntyped","array16","array32","arrayLengthen","arrayLengthenUntyped","arrayWiden","arrayWidenUntyped","bitarray","subarrays","masks","0","Uint8Array","Uint16Array","lengthen","dest","truncate","zeroExcept","zeroExceptMask","mask","only","onlyExcept","onlyOffset","onlyOne","heap_by","heap","sift","heapselect_by","xFilterHeap","queue","bisect_by","reg","action","REMOVED_INDEX","xfilterHeap","heapselect","xfilterHeapselect","removeData","allFiltered","isElementFiltered","filterListeners","dataListeners","removeDataListeners","callbacks","newData","triggerOnChange","predicate","newIndex","removed","usePred","index1","index2","index3","index4","maskForDimensions","dimensions","ignore_dimensions","accessorPath","newValues","iterablesIndexCount","iterablesIndexFilterStatus","refilterFunction","filterValue","filterValuePresent","hasCurrentFilter","top_offset","hi0","toSkip","lo0","iterablesEmptyRows","bottom_offset","cr_null","orderNatural","dispose","sortRange","cr_range","refilter","xfilterFilter","indexListeners","dimensionGroups","preAdd","postAdd","newIterablesIndexCount","newIterablesIndexFilterStatus","cr_index","unsortedIndex","sortMap","lo1","hi1","old_n0","oldValues","oldIndex","oldIterablesIndexFilterStatus","oldiiclength","xfilterArray","index5","reIndex","oldDataIndex","filterIndexBounds","filterIndexFunction","added","valueIndexAdded","valueIndexRemoved","newAdded","newRemoved","indexLength","reduceCount","reduceSum","reduceAdd","reduceRemove","reduceInitial","n0old","groupWidth","groupCapacity","capacity","resetNeeded","g0","oldGroups","initial","groupIncrement","updateMany","resetMany","updateOne","resetOne","oldK","seenGroups","filterOne","filterOffset","notFilter","xfilterReduce","cr_zero","cr_identity","reduceValue","eventName","superPropBase","_get","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","isNativeReflectConstruct","possibleConstructorReturn","_typeof","assertThisInitialized","isNativeFunction","_wrapNativeSuper","_construct"],"mappings":"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","file":"static/js/2.d880c322.chunk.js","sourcesContent":["export var name = \"d3\";\nexport var version = \"6.6.2\";\nexport var description = \"Data-Driven Documents\";\nexport var keywords = [\"dom\",\"visualization\",\"svg\",\"animation\",\"canvas\"];\nexport var homepage = \"https://d3js.org\";\nexport var license = \"BSD-3-Clause\";\nexport var author = {\"name\":\"Mike Bostock\",\"url\":\"https://bost.ocks.org/mike\"};\nexport var main = \"dist/d3.node.js\";\nexport var unpkg = \"dist/d3.min.js\";\nexport var jsdelivr = \"dist/d3.min.js\";\nexport var module = \"index.js\";\nexport var repository = {\"type\":\"git\",\"url\":\"https://github.com/d3/d3.git\"};\nexport var files = [\"dist/**/*.js\",\"index.js\"];\nexport var scripts = {\"pretest\":\"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c\",\"test\":\"tape 'test/**/*-test.js'\",\"prepublishOnly\":\"yarn test\",\"postpublish\":\"git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v${npm_package_version%%.*}.js && cp ../d3/dist/d3.min.js d3.v${npm_package_version%%.*}.min.js && git add d3.v${npm_package_version%%.*}.js d3.v${npm_package_version%%.*}.min.js && git commit -m \\\"d3 ${npm_package_version}\\\" && git push && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js\"};\nexport var devDependencies = {\"json2module\":\"0.0\",\"rimraf\":\"3\",\"rollup\":\"2\",\"rollup-plugin-ascii\":\"0.0\",\"rollup-plugin-node-resolve\":\"5\",\"rollup-plugin-terser\":\"7\",\"tape\":\"4\",\"tape-await\":\"0.1\"};\nexport var dependencies = {\"d3-array\":\"2\",\"d3-axis\":\"2\",\"d3-brush\":\"2\",\"d3-chord\":\"2\",\"d3-color\":\"2\",\"d3-contour\":\"2\",\"d3-delaunay\":\"5\",\"d3-dispatch\":\"2\",\"d3-drag\":\"2\",\"d3-dsv\":\"2\",\"d3-ease\":\"2\",\"d3-fetch\":\"2\",\"d3-force\":\"2\",\"d3-format\":\"2\",\"d3-geo\":\"2\",\"d3-hierarchy\":\"2\",\"d3-interpolate\":\"2\",\"d3-path\":\"2\",\"d3-polygon\":\"2\",\"d3-quadtree\":\"2\",\"d3-random\":\"2\",\"d3-scale\":\"3\",\"d3-scale-chromatic\":\"2\",\"d3-selection\":\"2\",\"d3-shape\":\"2\",\"d3-time\":\"2\",\"d3-time-format\":\"3\",\"d3-timer\":\"2\",\"d3-transition\":\"2\",\"d3-zoom\":\"2\"};\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n","export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(value);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export default function(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","export default function(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f = ascending] = F;\n  if (f.length === 1 || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascending(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascending(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(f);\n}\n","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length === 1\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","import count from \"../count.js\";\n\nexport default function(values) {\n  return Math.ceil(Math.log(count(values)) / Math.LN2) + 1;\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the last threshold is coincident with the domain’s upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we don’t\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(count(values), -1 / 3)));\n}\n","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(count(values), -1 / 3)));\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import quantile from \"./quantile.js\";\n\nexport default function(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, minValue) < 0\n          : ascending(value, value) === 0) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, min) < 0\n          : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport minIndex from \"./minIndex.js\";\n\nexport default function leastIndex(values, compare = ascending) {\n  if (compare.length === 1) return minIndex(values, compare);\n  let minValue;\n  let min = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (min < 0\n        ? compare(value, value) === 0\n        : compare(value, minValue) < 0) {\n      minValue = value;\n      min = index;\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import ascending from \"./ascending.js\";\nimport maxIndex from \"./maxIndex.js\";\n\nexport default function greatestIndex(values, compare = ascending) {\n  if (compare.length === 1) return maxIndex(values, compare);\n  let maxValue;\n  let max = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (max < 0\n        ? compare(value, value) === 0\n        : compare(value, maxValue) > 0) {\n      maxValue = value;\n      max = index;\n    }\n  }\n  return max;\n}\n","import leastIndex from \"./leastIndex.js\";\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n","export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import min from \"./min.js\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import transpose from \"./transpose.js\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","export default function every(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (!test(value, ++index, values)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export default function some(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      return true;\n    }\n  }\n  return false;\n}\n","export default function filter(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  const array = [];\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      array.push(value);\n    }\n  }\n  return array;\n}\n","export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n","export default function reduce(values, reducer, value) {\n  if (typeof reducer !== \"function\") throw new TypeError(\"reducer is not a function\");\n  const iterator = values[Symbol.iterator]();\n  let done, next, index = -1;\n  if (arguments.length < 3) {\n    ({done, value} = iterator.next());\n    if (done) return;\n    ++index;\n  }\n  while (({done, value: next} = iterator.next()), !done) {\n    value = reducer(value, next, ++index, values);\n  }\n  return value;\n}\n","export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n","export default function difference(values, ...others) {\n  values = new Set(values);\n  for (const other of others) {\n    for (const value of other) {\n      values.delete(value);\n    }\n  }\n  return values;\n}\n","export default function disjoint(values, other) {\n  const iterator = other[Symbol.iterator](), set = new Set();\n  for (const v of values) {\n    if (set.has(v)) return false;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) break;\n      if (Object.is(v, value)) return false;\n      set.add(value);\n    }\n  }\n  return true;\n}\n","export default function set(values) {\n  return values instanceof Set ? values : new Set(values);\n}\n","import set from \"./set.js\";\n\nexport default function intersection(values, ...others) {\n  values = new Set(values);\n  others = others.map(set);\n  out: for (const value of values) {\n    for (const other of others) {\n      if (!other.has(value)) {\n        values.delete(value);\n        continue out;\n      }\n    }\n  }\n  return values;\n}\n","export default function superset(values, other) {\n  const iterator = values[Symbol.iterator](), set = new Set();\n  for (const o of other) {\n    if (set.has(o)) continue;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) return false;\n      set.add(value);\n      if (Object.is(o, value)) break;\n    }\n  }\n  return true;\n}\n","import superset from \"./superset.js\";\n\nexport default function subset(values, other) {\n  return superset(other, values);\n}\n","export default function union(...others) {\n  const set = new Set();\n  for (const other of others) {\n    for (const o of other) {\n      set.add(o);\n    }\n  }\n  return set;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array.js\";\nimport identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    var group = select.apply(this, arguments);\n    return group == null ? [] : array(group);\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return this.children;\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport array from \"../array.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = array(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(selection) {\n  if (!(selection instanceof Selection)) throw new Error(\"invalid merge\");\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move();\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export var abs = Math.abs;\nexport var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\nexport var epsilon = 1e-12;\n","import {max, tau} from \"./math.js\";\n\nfunction range(i, j) {\n  return Array.from({length: j - i}, (_, k) => i + k);\n}\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  return chord(false, false);\n}\n\nexport function chordTranspose() {\n  return chord(false, true);\n}\n\nexport function chordDirected() {\n  return chord(true, false);\n}\n\nfunction chord(directed, transpose) {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = new Array(n),\n        groupIndex = range(0, n),\n        chords = new Array(n * n),\n        groups = new Array(n),\n        k = 0, dx;\n\n    matrix = Float64Array.from({length: n * n}, transpose\n        ? (_, i) => matrix[i % n][i / n | 0]\n        : (_, i) => matrix[i / n | 0][i % n]);\n\n    // Compute the scaling factor from value to angle in [0, 2pi].\n    for (let i = 0; i < n; ++i) {\n      let x = 0;\n      for (let j = 0; j < n; ++j) x += matrix[i * n + j] + directed * matrix[j * n + i];\n      k += groupSums[i] = x;\n    }\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the angles for each group and constituent chord.\n    {\n      let x = 0;\n      if (sortGroups) groupIndex.sort((a, b) => sortGroups(groupSums[a], groupSums[b]));\n      for (const i of groupIndex) {\n        const x0 = x;\n        if (directed) {\n          const subgroupIndex = range(~n + 1, n).filter(j => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(a < 0 ? -matrix[~a * n + i] : matrix[i * n + a], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            if (j < 0) {\n              const chord = chords[~j * n + i] || (chords[~j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[~j * n + i] * k, value: matrix[~j * n + i]};\n            } else {\n              const chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        } else {\n          const subgroupIndex = range(0, n).filter(j => matrix[i * n + j] || matrix[j * n + i]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(matrix[i * n + a], matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            let chord;\n            if (i < j) {\n              chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            } else {\n              chord = chords[j * n + i] || (chords[j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n              if (i === j) chord.source = chord.target;\n            }\n            if (chord.source && chord.target && chord.source.value < chord.target.value) {\n              const source = chord.source;\n              chord.source = chord.target;\n              chord.target = source;\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        }\n        x += dx;\n      }\n    }\n\n    // Remove empty chords.\n    chords = Object.values(chords);\n    chords.groups = groups;\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {abs, cos, epsilon, halfPi, sin} from \"./math.js\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction defaultPadAngle() {\n  return 0;\n}\n\nfunction defaultArrowheadRadius() {\n  return 10;\n}\n\nfunction ribbon(headRadius) {\n  var source = defaultSource,\n      target = defaultTarget,\n      sourceRadius = defaultRadius,\n      targetRadius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      padAngle = defaultPadAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        s = source.apply(this, arguments),\n        t = target.apply(this, arguments),\n        ap = padAngle.apply(this, arguments) / 2,\n        argv = slice.call(arguments),\n        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        tr = +targetRadius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    if (ap > epsilon) {\n      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);\n      else sa0 = sa1 = (sa0 + sa1) / 2;\n      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);\n      else ta0 = ta1 = (ta0 + ta1) / 2;\n    }\n\n    context.moveTo(sr * cos(sa0), sr * sin(sa0));\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      if (headRadius) {\n        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;\n        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));\n        context.lineTo(tr * cos(ta2), tr * sin(ta2));\n        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));\n      } else {\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n    }\n    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  if (headRadius) ribbon.headRadius = function(_) {\n    return arguments.length ? (headRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : headRadius;\n  };\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (sourceRadius = targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.sourceRadius = function(_) {\n    return arguments.length ? (sourceRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.targetRadius = function(_) {\n    return arguments.length ? (targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : targetRadius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : padAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n\nexport default function() {\n  return ribbon();\n}\n\nexport function ribbonArrow() {\n  return ribbon(defaultArrowheadRadius);\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","var array = Array.prototype;\n\nexport var slice = array.slice;\n","export default function(a, b) {\n  return a - b;\n}\n","export default x => () => x;\n","export default function(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) if (c = ringContains(ring, hole[i])) return c;\n  return 0;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) return 0;\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) contains = -contains;\n  }\n  return contains;\n}\n\nfunction segmentContains(a, b, c) {\n  var i; return collinear(a, b, c) && within(a[i = +(a[0] === b[0])], c[i], b[i]);\n}\n\nfunction collinear(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) === (c[0] - a[0]) * (b[1] - a[1]);\n}\n\nfunction within(p, q, r) {\n  return p <= q && q <= r || r <= q && q <= p;\n}\n","export default function() {}\n","import {extent, thresholdSturges, tickStep, range} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport ascending from \"./ascending.js\";\nimport area from \"./area.js\";\nimport constant from \"./constant.js\";\nimport contains from \"./contains.js\";\nimport noop from \"./noop.js\";\n\nvar cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      var domain = extent(values), start = domain[0], stop = domain[1];\n      tz = tickStep(start, stop, tz);\n      tz = range(Math.floor(start / tz) * tz, Math.floor(stop / tz) * tz, tz);\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(function(value) {\n      return contour(values, value);\n    });\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    var polygons = [],\n        holes = [];\n\n    isorings(values, value, function(ring) {\n      smooth(ring, values, value);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(function(hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = values[0] >= value;\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = values[x + 1] >= value;\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = values[y * dx + dx] >= value;\n      t2 = values[y * dx] >= value;\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = values[y * dx + dx + x + 1] >= value;\n        t3 = t2, t2 = values[y * dx + x + 1] >= value;\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = values[y * dx + x + 1] >= value;\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function(point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v0,\n          v1 = values[yt * dx + xt];\n      if (x > 0 && x < dx && xt === x) {\n        v0 = values[yt * dx + xt - 1];\n        point[0] = x + (value - v0) / (v1 - v0) - 0.5;\n      }\n      if (y > 0 && y < dy && yt === y) {\n        v0 = values[(yt - 1) * dx + xt];\n        point[1] = y + (value - v0) / (v1 - v0) - 0.5;\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.floor(_[0]), _1 = Math.floor(_[1]);\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n","export default function(ring) {\n  var i = 0, n = ring.length, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area;\n}\n","// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurX(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var j = 0; j < m; ++j) {\n    for (var i = 0, sr = 0; i < n + r; ++i) {\n      if (i < n) {\n        sr += source.data[i + j * n];\n      }\n      if (i >= r) {\n        if (i >= w) {\n          sr -= source.data[i - w + j * n];\n        }\n        target.data[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w - i, w);\n      }\n    }\n  }\n}\n\n// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurY(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0, sr = 0; j < m + r; ++j) {\n      if (j < m) {\n        sr += source.data[i + j * n];\n      }\n      if (j >= r) {\n        if (j >= w) {\n          sr -= source.data[i + (j - w) * n];\n        }\n        target.data[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w - j, w);\n      }\n    }\n  }\n}\n","import {max, range, tickStep} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport {blurX, blurY} from \"./blur.js\";\nimport constant from \"./constant.js\";\nimport contours from \"./contours.js\";\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction defaultWeight() {\n  return 1;\n}\n\nexport default function() {\n  var x = defaultX,\n      y = defaultY,\n      weight = defaultWeight,\n      dx = 960,\n      dy = 500,\n      r = 20, // blur radius\n      k = 2, // log2(grid cell size)\n      o = r * 3, // grid offset, to pad for blur\n      n = (dx + o * 2) >> k, // grid width\n      m = (dy + o * 2) >> k, // grid height\n      threshold = constant(20);\n\n  function density(data) {\n    var values0 = new Float32Array(n * m),\n        values1 = new Float32Array(n * m);\n\n    data.forEach(function(d, i, data) {\n      var xi = (+x(d, i, data) + o) >> k,\n          yi = (+y(d, i, data) + o) >> k,\n          wi = +weight(d, i, data);\n      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        values0[xi + yi * n] += wi;\n      }\n    });\n\n    // TODO Optimize.\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n\n    var tz = threshold(values0);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      var stop = max(values0);\n      tz = tickStep(0, stop, tz);\n      tz = range(0, Math.floor(stop / tz) * tz, tz);\n      tz.shift();\n    }\n\n    return contours()\n        .thresholds(tz)\n        .size([n, m])\n      (values0)\n        .map(transform);\n  }\n\n  function transform(geometry) {\n    geometry.value *= Math.pow(2, -2 * k); // Density in points per square pixel.\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  }\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    coordinates.forEach(transformPoint);\n  }\n\n  // TODO Optimize.\n  function transformPoint(coordinates) {\n    coordinates[0] = coordinates[0] * Math.pow(2, k) - o;\n    coordinates[1] = coordinates[1] * Math.pow(2, k) - o;\n  }\n\n  function resize() {\n    o = r * 3;\n    n = (dx + o * 2) >> k;\n    m = (dy + o * 2) >> k;\n    return density;\n  }\n\n  density.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), density) : x;\n  };\n\n  density.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), density) : y;\n  };\n\n  density.weight = function(_) {\n    return arguments.length ? (weight = typeof _ === \"function\" ? _ : constant(+_), density) : weight;\n  };\n\n  density.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = +_[0], _1 = +_[1];\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, resize();\n  };\n\n  density.cellSize = function(_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) throw new Error(\"invalid cell size\");\n    return k = Math.floor(Math.log(_) / Math.LN2), resize();\n  };\n\n  density.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), density) : threshold;\n  };\n\n  density.bandwidth = function(_) {\n    if (!arguments.length) return Math.sqrt(r * (r + 1));\n    if (!((_ = +_) >= 0)) throw new Error(\"invalid bandwidth\");\n    return r = Math.round((Math.sqrt(4 * _ * _ + 1) - 1) / 2), resize();\n  };\n\n  return density;\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const bl = dx * dx + dy * dy;\n      const cl = ex * ex + ey * ey;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (!ab) {\n        // degenerate case (collinear diagram)\n        x = (x1 + x3) / 2 - 1e8 * ey;\n        y = (y1 + y3) / 2 + 1e8 * ex;\n      }\n      else if (Math.abs(ab) < 1e-8) {\n        // almost equal points (degenerate triangle)\n        x = (x1 + x3) / 2;\n        y = (y1 + y3) / 2;\n      } else {\n        const d = 1 / ab;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // nobreak\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","export const linear = t => +t;\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import text from \"./text.js\";\n\nfunction parser(type) {\n  return (input, init) => text(input, init)\n    .then(text => (new DOMParser).parseFromString(text, type));\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {Adder} from \"d3-array\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum,\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum = new Adder();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import {Adder} from \"d3-array\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum,\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum = new Adder();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","export default x => x;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  const n = points.length,\n      indexes = [0, 1];\n  let size = 2, i;\n\n  for (i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.hypot(xa, ya);\n  }\n\n  return perimeter;\n}\n","export default Math.random;\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomInt(source) {\n  function randomInt(min, max) {\n    if (arguments.length < 2) max = min, min = 0;\n    min = Math.floor(min);\n    max = Math.floor(max) - min;\n    return function() {\n      return Math.floor(source() * max + min);\n    };\n  }\n\n  randomInt.source = sourceRandomInt;\n\n  return randomInt;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomLogNormal(source) {\n  var N = normal.source(source);\n\n  function randomLogNormal() {\n    var randomNormal = N.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    if ((n = +n) <= 0) return () => 0;\n    return function() {\n      for (var sum = 0, i = n; i > 1; --i) sum += source();\n      return sum + i * source();\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport irwinHall from \"./irwinHall.js\";\n\nexport default (function sourceRandomBates(source) {\n  var I = irwinHall.source(source);\n\n  function randomBates(n) {\n    // use limiting distribution at n === 0\n    if ((n = +n) === 0) return source;\n    var randomIrwinHall = I(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log1p(-source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomPareto(source) {\n  function randomPareto(alpha) {\n    if ((alpha = +alpha) < 0) throw new RangeError(\"invalid alpha\");\n    alpha = 1 / -alpha;\n    return function() {\n      return Math.pow(1 - source(), alpha);\n    };\n  }\n\n  randomPareto.source = sourceRandomPareto;\n\n  return randomPareto;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomBernoulli(source) {\n  function randomBernoulli(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    return function() {\n      return Math.floor(source() + p);\n    };\n  }\n\n  randomBernoulli.source = sourceRandomBernoulli;\n\n  return randomBernoulli;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomGeometric(source) {\n  function randomGeometric(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    if (p === 0) return () => Infinity;\n    if (p === 1) return () => 1;\n    p = Math.log1p(-p);\n    return function() {\n      return 1 + Math.floor(Math.log1p(-source()) / p);\n    };\n  }\n\n  randomGeometric.source = sourceRandomGeometric;\n\n  return randomGeometric;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomGamma(source) {\n  var randomNormal = normal.source(source)();\n\n  function randomGamma(k, theta) {\n    if ((k = +k) < 0) throw new RangeError(\"invalid k\");\n    // degenerate distribution if k === 0\n    if (k === 0) return () => 0;\n    theta = theta == null ? 1 : +theta;\n    // exponential distribution if k === 1\n    if (k === 1) return () => -Math.log1p(-source()) * theta;\n\n    var d = (k < 1 ? k + 1 : k) - 1 / 3,\n        c = 1 / (3 * Math.sqrt(d)),\n        multiplier = k < 1 ? () => Math.pow(source(), 1 / k) : () => 1;\n    return function() {\n      do {\n        do {\n          var x = randomNormal(),\n              v = 1 + c * x;\n        } while (v <= 0);\n        v *= v * v;\n        var u = 1 - source();\n      } while (u >= 1 - 0.0331 * x * x * x * x && Math.log(u) >= 0.5 * x * x + d * (1 - v + Math.log(v)));\n      return d * v * multiplier() * theta;\n    };\n  }\n\n  randomGamma.source = sourceRandomGamma;\n\n  return randomGamma;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomBeta(source) {\n  var G = gamma.source(source);\n\n  function randomBeta(alpha, beta) {\n    var X = G(alpha),\n        Y = G(beta);\n    return function() {\n      var x = X();\n      return x === 0 ? 0 : x / (x + Y());\n    };\n  }\n\n  randomBeta.source = sourceRandomBeta;\n\n  return randomBeta;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport beta from \"./beta.js\";\nimport geometric from \"./geometric.js\";\n\nexport default (function sourceRandomBinomial(source) {\n  var G = geometric.source(source),\n      B = beta.source(source);\n\n  function randomBinomial(n, p) {\n    n = +n;\n    if ((p = +p) >= 1) return () => n;\n    if (p <= 0) return () => 0;\n    return function() {\n      var acc = 0, nn = n, pp = p;\n      while (nn * pp > 16 && nn * (1 - pp) > 16) {\n        var i = Math.floor((nn + 1) * pp),\n            y = B(i, nn - i + 1)();\n        if (y <= pp) {\n          acc += i;\n          nn -= i;\n          pp = (pp - y) / (1 - y);\n        } else {\n          nn = i - 1;\n          pp /= y;\n        }\n      }\n      var sign = pp < 0.5,\n          pFinal = sign ? pp : 1 - pp,\n          g = G(pFinal);\n      for (var s = g(), k = 0; s <= nn; ++k) s += g();\n      return acc + (sign ? k : nn - k);\n    };\n  }\n\n  randomBinomial.source = sourceRandomBinomial;\n\n  return randomBinomial;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomWeibull(source) {\n  function randomWeibull(k, a, b) {\n    var outerFunc;\n    if ((k = +k) === 0) {\n      outerFunc = x => -Math.log(x);\n    } else {\n      k = 1 / k;\n      outerFunc = x => Math.pow(x, k);\n    }\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * outerFunc(-Math.log1p(-source()));\n    };\n  }\n\n  randomWeibull.source = sourceRandomWeibull;\n\n  return randomWeibull;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomCauchy(source) {\n  function randomCauchy(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * Math.tan(Math.PI * source());\n    };\n  }\n\n  randomCauchy.source = sourceRandomCauchy;\n\n  return randomCauchy;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomLogistic(source) {\n  function randomLogistic(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      var u = source();\n      return a + b * Math.log(u / (1 - u));\n    };\n  }\n\n  randomLogistic.source = sourceRandomLogistic;\n\n  return randomLogistic;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst mul = 0x19660D;\nconst inc = 0x3C6EF35F;\nconst eps = 1 / 0x100000000;\n\nexport default function lcg(seed = Math.random()) {\n  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;\n  return () => (state = mul * state + inc | 0, eps * (state >>> 0));\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import continuous from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\n\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\n\nexport default function radial() {\n  var squared = continuous(),\n      range = [0, 1],\n      round = false,\n      unknown;\n\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n\n  scale.invert = function(y) {\n    return squared.invert(square(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return scale.range(_).round(true);\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return radial(squared.domain(), range)\n        .round(round)\n        .clamp(squared.clamp())\n        .unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target),\n          step;\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n      return interval.every(step);\n    }\n\n    return interval;\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1]))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import {calendar} from \"./time.js\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : array(selector)], root);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function(type, size) {\n  var context = null;\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","class Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  t._restart = t.restart;\n  t.restart = function(callback, delay, time) {\n    delay = +delay, time = time == null ? now() : +time;\n    t._restart(function tick(elapsed) {\n      elapsed += total;\n      t._restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n  }\n  t.restart(callback, delay, time);\n  return t;\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        currentTarget = event.currentTarget,\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","module.exports = require(\"regenerator-runtime\");\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","\"use strict\";function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties(o,e){var r={};for(var t in o)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t]);return r}function make(o,e){var r=e.left,t=e.right,p=e.up,l=e.down,u=e.top,a=e.bottom,i=e.big,n=e.mirror,s=e.opposite,d=(r?1:0)|(t?2:0)|(u||l?4:0)|(a||p?8:0)|(n?16:0)|(s?32:0)|(o?64:0)|(i?128:0);if(lookup.hasOwnProperty(d))return lookup[d];var _=r||t||p||l||u||a,f=void 0,b=void 0;if(_){if(!n!=!(o&&s)){var y=[t,r,a,u,l,p];r=y[0],t=y[1],u=y[2],a=y[3],p=y[4],l=y[5]}var m=i?\"2000px\":\"100%\";f=r?\"-\"+m:t?m:\"0\",b=l||u?\"-\"+m:p||a?m:\"0\"}return lookup[d]=(0,_globals.animation)((o?\"to\":\"from\")+\" {\"+(_?\" transform: translate3d(\"+f+\", \"+b+\", 0);\":\"\")+\"}\\n     \"+(o?\"from\":\"to\")+\" {transform: none;} \"),lookup[d]}function Slide(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_globals.defaults,e=o.children,r=(o.out,o.forever),t=o.timeout,p=o.duration,l=void 0===p?_globals.defaults.duration:p,u=o.delay,a=void 0===u?_globals.defaults.delay:u,i=o.count,n=void 0===i?_globals.defaults.count:i,s=_objectWithoutProperties(o,[\"children\",\"out\",\"forever\",\"timeout\",\"duration\",\"delay\",\"count\"]),d={make:make,duration:void 0===t?l:t,delay:a,forever:r,count:n,style:{animationFillMode:\"both\"},reverse:s.left};return(0,_wrap2.default)(s,d,d,e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _propTypes=require(\"prop-types\"),_wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_globals=require(\"./globals\"),propTypes={out:_propTypes.bool,left:_propTypes.bool,right:_propTypes.bool,top:_propTypes.bool,bottom:_propTypes.bool,big:_propTypes.bool,mirror:_propTypes.bool,opposite:_propTypes.bool,duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool},lookup={};Slide.propTypes=propTypes,exports.default=Slide,module.exports=exports.default;","\nexport class BadArgumentException extends Error { }\n","export const constants = {\n    CHART_CLASS: 'dc-chart',\n    DEBUG_GROUP_CLASS: 'debug',\n    STACK_CLASS: 'stack',\n    DESELECTED_CLASS: 'deselected',\n    SELECTED_CLASS: 'selected',\n    NODE_INDEX_NAME: '__index__',\n    GROUP_INDEX_NAME: '__group_index__',\n    DEFAULT_CHART_GROUP: '__default_chart_group__',\n    EVENT_DELAY: 40,\n    NEGLIGIBLE_NUMBER: 1e-10\n};\n","/**\n * Provides basis logging and deprecation utilities\n */\nexport class Logger {\n\n    constructor () {\n        /**\n         * Enable debug level logging. Set to `false` by default.\n         * @name enableDebugLog\n         * @memberof Logger\n         * @instance\n         */\n        this.enableDebugLog = false;\n\n        this._alreadyWarned = {};\n    }\n\n    /**\n     * Put a warning message to console\n     * @example\n     * logger.warn('Invalid use of .tension on CurveLinear');\n     * @param {String} [msg]\n     * @returns {Logger}\n     */\n    warn (msg) {\n        if (console) {\n            if (console.warn) {\n                console.warn(msg);\n            } else if (console.log) {\n                console.log(msg);\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * Put a warning message to console. It will warn only on unique messages.\n     * @example\n     * logger.warnOnce('Invalid use of .tension on CurveLinear');\n     * @param {String} [msg]\n     * @returns {Logger}\n     */\n    warnOnce (msg) {\n        if (!this._alreadyWarned[msg]) {\n            this._alreadyWarned[msg] = true;\n\n            logger.warn(msg);\n        }\n\n        return this;\n    }\n\n    /**\n     * Put a debug message to console. It is controlled by `logger.enableDebugLog`\n     * @example\n     * logger.debug('Total number of slices: ' + numSlices);\n     * @param {String} [msg]\n     * @returns {Logger}\n     */\n    debug (msg) {\n        if (this.enableDebugLog && console) {\n            if (console.debug) {\n                console.debug(msg);\n            } else if (console.log) {\n                console.log(msg);\n            }\n        }\n\n        return this;\n    }\n}\n\nexport const logger = new Logger();\n","import {timeFormat} from 'd3-time-format';\n\nimport {logger} from './logger';\n\n/**\n * General configuration\n */\nexport class Config {\n    constructor () {\n        this._defaultColors = Config._schemeCategory20c;\n\n        /**\n         * The default date format for dc.js\n         * @type {Function}\n         * @default d3.timeFormat('%m/%d/%Y')\n         */\n        this.dateFormat = timeFormat('%m/%d/%Y');\n\n        this._renderlet = null;\n\n        /**\n         * If this boolean is set truthy, all transitions will be disabled, and changes to the charts will happen\n         * immediately.\n         * @type {Boolean}\n         * @default false\n         */\n        this.disableTransitions = false;\n    }\n\n    /**\n     * Set the default color scheme for ordinal charts. Changing it will impact all ordinal charts.\n     *\n     * By default it is set to a copy of\n     * `d3.schemeCategory20c` for backward compatibility. This color scheme has been\n     * [removed from D3v5](https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50).\n     * In DC 3.1 release it will change to a more appropriate default.\n     *\n     * @example\n     * config.defaultColors(d3.schemeSet1)\n     * @param {Array} [colors]\n     * @returns {Array|config}\n     */\n    defaultColors (colors) {\n        if (!arguments.length) {\n            // Issue warning if it uses _schemeCategory20c\n            if (this._defaultColors === Config._schemeCategory20c) {\n                logger.warnOnce('You are using d3.schemeCategory20c, which has been removed in D3v5. ' +\n                    'See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. ' +\n                    'DC is using it for backward compatibility, however it will be changed in DCv3.1. ' +\n                    'You can change it by calling dc.config.defaultColors(newScheme). ' +\n                    'See https://github.com/d3/d3-scale-chromatic for some alternatives.');\n            }\n            return this._defaultColors;\n        }\n        this._defaultColors = colors;\n        return this;\n    }\n\n}\n\n// D3v5 has removed schemeCategory20c, copied here for backward compatibility\nConfig._schemeCategory20c = [\n    '#3182bd', '#6baed6', '#9ecae1', '#c6dbef', '#e6550d',\n    '#fd8d3c', '#fdae6b', '#fdd0a2', '#31a354', '#74c476',\n    '#a1d99b', '#c7e9c0', '#756bb1', '#9e9ac8', '#bcbddc',\n    '#dadaeb', '#636363', '#969696', '#bdbdbd', '#d9d9d9'];\n\n/**\n * General configuration object; see {@link Config} for members.\n */\nexport const config = new Config();\n","import {constants} from './constants';\nimport {config} from './config';\n\n/**\n * The ChartRegistry maintains sets of all instantiated dc.js charts under named groups\n * and the default group. There is a single global ChartRegistry object named `chartRegistry`\n *\n * A chart group often corresponds to a crossfilter instance. It specifies\n * the set of charts which should be updated when a filter changes on one of the charts or when the\n * global functions {@link filterAll filterAll}, {@link refocusAll refocusAll},\n * {@link renderAll renderAll}, {@link redrawAll redrawAll}, or chart functions\n * {@link baseMixin#renderGroup baseMixin.renderGroup},\n * {@link baseMixin#redrawGroup baseMixin.redrawGroup} are called.\n */\nclass ChartRegistry {\n    constructor () {\n        // chartGroup:string => charts:array\n        this._chartMap = {};\n    }\n\n    _initializeChartGroup (group) {\n        if (!group) {\n            group = constants.DEFAULT_CHART_GROUP;\n        }\n\n        if (!(this._chartMap)[group]) {\n            (this._chartMap)[group] = [];\n        }\n\n        return group;\n    }\n\n    /**\n     * Determine if a given chart instance resides in any group in the registry.\n     * @param {Object} chart dc.js chart instance\n     * @returns {Boolean}\n     */\n    has (chart) {\n        for (const e in this._chartMap) {\n            if ((this._chartMap)[e].indexOf(chart) >= 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Add given chart instance to the given group, creating the group if necessary.\n     * If no group is provided, the default group `constants.DEFAULT_CHART_GROUP` will be used.\n     * @param {Object} chart dc.js chart instance\n     * @param {String} [group] Group name\n     * @return {undefined}\n     */\n    register (chart, group) {\n        const _chartMap = this._chartMap;\n        group = this._initializeChartGroup(group);\n        _chartMap[group].push(chart);\n    }\n\n    /**\n     * Remove given chart instance from the given group, creating the group if necessary.\n     * If no group is provided, the default group `constants.DEFAULT_CHART_GROUP` will be used.\n     * @param {Object} chart dc.js chart instance\n     * @param {String} [group] Group name\n     * @return {undefined}\n     */\n    deregister (chart, group) {\n        group = this._initializeChartGroup(group);\n        for (let i = 0; i < (this._chartMap)[group].length; i++) {\n            if ((this._chartMap)[group][i].anchorName() === chart.anchorName()) {\n                (this._chartMap)[group].splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Clear given group if one is provided, otherwise clears all groups.\n     * @param {String} group Group name\n     * @return {undefined}\n     */\n    clear (group) {\n        if (group) {\n            delete (this._chartMap)[group];\n        } else {\n            this._chartMap = {};\n        }\n    }\n\n    /**\n     * Get an array of each chart instance in the given group.\n     * If no group is provided, the charts in the default group are returned.\n     * @param {String} [group] Group name\n     * @returns {Array<Object>}\n     */\n    list (group) {\n        group = this._initializeChartGroup(group);\n        return (this._chartMap)[group];\n    }\n}\n\n/**\n * The chartRegistry object maintains sets of all instantiated dc.js charts under named groups\n * and the default group. See {@link ChartRegistry ChartRegistry} for its methods.\n */\nexport const chartRegistry = new ChartRegistry();\n\n/**\n * Add given chart instance to the given group, creating the group if necessary.\n * If no group is provided, the default group `constants.DEFAULT_CHART_GROUP` will be used.\n * @function registerChart\n * @param {Object} chart dc.js chart instance\n * @param {String} [group] Group name\n * @return {undefined}\n */\nexport const registerChart = function (chart, group) {\n    chartRegistry.register(chart, group);\n};\n\n/**\n * Remove given chart instance from the given group, creating the group if necessary.\n * If no group is provided, the default group `constants.DEFAULT_CHART_GROUP` will be used.\n * @function deregisterChart\n * @param {Object} chart dc.js chart instance\n * @param {String} [group] Group name\n * @return {undefined}\n */\nexport const deregisterChart = function (chart, group) {\n    chartRegistry.deregister(chart, group);\n};\n\n/**\n * Determine if a given chart instance resides in any group in the registry.\n * @function hasChart\n * @param {Object} chart dc.js chart instance\n * @returns {Boolean}\n */\nexport const hasChart = function (chart) {\n    return chartRegistry.has(chart);\n};\n\n/**\n * Clear given group if one is provided, otherwise clears all groups.\n * @function deregisterAllCharts\n * @param {String} group Group name\n * @return {undefined}\n */\nexport const deregisterAllCharts = function (group) {\n    chartRegistry.clear(group);\n};\n\n/**\n * Clear all filters on all charts within the given chart group. If the chart group is not given then\n * only charts that belong to the default chart group will be reset.\n * @function filterAll\n * @param {String} [group]\n * @return {undefined}\n */\nexport const filterAll = function (group) {\n    const charts = chartRegistry.list(group);\n    for (let i = 0; i < charts.length; ++i) {\n        charts[i].filterAll();\n    }\n};\n\n/**\n * Reset zoom level / focus on all charts that belong to the given chart group. If the chart group is\n * not given then only charts that belong to the default chart group will be reset.\n * @function refocusAll\n * @param {String} [group]\n * @return {undefined}\n */\nexport const refocusAll = function (group) {\n    const charts = chartRegistry.list(group);\n    for (let i = 0; i < charts.length; ++i) {\n        if (charts[i].focus) {\n            charts[i].focus();\n        }\n    }\n};\n\n/**\n * Re-render all charts belong to the given chart group. If the chart group is not given then only\n * charts that belong to the default chart group will be re-rendered.\n * @function renderAll\n * @param {String} [group]\n * @return {undefined}\n */\nexport const renderAll = function (group) {\n    const charts = chartRegistry.list(group);\n    for (let i = 0; i < charts.length; ++i) {\n        charts[i].render();\n    }\n\n    if (config._renderlet !== null) {\n        config._renderlet(group);\n    }\n};\n\n/**\n * Redraw all charts belong to the given chart group. If the chart group is not given then only charts\n * that belong to the default chart group will be re-drawn. Redraw is different from re-render since\n * when redrawing dc tries to update the graphic incrementally, using transitions, instead of starting\n * from scratch.\n * @function redrawAll\n * @param {String} [group]\n * @return {undefined}\n */\nexport const redrawAll = function (group) {\n    const charts = chartRegistry.list(group);\n    for (let i = 0; i < charts.length; ++i) {\n        charts[i].redraw();\n    }\n\n    if (config._renderlet !== null) {\n        config._renderlet(group);\n    }\n};\n","import {config} from './config';\n\n/**\n * Start a transition on a selection if transitions are globally enabled\n * ({@link disableTransitions} is false) and the duration is greater than zero; otherwise return\n * the selection. Since most operations are the same on a d3 selection and a d3 transition, this\n * allows a common code path for both cases.\n * @function transition\n * @param {d3.selection} selection - the selection to be transitioned\n * @param {Number|Function} [duration=250] - the duration of the transition in milliseconds, a\n * function returning the duration, or 0 for no transition\n * @param {Number|Function} [delay] - the delay of the transition in milliseconds, or a function\n * returning the delay, or 0 for no delay\n * @param {String} [name] - the name of the transition (if concurrent transitions on the same\n * elements are needed)\n * @returns {d3.transition|d3.selection}\n */\nexport const transition = function (selection, duration, delay, name) {\n    if (config.disableTransitions || duration <= 0) {\n        return selection;\n    }\n\n    let s = selection.transition(name);\n\n    if (duration >= 0 || duration !== undefined) {\n        s = s.duration(duration);\n    }\n    if (delay >= 0 || delay !== undefined) {\n        s = s.delay(delay);\n    }\n\n    return s;\n};\n\n/* somewhat silly, but to avoid duplicating logic */\nexport const optionalTransition = function (enable, duration, delay, name) {\n    if (enable) {\n        return function (selection) {\n            return transition(selection, duration, delay, name);\n        };\n    } else {\n        return function (selection) {\n            return selection;\n        };\n    }\n};\n\n// See http://stackoverflow.com/a/20773846\nexport const afterTransition = function (_transition, callback) {\n    if (_transition.empty() || !_transition.duration) {\n        callback.call(_transition);\n    } else {\n        let n = 0;\n        _transition\n            .each(() => { ++n; })\n            .on('end', () => {\n                if (!--n) {\n                    callback.call(_transition);\n                }\n            });\n    }\n};\n\nexport const renderlet = function (_) {\n    if (!arguments.length) {\n        return config._renderlet;\n    }\n    config._renderlet = _;\n    return null;\n};\n\nexport const instanceOfChart = function (o) {\n    return o instanceof Object && o.__dcFlag__ && true;\n};\n","export const events = {\n    current: null\n};\n\n/**\n * This function triggers a throttled event function with a specified delay (in milli-seconds).  Events\n * that are triggered repetitively due to user interaction such brush dragging might flood the library\n * and invoke more renders than can be executed in time. Using this function to wrap your event\n * function allows the library to smooth out the rendering by throttling events and only responding to\n * the most recent event.\n * @name events.trigger\n * @example\n * chart.on('renderlet', function(chart) {\n *     // smooth the rendering through event throttling\n *     events.trigger(function(){\n *         // focus some other chart to the range selected by user on this chart\n *         someOtherChart.focus(chart.filter());\n *     });\n * })\n * @param {Function} closure\n * @param {Number} [delay]\n * @return {undefined}\n */\nevents.trigger = function (closure, delay) {\n    if (!delay) {\n        closure();\n        return;\n    }\n\n    events.current = closure;\n\n    setTimeout(() => {\n        if (closure === events.current) {\n            closure();\n        }\n    }, delay);\n};\n","/**\n * The dc.js filters are functions which are passed into crossfilter to chose which records will be\n * accumulated to produce values for the charts.  In the crossfilter model, any filters applied on one\n * dimension will affect all the other dimensions but not that one.  dc always applies a filter\n * function to the dimension; the function combines multiple filters and if any of them accept a\n * record, it is filtered in.\n *\n * These filter constructors are used as appropriate by the various charts to implement brushing.  We\n * mention below which chart uses which filter.  In some cases, many instances of a filter will be added.\n *\n * Each of the dc.js filters is an object with the following properties:\n * * `isFiltered` - a function that returns true if a value is within the filter\n * * `filterType` - a string identifying the filter, here the name of the constructor\n *\n * Currently these filter objects are also arrays, but this is not a requirement. Custom filters\n * can be used as long as they have the properties above.\n * @namespace filters\n * @type {{}}\n */\nexport const filters = {};\n\n/**\n * RangedFilter is a filter which accepts keys between `low` and `high`.  It is used to implement X\n * axis brushing for the {@link CoordinateGridMixin coordinate grid charts}.\n *\n * Its `filterType` is 'RangedFilter'\n * @name RangedFilter\n * @memberof filters\n * @param {Number} low\n * @param {Number} high\n * @returns {Array<Number>}\n * @constructor\n */\nfilters.RangedFilter = function (low, high) {\n    const range = new Array(low, high);\n    range.isFiltered = function (value) {\n        return value >= this[0] && value < this[1];\n    };\n    range.filterType = 'RangedFilter';\n\n    return range;\n};\n\n/**\n * TwoDimensionalFilter is a filter which accepts a single two-dimensional value.  It is used by the\n * {@link HeatMap heat map chart} to include particular cells as they are clicked.  (Rows and columns are\n * filtered by filtering all the cells in the row or column.)\n *\n * Its `filterType` is 'TwoDimensionalFilter'\n * @name TwoDimensionalFilter\n * @memberof filters\n * @param {Array<Number>} filter\n * @returns {Array<Number>}\n * @constructor\n */\nfilters.TwoDimensionalFilter = function (filter) {\n    if (filter === null) { return null; }\n\n    const f = filter;\n    f.isFiltered = function (value) {\n        return value.length && value.length === f.length &&\n               value[0] === f[0] && value[1] === f[1];\n    };\n    f.filterType = 'TwoDimensionalFilter';\n\n    return f;\n};\n\n/**\n * The RangedTwoDimensionalFilter allows filtering all values which fit within a rectangular\n * region. It is used by the {@link ScatterPlot scatter plot} to implement rectangular brushing.\n *\n * It takes two two-dimensional points in the form `[[x1,y1],[x2,y2]]`, and normalizes them so that\n * `x1 <= x2` and `y1 <= y2`. It then returns a filter which accepts any points which are in the\n * rectangular range including the lower values but excluding the higher values.\n *\n * If an array of two values are given to the RangedTwoDimensionalFilter, it interprets the values as\n * two x coordinates `x1` and `x2` and returns a filter which accepts any points for which `x1 <= x <\n * x2`.\n *\n * Its `filterType` is 'RangedTwoDimensionalFilter'\n * @name RangedTwoDimensionalFilter\n * @memberof filters\n * @param {Array<Array<Number>>} filter\n * @returns {Array<Array<Number>>}\n * @constructor\n */\nfilters.RangedTwoDimensionalFilter = function (filter) {\n    if (filter === null) { return null; }\n\n    const f = filter;\n    let fromBottomLeft;\n\n    if (f[0] instanceof Array) {\n        fromBottomLeft = [\n            [Math.min(filter[0][0], filter[1][0]), Math.min(filter[0][1], filter[1][1])],\n            [Math.max(filter[0][0], filter[1][0]), Math.max(filter[0][1], filter[1][1])]\n        ];\n    } else {\n        fromBottomLeft = [[filter[0], -Infinity], [filter[1], Infinity]];\n    }\n\n    f.isFiltered = function (value) {\n        let x, y;\n\n        if (value instanceof Array) {\n            x = value[0];\n            y = value[1];\n        } else {\n            x = value;\n            y = fromBottomLeft[0][1];\n        }\n\n        return x >= fromBottomLeft[0][0] && x < fromBottomLeft[1][0] &&\n               y >= fromBottomLeft[0][1] && y < fromBottomLeft[1][1];\n    };\n    f.filterType = 'RangedTwoDimensionalFilter';\n\n    return f;\n};\n\n// ******** Sunburst Chart ********\n\n/**\n * HierarchyFilter is a filter which accepts a key path as an array. It matches any node at, or\n * child of, the given path. It is used by the {@link SunburstChart sunburst chart} to include particular cells and all\n * their children as they are clicked.\n *\n * @name HierarchyFilter\n * @memberof filters\n * @param {String} path\n * @returns {Array<String>}\n * @constructor\n */\nfilters.HierarchyFilter = function (path) {\n    if (path === null) {\n        return null;\n    }\n\n    const filter = path.slice(0);\n    filter.isFiltered = function (value) {\n        if (!(filter.length && value && value.length && value.length >= filter.length)) {\n            return false;\n        }\n\n        for (let i = 0; i < filter.length; i++) {\n            if (value[i] !== filter[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    };\n    return filter;\n};\n","\nexport class InvalidStateException extends Error { }\n","import {timeDay, timeHour, timeMinute, timeMonth, timeSecond, timeWeek, timeYear} from 'd3-time';\nimport {format} from 'd3-format';\n\nimport {constants} from './constants';\nimport {config} from './config';\n\n/**\n * Returns a function that given a string property name, can be used to pluck the property off an object.  A function\n * can be passed as the second argument to also alter the data being returned.\n *\n * This can be a useful shorthand method to create accessor functions.\n * @example\n * var xPluck = pluck('x');\n * var objA = {x: 1};\n * xPluck(objA) // 1\n * @example\n * var xPosition = pluck('x', function (x, i) {\n *     // `this` is the original datum,\n *     // `x` is the x property of the datum,\n *     // `i` is the position in the array\n *     return this.radius + x;\n * });\n * selectAll('.circle').data(...).x(xPosition);\n * @function pluck\n * @param {String} n\n * @param {Function} [f]\n * @returns {Function}\n */\nexport const pluck = function (n, f) {\n    if (!f) {\n        return function (d) { return d[n]; };\n    }\n    return function (d, i) { return f.call(d, d[n], i); };\n};\n\n/**\n * @namespace utils\n * @type {{}}\n */\nexport const utils = {};\n\n/**\n * Print a single value filter.\n * @method printSingleValue\n * @memberof utils\n * @param {any} filter\n * @returns {String}\n */\nutils.printSingleValue = function (filter) {\n    let s = `${filter}`;\n\n    if (filter instanceof Date) {\n        s = config.dateFormat(filter);\n    } else if (typeof (filter) === 'string') {\n        s = filter;\n    } else if (utils.isFloat(filter)) {\n        s = utils.printSingleValue.fformat(filter);\n    } else if (utils.isInteger(filter)) {\n        s = Math.round(filter);\n    }\n\n    return s;\n};\nutils.printSingleValue.fformat = format('.2f');\n\n// convert 'day' to d3.timeDay and similar\nutils._toTimeFunc = function (t) {\n    const mappings = {\n        'second': timeSecond,\n        'minute': timeMinute,\n        'hour': timeHour,\n        'day': timeDay,\n        'week': timeWeek,\n        'month': timeMonth,\n        'year': timeYear\n    };\n    return mappings[t];\n};\n\n/**\n * Arbitrary add one value to another.\n *\n * If the value l is of type Date, adds r units to it. t becomes the unit.\n * For example utils.add(dt, 3, 'week') will add 3 (r = 3) weeks (t= 'week') to dt.\n *\n * If l is of type numeric, t is ignored. In this case if r is of type string,\n * it is assumed to be percentage (whether or not it includes %). For example\n * utils.add(30, 10) will give 40 and utils.add(30, '10') will give 33.\n *\n * They also generate strange results if l is a string.\n * @method add\n * @memberof utils\n * @param {Date|Number} l the value to modify\n * @param {String|Number} r the amount by which to modify the value\n * @param {Function|String} [t=d3.timeDay] if `l` is a `Date`, then this should be a\n * [d3 time interval](https://github.com/d3/d3-time/blob/master/README.md#_interval).\n * For backward compatibility with dc.js 2.0, it can also be the name of an interval, i.e.\n * 'millis', 'second', 'minute', 'hour', 'day', 'week', 'month', or 'year'\n * @returns {Date|Number}\n */\nutils.add = function (l, r, t) {\n    if (typeof r === 'string') {\n        r = r.replace('%', '');\n    }\n\n    if (l instanceof Date) {\n        if (typeof r === 'string') {\n            r = +r;\n        }\n        if (t === 'millis') {\n            return new Date(l.getTime() + r);\n        }\n        t = t || timeDay;\n        if (typeof t !== 'function') {\n            t = utils._toTimeFunc(t);\n        }\n        return t.offset(l, r);\n    } else if (typeof r === 'string') {\n        const percentage = (+r / 100);\n        return l > 0 ? l * (1 + percentage) : l * (1 - percentage);\n    } else {\n        return l + r;\n    }\n};\n\n/**\n * Arbitrary subtract one value from another.\n *\n * If the value l is of type Date, subtracts r units from it. t becomes the unit.\n * For example utils.subtract(dt, 3, 'week') will subtract 3 (r = 3) weeks (t= 'week') from dt.\n *\n * If l is of type numeric, t is ignored. In this case if r is of type string,\n * it is assumed to be percentage (whether or not it includes %). For example\n * utils.subtract(30, 10) will give 20 and utils.subtract(30, '10') will give 27.\n *\n * They also generate strange results if l is a string.\n * @method subtract\n * @memberof utils\n * @param {Date|Number} l the value to modify\n * @param {String|Number} r the amount by which to modify the value\n * @param {Function|String} [t=d3.timeDay] if `l` is a `Date`, then this should be a\n * [d3 time interval](https://github.com/d3/d3-time/blob/master/README.md#_interval).\n * For backward compatibility with dc.js 2.0, it can also be the name of an interval, i.e.\n * 'millis', 'second', 'minute', 'hour', 'day', 'week', 'month', or 'year'\n * @returns {Date|Number}\n */\nutils.subtract = function (l, r, t) {\n    if (typeof r === 'string') {\n        r = r.replace('%', '');\n    }\n\n    if (l instanceof Date) {\n        if (typeof r === 'string') {\n            r = +r;\n        }\n        if (t === 'millis') {\n            return new Date(l.getTime() - r);\n        }\n        t = t || timeDay;\n        if (typeof t !== 'function') {\n            t = utils._toTimeFunc(t);\n        }\n        return t.offset(l, -r);\n    } else if (typeof r === 'string') {\n        const percentage = (+r / 100);\n        return l < 0 ? l * (1 + percentage) : l * (1 - percentage);\n    } else {\n        return l - r;\n    }\n};\n\n/**\n * Is the value a number?\n * @method isNumber\n * @memberof utils\n * @param {any} n\n * @returns {Boolean}\n */\nutils.isNumber = function (n) {\n    return n === +n;\n};\n\n/**\n * Is the value a float?\n * @method isFloat\n * @memberof utils\n * @param {any} n\n * @returns {Boolean}\n */\nutils.isFloat = function (n) {\n    return n === +n && n !== (n | 0);\n};\n\n/**\n * Is the value an integer?\n * @method isInteger\n * @memberof utils\n * @param {any} n\n * @returns {Boolean}\n */\nutils.isInteger = function (n) {\n    return n === +n && n === (n | 0);\n};\n\n/**\n * Is the value very close to zero?\n * @method isNegligible\n * @memberof utils\n * @param {any} n\n * @returns {Boolean}\n */\nutils.isNegligible = function (n) {\n    return !utils.isNumber(n) || (n < constants.NEGLIGIBLE_NUMBER && n > -constants.NEGLIGIBLE_NUMBER);\n};\n\n/**\n * Ensure the value is no greater or less than the min/max values.  If it is return the boundary value.\n * @method clamp\n * @memberof utils\n * @param {any} val\n * @param {any} min\n * @param {any} max\n * @returns {any}\n */\nutils.clamp = function (val, min, max) {\n    return val < min ? min : (val > max ? max : val);\n};\n\n/**\n * Given `x`, return a function that always returns `x`.\n *\n * {@link https://github.com/d3/d3/blob/master/CHANGES.md#internals `d3.functor` was removed in d3 version 4}.\n * This function helps to implement the replacement,\n * `typeof x === \"function\" ? x : utils.constant(x)`\n * @method constant\n * @memberof utils\n * @param {any} x\n * @returns {Function}\n */\nutils.constant = function (x) {\n    return function () {\n        return x;\n    };\n};\n\n/**\n * Using a simple static counter, provide a unique integer id.\n * @method uniqueId\n * @memberof utils\n * @returns {Number}\n */\nlet _idCounter = 0;\nutils.uniqueId = function () {\n    return ++_idCounter;\n};\n\n/**\n * Convert a name to an ID.\n * @method nameToId\n * @memberof utils\n * @param {String} name\n * @returns {String}\n */\nutils.nameToId = function (name) {\n    return name.toLowerCase().replace(/[\\s]/g, '_').replace(/[\\.']/g, '');\n};\n\n/**\n * Append or select an item on a parent element.\n * @method appendOrSelect\n * @memberof utils\n * @param {d3.selection} parent\n * @param {String} selector\n * @param {String} tag\n * @returns {d3.selection}\n */\nutils.appendOrSelect = function (parent, selector, tag) {\n    tag = tag || selector;\n    let element = parent.select(selector);\n    if (element.empty()) {\n        element = parent.append(tag);\n    }\n    return element;\n};\n\n/**\n * Return the number if the value is a number; else 0.\n * @method safeNumber\n * @memberof utils\n * @param {Number|any} n\n * @returns {Number}\n */\nutils.safeNumber = function (n) { return utils.isNumber(+n) ? +n : 0;};\n\n/**\n * Return true if both arrays are equal, if both array are null these are considered equal\n * @method arraysEqual\n * @memberof utils\n * @param {Array|null} a1\n * @param {Array|null} a2\n * @returns {Boolean}\n */\nutils.arraysEqual = function (a1, a2) {\n    if (!a1 && !a2) {\n        return true;\n    }\n\n    if (!a1 || !a2) {\n        return false;\n    }\n\n    return a1.length === a2.length &&\n        // If elements are not integers/strings, we hope that it will match because of toString\n        // Test cases cover dates as well.\n        a1.every((elem, i) => elem.valueOf() === a2[i].valueOf());\n};\n\n// ******** Sunburst Chart ********\nutils.allChildren = function (node) {\n    let paths = [];\n    paths.push(node.path);\n    console.log('currentNode', node);\n    if (node.children) {\n        for (let i = 0; i < node.children.length; i++) {\n            paths = paths.concat(utils.allChildren(node.children[i]));\n        }\n    }\n    return paths;\n};\n\n// builds a d3 Hierarchy from a collection\n// TODO: turn this monster method something better.\nutils.toHierarchy = function (list, accessor) {\n    const root = {'key': 'root', 'children': []};\n    for (let i = 0; i < list.length; i++) {\n        const data = list[i];\n        const parts = data.key;\n        const value = accessor(data);\n        let currentNode = root;\n        for (let j = 0; j < parts.length; j++) {\n            const currentPath = parts.slice(0, j + 1);\n            const children = currentNode.children;\n            const nodeName = parts[j];\n            let childNode;\n            if (j + 1 < parts.length) {\n                // Not yet at the end of the sequence; move down the tree.\n                childNode = findChild(children, nodeName);\n\n                // If we don't already have a child node for this branch, create it.\n                if (childNode === void 0) {\n                    childNode = {'key': nodeName, 'children': [], 'path': currentPath};\n                    children.push(childNode);\n                }\n                currentNode = childNode;\n            } else {\n                // Reached the end of the sequence; create a leaf node.\n                childNode = {'key': nodeName, 'value': value, 'data': data, 'path': currentPath};\n                children.push(childNode);\n            }\n        }\n    }\n    return root;\n};\n\nfunction findChild (children, nodeName) {\n    for (let k = 0; k < children.length; k++) {\n        if (children[k].key === nodeName) {\n            return children[k];\n        }\n    }\n}\n\nutils.getAncestors = function (node) {\n    const path = [];\n    let current = node;\n    while (current.parent) {\n        path.unshift(current.name);\n        current = current.parent;\n    }\n    return path;\n};\n\nutils.arraysIdentical = function (a, b) {\n    let i = a.length;\n    if (i !== b.length) {\n        return false;\n    }\n    while (i--) {\n        if (a[i] !== b[i]) {\n            return false;\n        }\n    }\n    return true;\n};\n","import {utils} from './utils';\n\n/**\n * @namespace printers\n * @type {{}}\n */\nexport const printers = {};\n\n/**\n * Converts a list of filters into a readable string.\n * @method filters\n * @memberof printers\n * @param {Array<filters>} filters\n * @returns {String}\n */\nprinters.filters = function (filters) {\n    let s = '';\n\n    for (let i = 0; i < filters.length; ++i) {\n        if (i > 0) {\n            s += ', ';\n        }\n        s += printers.filter(filters[i]);\n    }\n\n    return s;\n};\n\n/**\n * Converts a filter into a readable string.\n * @method filter\n * @memberof printers\n * @param {filters|any|Array<any>} filter\n * @returns {String}\n */\nprinters.filter = function (filter) {\n    let s = '';\n\n    if (typeof filter !== 'undefined' && filter !== null) {\n        if (filter instanceof Array) {\n            if (filter.length >= 2) {\n                s = `[${filter.map(e => utils.printSingleValue(e)).join(' -> ')}]`;\n            } else if (filter.length >= 1) {\n                s = utils.printSingleValue(filter[0]);\n            }\n        } else {\n            s = utils.printSingleValue(filter);\n        }\n    }\n\n    return s;\n};\n","import {utils} from './utils';\n\n/**\n * @namespace units\n * @type {{}}\n */\nexport const units = {};\n\n/**\n * The default value for {@link CoordinateGridMixin#xUnits .xUnits} for the\n * {@link CoordinateGridMixin Coordinate Grid Chart} and should\n * be used when the x values are a sequence of integers.\n * It is a function that counts the number of integers in the range supplied in its start and end parameters.\n * @method integers\n * @memberof units\n * @see {@link CoordinateGridMixin#xUnits coordinateGridMixin.xUnits}\n * @example\n * chart.xUnits(units.integers) // already the default\n * @param {Number} start\n * @param {Number} end\n * @returns {Number}\n */\nunits.integers = function (start, end) {\n    return Math.abs(end - start);\n};\n\n/**\n * This argument can be passed to the {@link CoordinateGridMixin#xUnits .xUnits} function of a\n * coordinate grid chart to specify ordinal units for the x axis. Usually this parameter is used in\n * combination with passing\n * {@link https://github.com/d3/d3-scale/blob/master/README.md#ordinal-scales d3.scaleOrdinal}\n * to {@link CoordinateGridMixin#x .x}.\n *\n * As of dc.js 3.0, this is purely a placeholder or magic value which causes the chart to go into ordinal mode; the\n * function is not called.\n * @method ordinal\n * @memberof units\n * @return {uncallable}\n * @see {@link https://github.com/d3/d3-scale/blob/master/README.md#ordinal-scales d3.scaleOrdinal}\n * @see {@link CoordinateGridMixin#xUnits coordinateGridMixin.xUnits}\n * @see {@link CoordinateGridMixin#x coordinateGridMixin.x}\n * @example\n * chart.xUnits(units.ordinal)\n *      .x(d3.scaleOrdinal())\n */\nunits.ordinal = function () {\n    throw new Error('dc.units.ordinal should not be called - it is a placeholder');\n};\n\n/**\n * @namespace fp\n * @memberof units\n * @type {{}}\n */\nunits.fp = {};\n/**\n * This function generates an argument for the {@link CoordinateGridMixin Coordinate Grid Chart}\n * {@link CoordinateGridMixin#xUnits .xUnits} function specifying that the x values are floating-point\n * numbers with the given precision.\n * The returned function determines how many values at the given precision will fit into the range\n * supplied in its start and end parameters.\n * @method precision\n * @memberof units.fp\n * @see {@link CoordinateGridMixin#xUnits coordinateGridMixin.xUnits}\n * @example\n * // specify values (and ticks) every 0.1 units\n * chart.xUnits(units.fp.precision(0.1)\n * // there are 500 units between 0.5 and 1 if the precision is 0.001\n * var thousandths = units.fp.precision(0.001);\n * thousandths(0.5, 1.0) // returns 500\n * @param {Number} precision\n * @returns {Function} start-end unit function\n */\nunits.fp.precision = function (precision) {\n    const _f = function (s, e) {\n        const d = Math.abs((e - s) / _f.resolution);\n        if (utils.isNegligible(d - Math.floor(d))) {\n            return Math.floor(d);\n        } else {\n            return Math.ceil(d);\n        }\n    };\n    _f.resolution = precision;\n    return _f;\n};\n","import {event, mouse, pointer} from 'd3-selection';\nimport {nest} from 'd3-collection';\nimport {groups} from 'd3-array';\n\n// d3v6 has removed `d3.mouse` in favor of `d3.pointer`\nexport const d3compatPointer =\n    typeof pointer === 'function' ? (evt, elem) => pointer(evt, elem) : (evt, elem) => mouse(elem);\n\n// d3v6 has changed the arguments for event handlers.\n// We are creating a wrapper which detects if the first argument is an event, which indicated d3@v6\n// Otherwise we assume lower versions of d3.\n// The underlying handler will always receive bound datum as the first argument and the event as the second argument.\n// It is possible that any of these can actually be undefined (or null).\nexport function adaptHandler (handler) {\n    return function (a, b) {\n        if (a && a.target) {\n            // d3@v6 - b is __data__, a is the event\n            handler.call(this, b, a);\n        } else {\n            // older d3 - a is __data__, event from global d3.event\n            handler.call(this, a, event);\n        }\n    }\n}\n\nfunction _d3v5Nester ({key, sortKeys, sortValues, entries}) {\n    const nester = nest().key(key);\n    if (sortKeys) {\n        nester.sortKeys(sortKeys);\n    }\n    if (sortValues) {\n        nester.sortValues(sortValues);\n    }\n    return nester.entries(entries);\n}\n\nfunction _d3v6Nester ({key, sortKeys, sortValues, entries}) {\n    if (sortValues) {\n        entries = [...entries].sort(sortValues);\n    }\n    let out = groups(entries, key);\n    if (sortKeys) {\n        out = out.sort(sortKeys);\n    }\n\n    // remap to d3@v5 structure\n    return out.map(e => ({\n        key: `${e[0]}`, // d3@v5 always returns key as string\n        values: e[1]\n    }));\n}\n\nexport function compatNestHelper ({key, sortKeys, sortValues, entries}) {\n    if (groups) {\n        // d3@v6\n        return _d3v6Nester({key, sortKeys, sortValues, entries});\n    } else {\n        // older d3\n        return _d3v5Nester({key, sortKeys, sortValues, entries});\n    }\n}\n","import {select} from 'd3-selection';\nimport {dispatch} from 'd3-dispatch';\nimport {ascending} from 'd3-array';\n\nimport {pluck, utils} from '../core/utils';\nimport {instanceOfChart} from '../core/core';\nimport {deregisterChart, redrawAll, registerChart, renderAll} from '../core/chart-registry';\nimport {constants} from '../core/constants';\nimport {events} from '../core/events';\nimport {logger} from '../core/logger';\nimport {printers} from '../core/printers';\nimport {InvalidStateException} from '../core/invalid-state-exception';\nimport {BadArgumentException} from '../core/bad-argument-exception';\nimport {adaptHandler} from '../core/d3compat';\n\nconst _defaultFilterHandler = (dimension, filters) => {\n    if (filters.length === 0) {\n        dimension.filter(null);\n    } else if (filters.length === 1 && !filters[0].isFiltered) {\n        // single value and not a function-based filter\n        dimension.filterExact(filters[0]);\n    } else if (filters.length === 1 && filters[0].filterType === 'RangedFilter') {\n        // single range-based filter\n        dimension.filterRange(filters[0]);\n    } else {\n        dimension.filterFunction(d => {\n            for (let i = 0; i < filters.length; i++) {\n                const filter = filters[i];\n                if (filter.isFiltered) {\n                    if(filter.isFiltered(d)) {\n                        return true;\n                    }\n                } else if (filter <= d && filter >= d) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    }\n    return filters;\n};\n\nconst _defaultHasFilterHandler = (filters, filter) => {\n    if (filter === null || typeof (filter) === 'undefined') {\n        return filters.length > 0;\n    }\n    return filters.some(f => filter <= f && filter >= f);\n};\n\nconst _defaultRemoveFilterHandler = (filters, filter) => {\n    for (let i = 0; i < filters.length; i++) {\n        if (filters[i] <= filter && filters[i] >= filter) {\n            filters.splice(i, 1);\n            break;\n        }\n    }\n    return filters;\n};\n\nconst _defaultAddFilterHandler = (filters, filter) => {\n    filters.push(filter);\n    return filters;\n};\n\nconst _defaultResetFilterHandler = filters => [];\n\n/**\n * `BaseMixin` is an abstract functional object representing a basic `dc` chart object\n * for all chart and widget implementations. Methods from the {@link #BaseMixin BaseMixin} are inherited\n * and available on all chart implementations in the `dc` library.\n * @mixin BaseMixin\n */\nexport class BaseMixin {\n    constructor () {\n        this.__dcFlag__ = utils.uniqueId();\n        this._svgDescription = null\n        this._keyboardAccessible = false;\n\n        this._dimension = undefined;\n        this._group = undefined;\n\n        this._anchor = undefined;\n        this._root = undefined;\n        this._svg = undefined;\n        this._isChild = undefined;\n\n        this._minWidth = 200;\n        this._defaultWidthCalc = element => {\n            const width = element && element.getBoundingClientRect && element.getBoundingClientRect().width;\n            return (width && width > this._minWidth) ? width : this._minWidth;\n        };\n        this._widthCalc = this._defaultWidthCalc;\n\n        this._minHeight = 200;\n        this._defaultHeightCalc = element => {\n            const height = element && element.getBoundingClientRect && element.getBoundingClientRect().height;\n            return (height && height > this._minHeight) ? height : this._minHeight;\n        };\n        this._heightCalc = this._defaultHeightCalc;\n        this._width = undefined;\n        this._height = undefined;\n        this._useViewBoxResizing = false;\n\n        this._keyAccessor = pluck('key');\n        this._valueAccessor = pluck('value');\n        this._label = pluck('key');\n\n        this._ordering = pluck('key');\n\n        this._renderLabel = false;\n\n        this._title = d => `${this.keyAccessor()(d)}: ${this.valueAccessor()(d)}`;\n        this._renderTitle = true;\n        this._controlsUseVisibility = false;\n\n        this._transitionDuration = 750;\n\n        this._transitionDelay = 0;\n\n        this._filterPrinter = printers.filters;\n\n        this._mandatoryAttributesList = ['dimension', 'group'];\n\n        this._chartGroup = constants.DEFAULT_CHART_GROUP;\n\n        this._listeners = dispatch(\n            'preRender',\n            'postRender',\n            'preRedraw',\n            'postRedraw',\n            'filtered',\n            'zoomed',\n            'renderlet',\n            'pretransition');\n\n        this._legend = undefined;\n        this._commitHandler = undefined;\n\n        this._defaultData = group => group.all();\n        this._data = this._defaultData;\n\n        this._filters = [];\n\n        this._filterHandler = _defaultFilterHandler;\n        this._hasFilterHandler = _defaultHasFilterHandler;\n        this._removeFilterHandler = _defaultRemoveFilterHandler;\n        this._addFilterHandler = _defaultAddFilterHandler;\n        this._resetFilterHandler = _defaultResetFilterHandler;\n    }\n\n    /**\n     * Set or get the height attribute of a chart. The height is applied to the SVGElement generated by\n     * the chart when rendered (or re-rendered). If a value is given, then it will be used to calculate\n     * the new height and the chart returned for method chaining.  The value can either be a numeric, a\n     * function, or falsy. If no value is specified then the value of the current height attribute will\n     * be returned.\n     *\n     * By default, without an explicit height being given, the chart will select the width of its\n     * anchor element. If that isn't possible it defaults to 200 (provided by the\n     * {@link BaseMixin#minHeight minHeight} property). Setting the value falsy will return\n     * the chart to the default behavior.\n     * @see {@link BaseMixin#minHeight minHeight}\n     * @example\n     * // Default height\n     * chart.height(function (element) {\n     *     var height = element && element.getBoundingClientRect && element.getBoundingClientRect().height;\n     *     return (height && height > chart.minHeight()) ? height : chart.minHeight();\n     * });\n     *\n     * chart.height(250); // Set the chart's height to 250px;\n     * chart.height(function(anchor) { return doSomethingWith(anchor); }); // set the chart's height with a function\n     * chart.height(null); // reset the height to the default auto calculation\n     * @param {Number|Function} [height]\n     * @returns {Number|BaseMixin}\n     */\n    height (height) {\n        if (!arguments.length) {\n            if (!utils.isNumber(this._height)) {\n                // only calculate once\n                this._height = this._heightCalc(this._root.node());\n            }\n            return this._height;\n        }\n        this._heightCalc = height ? (typeof height === 'function' ? height : utils.constant(height)) : this._defaultHeightCalc;\n        this._height = undefined;\n        return this;\n    }\n\n    /**\n     * Set or get the width attribute of a chart.\n     * @see {@link BaseMixin#height height}\n     * @see {@link BaseMixin#minWidth minWidth}\n     * @example\n     * // Default width\n     * chart.width(function (element) {\n     *     var width = element && element.getBoundingClientRect && element.getBoundingClientRect().width;\n     *     return (width && width > chart.minWidth()) ? width : chart.minWidth();\n     * });\n     * @param {Number|Function} [width]\n     * @returns {Number|BaseMixin}\n     */\n    width (width) {\n        if (!arguments.length) {\n            if (!utils.isNumber(this._width)) {\n                // only calculate once\n                this._width = this._widthCalc(this._root.node());\n            }\n            return this._width;\n        }\n        this._widthCalc = width ? (typeof width === 'function' ? width : utils.constant(width)) : this._defaultWidthCalc;\n        this._width = undefined;\n        return this;\n    }\n\n    /**\n     * Set or get the minimum width attribute of a chart. This only has effect when used with the default\n     * {@link BaseMixin#width width} function.\n     * @see {@link BaseMixin#width width}\n     * @param {Number} [minWidth=200]\n     * @returns {Number|BaseMixin}\n     */\n    minWidth (minWidth) {\n        if (!arguments.length) {\n            return this._minWidth;\n        }\n        this._minWidth = minWidth;\n        return this;\n    }\n\n    /**\n     * Set or get the minimum height attribute of a chart. This only has effect when used with the default\n     * {@link BaseMixin#height height} function.\n     * @see {@link BaseMixin#height height}\n     * @param {Number} [minHeight=200]\n     * @returns {Number|BaseMixin}\n     */\n    minHeight (minHeight) {\n        if (!arguments.length) {\n            return this._minHeight;\n        }\n        this._minHeight = minHeight;\n        return this;\n    }\n\n    /**\n     * Turn on/off using the SVG\n     * {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox `viewBox` attribute}.\n     * When enabled, `viewBox` will be set on the svg root element instead of `width` and `height`.\n     * Requires that the chart aspect ratio be defined using chart.width(w) and chart.height(h).\n     *\n     * This will maintain the aspect ratio while enabling the chart to resize responsively to the\n     * space given to the chart using CSS. For example, the chart can use `width: 100%; height:\n     * 100%` or absolute positioning to resize to its parent div.\n     *\n     * Since the text will be sized as if the chart is drawn according to the width and height, and\n     * will be resized if the chart is any other size, you need to set the chart width and height so\n     * that the text looks good. In practice, 600x400 seems to work pretty well for most charts.\n     *\n     * You can see examples of this resizing strategy in the [Chart Resizing\n     * Examples](http://dc-js.github.io/dc.js/resizing/); just add `?resize=viewbox` to any of the\n     * one-chart examples to enable `useViewBoxResizing`.\n     * @param {Boolean} [useViewBoxResizing=false]\n     * @returns {Boolean|BaseMixin}\n     */\n    useViewBoxResizing (useViewBoxResizing) {\n        if (!arguments.length) {\n            return this._useViewBoxResizing;\n        }\n        this._useViewBoxResizing = useViewBoxResizing;\n        return this;\n    }\n\n    /**\n     * **mandatory**\n     *\n     * Set or get the dimension attribute of a chart. In `dc`, a dimension can be any valid\n     * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension crossfilter dimension}\n     *\n     * If a value is given, then it will be used as the new dimension. If no value is specified then\n     * the current dimension will be returned.\n     * @see {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension crossfilter.dimension}\n     * @example\n     * var index = crossfilter([]);\n     * var dimension = index.dimension(pluck('key'));\n     * chart.dimension(dimension);\n     * @param {crossfilter.dimension} [dimension]\n     * @returns {crossfilter.dimension|BaseMixin}\n     */\n    dimension (dimension) {\n        if (!arguments.length) {\n            return this._dimension;\n        }\n        this._dimension = dimension;\n        this.expireCache();\n        return this;\n    }\n\n    /**\n     * Set the data callback or retrieve the chart's data set. The data callback is passed the chart's\n     * group and by default will return\n     * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group_all group.all}.\n     * This behavior may be modified to, for instance, return only the top 5 groups.\n     * @example\n     * // Default data function\n     * chart.data(function (group) { return group.all(); });\n     *\n     * chart.data(function (group) { return group.top(5); });\n     * @param {Function} [callback]\n     * @returns {*|BaseMixin}\n     */\n    data (callback) {\n        if (!arguments.length) {\n            return this._data(this._group);\n        }\n        this._data = typeof callback === 'function' ? callback : utils.constant(callback);\n        this.expireCache();\n        return this;\n    }\n\n    /**\n     * **mandatory**\n     *\n     * Set or get the group attribute of a chart. In `dc` a group is a\n     * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group-map-reduce crossfilter group}.\n     * Usually the group should be created from the particular dimension associated with the same chart. If a value is\n     * given, then it will be used as the new group.\n     *\n     * If no value specified then the current group will be returned.\n     * If `name` is specified then it will be used to generate legend label.\n     * @see {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group-map-reduce crossfilter.group}\n     * @example\n     * var index = crossfilter([]);\n     * var dimension = index.dimension(pluck('key'));\n     * chart.dimension(dimension);\n     * chart.group(dimension.group().reduceSum());\n     * @param {crossfilter.group} [group]\n     * @param {String} [name]\n     * @returns {crossfilter.group|BaseMixin}\n     */\n    group (group, name) {\n        if (!arguments.length) {\n            return this._group;\n        }\n        this._group = group;\n        this._groupName = name;\n        this.expireCache();\n        return this;\n    }\n\n    /**\n     * Get or set an accessor to order ordinal dimensions.  The chart uses\n     * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort Array.sort}\n     * to sort elements; this accessor returns the value to order on.\n     * @example\n     * // Default ordering accessor\n     * _chart.ordering(pluck('key'));\n     * @param {Function} [orderFunction]\n     * @returns {Function|BaseMixin}\n     */\n    ordering (orderFunction) {\n        if (!arguments.length) {\n            return this._ordering;\n        }\n        this._ordering = orderFunction;\n        this.expireCache();\n        return this;\n    }\n\n    _computeOrderedGroups (data) {\n        // clone the array before sorting, otherwise Array.sort sorts in-place\n        return Array.from(data).sort((a, b) => ascending(this._ordering(a), this._ordering(b)));\n    }\n\n    /**\n     * Clear all filters associated with this chart. The same effect can be achieved by calling\n     * {@link BaseMixin#filter chart.filter(null)}.\n     * @returns {BaseMixin}\n     */\n    filterAll () {\n        return this.filter(null);\n    }\n\n    /**\n     * Execute d3 single selection in the chart's scope using the given selector and return the d3\n     * selection.\n     *\n     * This function is **not chainable** since it does not return a chart instance; however the d3\n     * selection result can be chained to d3 function calls.\n     * @see {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3.select}\n     * @example\n     * // Has the same effect as d3.select('#chart-id').select(selector)\n     * chart.select(selector)\n     * @param {String} sel CSS selector string\n     * @returns {d3.selection}\n     */\n    select (sel) {\n        return this._root.select(sel);\n    }\n\n    /**\n     * Execute in scope d3 selectAll using the given selector and return d3 selection result.\n     *\n     * This function is **not chainable** since it does not return a chart instance; however the d3\n     * selection result can be chained to d3 function calls.\n     * @see {@link https://github.com/d3/d3-selection/blob/master/README.md#selectAll d3.selectAll}\n     * @example\n     * // Has the same effect as d3.select('#chart-id').selectAll(selector)\n     * chart.selectAll(selector)\n     * @param {String} sel CSS selector string\n     * @returns {d3.selection}\n     */\n    selectAll (sel) {\n        return this._root ? this._root.selectAll(sel) : null;\n    }\n\n    /**\n     * Set the root SVGElement to either be an existing chart's root; or any valid [d3 single\n     * selector](https://github.com/d3/d3-selection/blob/master/README.md#selecting-elements) specifying a dom\n     * block element such as a div; or a dom element or d3 selection. Optionally registers the chart\n     * within the chartGroup. This class is called internally on chart initialization, but be called\n     * again to relocate the chart. However, it will orphan any previously created SVGElements.\n     * @param {anchorChart|anchorSelector|anchorNode} [parent]\n     * @param {String} [chartGroup]\n     * @returns {String|node|d3.selection|BaseMixin}\n     */\n    anchor (parent, chartGroup) {\n        if (!arguments.length) {\n            return this._anchor;\n        }\n        if (instanceOfChart(parent)) {\n            this._anchor = parent.anchor();\n            if (this._anchor.children) { // is _anchor a div?\n                this._anchor = `#${parent.anchorName()}`;\n            }\n            this._root = parent.root();\n            this._isChild = true;\n        } else if (parent) {\n            if (parent.select && parent.classed) { // detect d3 selection\n                this._anchor = parent.node();\n            } else {\n                this._anchor = parent;\n            }\n            this._root = select(this._anchor);\n            this._root.classed(constants.CHART_CLASS, true);\n            registerChart(this, chartGroup);\n            this._isChild = false;\n        } else {\n            throw new BadArgumentException('parent must be defined');\n        }\n        this._chartGroup = chartGroup;\n        return this;\n    }\n\n    /**\n     * Returns the DOM id for the chart's anchored location.\n     * @returns {String}\n     */\n    anchorName () {\n        const a = this.anchor();\n        if (a && a.id) {\n            return a.id;\n        }\n        if (a && a.replace) {\n            return a.replace('#', '');\n        }\n        return `dc-chart${this.chartID()}`;\n    }\n\n    /**\n     * Returns the root element where a chart resides. Usually it will be the parent div element where\n     * the SVGElement was created. You can also pass in a new root element however this is usually handled by\n     * dc internally. Resetting the root element on a chart outside of dc internals may have\n     * unexpected consequences.\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement HTMLElement}\n     * @param {HTMLElement} [rootElement]\n     * @returns {HTMLElement|BaseMixin}\n     */\n    root (rootElement) {\n        if (!arguments.length) {\n            return this._root;\n        }\n        this._root = rootElement;\n        return this;\n    }\n\n    /**\n     * Returns the top SVGElement for this specific chart. You can also pass in a new SVGElement,\n     * however this is usually handled by dc internally. Resetting the SVGElement on a chart outside\n     * of dc internals may have unexpected consequences.\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/SVGElement SVGElement}\n     * @param {SVGElement|d3.selection} [svgElement]\n     * @returns {SVGElement|d3.selection|BaseMixin}\n     */\n    svg (svgElement) {\n        if (!arguments.length) {\n            return this._svg;\n        }\n        this._svg = svgElement;\n        return this;\n    }\n\n    /**\n     * Remove the chart's SVGElements from the dom and recreate the container SVGElement.\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/SVGElement SVGElement}\n     * @returns {SVGElement}\n     */\n    resetSvg () {\n        this.select('svg').remove();\n        return this.generateSvg();\n    }\n\n    sizeSvg () {\n        if (this._svg) {\n            if (!this._useViewBoxResizing) {\n                this._svg\n                    .attr('width', this.width())\n                    .attr('height', this.height());\n            } else if (!this._svg.attr('viewBox')) {\n                this._svg\n                    .attr('viewBox', `0 0 ${this.width()} ${this.height()}`);\n            }\n        }\n    }\n\n    generateSvg () {\n        this._svg = this.root().append('svg');\n    \n        if (this._svgDescription || this._keyboardAccessible) {\n\n            this._svg.append('desc')\n                .attr('id', `desc-id-${this.__dcFlag__}`)\n                .html(`${this.svgDescription()}`);\n\n            this._svg\n                .attr('tabindex', '0')\n                .attr('role', 'img')\n                .attr('aria-labelledby', `desc-id-${this.__dcFlag__}`);\n        }\n\n        this.sizeSvg();\n        return this._svg;\n    }\n\n    /**\n     * Set or get description text for the entire SVG graphic. If set, will create a `<desc>` element as the first\n     * child of the SVG with the description text and also make the SVG focusable from keyboard.\n     * @param {String} [description]\n     * @returns {String|BaseMixin}\n     */\n    svgDescription (description) {\n        if (!arguments.length) {\n            return this._svgDescription || this.constructor.name;\n        }\n\n        this._svgDescription = description;\n        return this;\n    }\n\n    /**\n     * If set, interactive chart elements like individual bars in a bar chart or symbols in a scatter plot\n     * will be focusable from keyboard and on pressing Enter or Space will behave as if clicked on.\n     * \n     * If `svgDescription` has not been explicitly set, will also set SVG description text to the class\n     * constructor name, like BarChart or HeatMap, and make the entire SVG focusable.\n     * @param {Boolean} [keyboardAccessible=false]\n     * @returns {Boolean|BarChart}\n     */\n    keyboardAccessible (keyboardAccessible) {\n        if (!arguments.length) {\n            return this._keyboardAccessible;\n        }\n        this._keyboardAccessible = keyboardAccessible;\n        return this;\n    }\n\n    /**\n     * Set or get the filter printer function. The filter printer function is used to generate human\n     * friendly text for filter value(s) associated with the chart instance. The text will get shown\n     * in the `.filter element; see {@link BaseMixin#turnOnControls turnOnControls}.\n     *\n     * By default dc charts use a default filter printer {@link printers.filters printers.filters}\n     * that provides simple printing support for both single value and ranged filters.\n     * @example\n     * // for a chart with an ordinal brush, print the filters in upper case\n     * chart.filterPrinter(function(filters) {\n     *   return filters.map(function(f) { return f.toUpperCase(); }).join(', ');\n     * });\n     * // for a chart with a range brush, print the filter as start and extent\n     * chart.filterPrinter(function(filters) {\n     *   return 'start ' + utils.printSingleValue(filters[0][0]) +\n     *     ' extent ' + utils.printSingleValue(filters[0][1] - filters[0][0]);\n     * });\n     * @param {Function} [filterPrinterFunction=printers.filters]\n     * @returns {Function|BaseMixin}\n     */\n    filterPrinter (filterPrinterFunction) {\n        if (!arguments.length) {\n            return this._filterPrinter;\n        }\n        this._filterPrinter = filterPrinterFunction;\n        return this;\n    }\n\n    /**\n     * If set, use the `visibility` attribute instead of the `display` attribute for showing/hiding\n     * chart reset and filter controls, for less disruption to the layout.\n     * @param {Boolean} [controlsUseVisibility=false]\n     * @returns {Boolean|BaseMixin}\n     */\n    controlsUseVisibility (controlsUseVisibility) {\n        if (!arguments.length) {\n            return this._controlsUseVisibility;\n        }\n        this._controlsUseVisibility = controlsUseVisibility;\n        return this;\n    }\n\n    /**\n     * Turn on optional control elements within the root element. dc currently supports the\n     * following html control elements.\n     * * root.selectAll('.reset') - elements are turned on if the chart has an active filter. This type\n     * of control element is usually used to store a reset link to allow user to reset filter on a\n     * certain chart. This element will be turned off automatically if the filter is cleared.\n     * * root.selectAll('.filter') elements are turned on if the chart has an active filter. The text\n     * content of this element is then replaced with the current filter value using the filter printer\n     * function. This type of element will be turned off automatically if the filter is cleared.\n     * @returns {BaseMixin}\n     */\n    turnOnControls () {\n        if (this._root) {\n            const attribute = this.controlsUseVisibility() ? 'visibility' : 'display';\n            this.selectAll('.reset').style(attribute, null);\n            this.selectAll('.filter').text(this._filterPrinter(this.filters())).style(attribute, null);\n        }\n        return this;\n    }\n\n    /**\n     * Turn off optional control elements within the root element.\n     * @see {@link BaseMixin#turnOnControls turnOnControls}\n     * @returns {BaseMixin}\n     */\n    turnOffControls () {\n        if (this._root) {\n            const attribute = this.controlsUseVisibility() ? 'visibility' : 'display';\n            const value = this.controlsUseVisibility() ? 'hidden' : 'none';\n            this.selectAll('.reset').style(attribute, value);\n            this.selectAll('.filter').style(attribute, value).text(this.filter());\n        }\n        return this;\n    }\n\n    /**\n     * Set or get the animation transition duration (in milliseconds) for this chart instance.\n     * @param {Number} [duration=750]\n     * @returns {Number|BaseMixin}\n     */\n    transitionDuration (duration) {\n        if (!arguments.length) {\n            return this._transitionDuration;\n        }\n        this._transitionDuration = duration;\n        return this;\n    }\n\n    /**\n     * Set or get the animation transition delay (in milliseconds) for this chart instance.\n     * @param {Number} [delay=0]\n     * @returns {Number|BaseMixin}\n     */\n    transitionDelay (delay) {\n        if (!arguments.length) {\n            return this._transitionDelay;\n        }\n        this._transitionDelay = delay;\n        return this;\n    }\n\n    _mandatoryAttributes (_) {\n        if (!arguments.length) {\n            return this._mandatoryAttributesList;\n        }\n        this._mandatoryAttributesList = _;\n        return this;\n    }\n\n    checkForMandatoryAttributes (a) {\n        if (!this[a] || !this[a]()) {\n            throw new InvalidStateException(`Mandatory attribute chart.${a} is missing on chart[#${this.anchorName()}]`);\n        }\n    }\n\n    /**\n     * Invoking this method will force the chart to re-render everything from scratch. Generally it\n     * should only be used to render the chart for the first time on the page or if you want to make\n     * sure everything is redrawn from scratch instead of relying on the default incremental redrawing\n     * behaviour.\n     * @returns {BaseMixin}\n     */\n    render () {\n        this._height = this._width = undefined; // force recalculate\n        this._listeners.call('preRender', this, this);\n\n        if (this._mandatoryAttributesList) {\n            this._mandatoryAttributesList.forEach(e => this.checkForMandatoryAttributes(e));\n        }\n\n        const result = this._doRender();\n\n        if (this._legend) {\n            this._legend.render();\n        }\n\n        this._activateRenderlets('postRender');\n\n        return result;\n    }\n\n    _makeKeyboardAccessible (onClickFunction, ...onClickArgs) {\n        // called from each chart module's render and redraw methods\n        const tabElements = this._svg\n            .selectAll('.dc-tabbable')\n            .attr('tabindex', 0);\n                \n        if (onClickFunction) {\n            tabElements.on('keydown', adaptHandler((d, event) => {\n                // trigger only if d is an object undestood by KeyAccessor()\n                if (event.keyCode === 13 && typeof d === 'object') {\n                    onClickFunction.call(this, d, ...onClickArgs)\n                } \n                // special case for space key press - prevent scrolling\n                if (event.keyCode === 32 && typeof d === 'object') {\n                    onClickFunction.call(this, d, ...onClickArgs)\n                    event.preventDefault();                \n                }\n            \n            }));\n        }\n    }\n\n    _activateRenderlets (event) {\n        this._listeners.call('pretransition', this, this);\n        if (this.transitionDuration() > 0 && this._svg) {\n            this._svg.transition().duration(this.transitionDuration()).delay(this.transitionDelay())\n                .on('end', () => {\n                    this._listeners.call('renderlet', this, this);\n                    if (event) {\n                        this._listeners.call(event, this, this);\n                    }\n                });\n        } else {\n            this._listeners.call('renderlet', this, this);\n            if (event) {\n                this._listeners.call(event, this, this);\n            }\n        }\n    }\n\n    /**\n     * Calling redraw will cause the chart to re-render data changes incrementally. If there is no\n     * change in the underlying data dimension then calling this method will have no effect on the\n     * chart. Most chart interaction in dc will automatically trigger this method through internal\n     * events (in particular {@link redrawAll redrawAll}); therefore, you only need to\n     * manually invoke this function if data is manipulated outside of dc's control (for example if\n     * data is loaded in the background using\n     * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#crossfilter_add crossfilter.add}).\n     * @returns {BaseMixin}\n     */\n    redraw () {\n        this.sizeSvg();\n        this._listeners.call('preRedraw', this, this);\n\n        const result = this._doRedraw();\n\n        if (this._legend) {\n            this._legend.render();\n        }\n\n        this._activateRenderlets('postRedraw');\n\n        return result;\n    }\n\n    /**\n     * Gets/sets the commit handler. If the chart has a commit handler, the handler will be called when\n     * the chart's filters have changed, in order to send the filter data asynchronously to a server.\n     *\n     * Unlike other functions in dc.js, the commit handler is asynchronous. It takes two arguments:\n     * a flag indicating whether this is a render (true) or a redraw (false), and a callback to be\n     * triggered once the commit is done. The callback has the standard node.js continuation signature\n     * with error first and result second.\n     * @param {Function} commitHandler\n     * @returns {BaseMixin}\n     */\n    commitHandler (commitHandler) {\n        if (!arguments.length) {\n            return this._commitHandler;\n        }\n        this._commitHandler = commitHandler;\n        return this;\n    }\n\n    /**\n     * Redraws all charts in the same group as this chart, typically in reaction to a filter\n     * change. If the chart has a {@link BaseMixin.commitFilter commitHandler}, it will\n     * be executed and waited for.\n     * @returns {BaseMixin}\n     */\n    redrawGroup () {\n        if (this._commitHandler) {\n            this._commitHandler(false, (error, result) => {\n                if (error) {\n                    console.log(error);\n                } else {\n                    redrawAll(this.chartGroup());\n                }\n            });\n        } else {\n            redrawAll(this.chartGroup());\n        }\n        return this;\n    }\n\n    /**\n     * Renders all charts in the same group as this chart. If the chart has a\n     * {@link BaseMixin.commitFilter commitHandler}, it will be executed and waited for\n     * @returns {BaseMixin}\n     */\n    renderGroup () {\n        if (this._commitHandler) {\n            this._commitHandler(false, (error, result) => {\n                if (error) {\n                    console.log(error);\n                } else {\n                    renderAll(this.chartGroup());\n                }\n            });\n        } else {\n            renderAll(this.chartGroup());\n        }\n        return this;\n    }\n\n    _invokeFilteredListener (f) {\n        if (f !== undefined) {\n            this._listeners.call('filtered', this, this, f);\n        }\n    }\n\n    _invokeZoomedListener () {\n        this._listeners.call('zoomed', this, this);\n    }\n\n    /**\n     * Set or get the has-filter handler. The has-filter handler is a function that checks to see if\n     * the chart's current filters (first argument) include a specific filter (second argument).  Using a custom has-filter handler allows\n     * you to change the way filters are checked for and replaced.\n     * @example\n     * // default has-filter handler\n     * chart.hasFilterHandler(function (filters, filter) {\n     *     if (filter === null || typeof(filter) === 'undefined') {\n     *         return filters.length > 0;\n     *     }\n     *     return filters.some(function (f) {\n     *         return filter <= f && filter >= f;\n     *     });\n     * });\n     *\n     * // custom filter handler (no-op)\n     * chart.hasFilterHandler(function(filters, filter) {\n     *     return false;\n     * });\n     * @param {Function} [hasFilterHandler]\n     * @returns {Function|BaseMixin}\n     */\n    hasFilterHandler (hasFilterHandler) {\n        if (!arguments.length) {\n            return this._hasFilterHandler;\n        }\n        this._hasFilterHandler = hasFilterHandler;\n        return this;\n    }\n\n    /**\n     * Check whether any active filter or a specific filter is associated with particular chart instance.\n     * This function is **not chainable**.\n     * @see {@link BaseMixin#hasFilterHandler hasFilterHandler}\n     * @param {*} [filter]\n     * @returns {Boolean}\n     */\n    hasFilter (filter) {\n        return this._hasFilterHandler(this._filters, filter);\n    }\n\n    /**\n     * Set or get the remove filter handler. The remove filter handler is a function that removes a\n     * filter from the chart's current filters. Using a custom remove filter handler allows you to\n     * change how filters are removed or perform additional work when removing a filter, e.g. when\n     * using a filter server other than crossfilter.\n     *\n     * The handler should return a new or modified array as the result.\n     * @example\n     * // default remove filter handler\n     * chart.removeFilterHandler(function (filters, filter) {\n     *     for (var i = 0; i < filters.length; i++) {\n     *         if (filters[i] <= filter && filters[i] >= filter) {\n     *             filters.splice(i, 1);\n     *             break;\n     *         }\n     *     }\n     *     return filters;\n     * });\n     *\n     * // custom filter handler (no-op)\n     * chart.removeFilterHandler(function(filters, filter) {\n     *     return filters;\n     * });\n     * @param {Function} [removeFilterHandler]\n     * @returns {Function|BaseMixin}\n     */\n    removeFilterHandler (removeFilterHandler) {\n        if (!arguments.length) {\n            return this._removeFilterHandler;\n        }\n        this._removeFilterHandler = removeFilterHandler;\n        return this;\n    }\n\n    /**\n     * Set or get the add filter handler. The add filter handler is a function that adds a filter to\n     * the chart's filter list. Using a custom add filter handler allows you to change the way filters\n     * are added or perform additional work when adding a filter, e.g. when using a filter server other\n     * than crossfilter.\n     *\n     * The handler should return a new or modified array as the result.\n     * @example\n     * // default add filter handler\n     * chart.addFilterHandler(function (filters, filter) {\n     *     filters.push(filter);\n     *     return filters;\n     * });\n     *\n     * // custom filter handler (no-op)\n     * chart.addFilterHandler(function(filters, filter) {\n     *     return filters;\n     * });\n     * @param {Function} [addFilterHandler]\n     * @returns {Function|BaseMixin}\n     */\n    addFilterHandler (addFilterHandler) {\n        if (!arguments.length) {\n            return this._addFilterHandler;\n        }\n        this._addFilterHandler = addFilterHandler;\n        return this;\n    }\n\n    /**\n     * Set or get the reset filter handler. The reset filter handler is a function that resets the\n     * chart's filter list by returning a new list. Using a custom reset filter handler allows you to\n     * change the way filters are reset, or perform additional work when resetting the filters,\n     * e.g. when using a filter server other than crossfilter.\n     *\n     * The handler should return a new or modified array as the result.\n     * @example\n     * // default remove filter handler\n     * function (filters) {\n     *     return [];\n     * }\n     *\n     * // custom filter handler (no-op)\n     * chart.resetFilterHandler(function(filters) {\n     *     return filters;\n     * });\n     * @param {Function} [resetFilterHandler]\n     * @returns {BaseMixin}\n     */\n    resetFilterHandler (resetFilterHandler) {\n        if (!arguments.length) {\n            return this._resetFilterHandler;\n        }\n        this._resetFilterHandler = resetFilterHandler;\n        return this;\n    }\n\n    applyFilters (filters) {\n        if (this.dimension() && this.dimension().filter) {\n            const fs = this._filterHandler(this.dimension(), filters);\n            if (fs) {\n                filters = fs;\n            }\n        }\n        return filters;\n    }\n\n    /**\n     * Replace the chart filter. This is equivalent to calling `chart.filter(null).filter(filter)`\n     * but more efficient because the filter is only applied once.\n     *\n     * @param {*} [filter]\n     * @returns {BaseMixin}\n     */\n    replaceFilter (filter) {\n        this._filters = this._resetFilterHandler(this._filters);\n        this.filter(filter);\n        return this;\n    }\n\n    /**\n     * Filter the chart by the given parameter, or return the current filter if no input parameter\n     * is given.\n     *\n     * The filter parameter can take one of these forms:\n     * * A single value: the value will be toggled (added if it is not present in the current\n     * filters, removed if it is present)\n     * * An array containing a single array of values (`[[value,value,value]]`): each value is\n     * toggled\n     * * When appropriate for the chart, a {@link filters dc filter object} such as\n     *   * {@link filters.RangedFilter `filters.RangedFilter`} for the\n     * {@link CoordinateGridMixin CoordinateGridMixin} charts\n     *   * {@link filters.TwoDimensionalFilter `filters.TwoDimensionalFilter`} for the\n     * {@link HeatMap heat map}\n     *   * {@link filters.RangedTwoDimensionalFilter `filters.RangedTwoDimensionalFilter`}\n     * for the {@link ScatterPlot scatter plot}\n     * * `null`: the filter will be reset using the\n     * {@link BaseMixin#resetFilterHandler resetFilterHandler}\n     *\n     * Note that this is always a toggle (even when it doesn't make sense for the filter type). If\n     * you wish to replace the current filter, either call `chart.filter(null)` first - or it's more\n     * efficient to call {@link BaseMixin#replaceFilter `chart.replaceFilter(filter)`} instead.\n     *\n     * Each toggle is executed by checking if the value is already present using the\n     * {@link BaseMixin#hasFilterHandler hasFilterHandler}; if it is not present, it is added\n     * using the {@link BaseMixin#addFilterHandler addFilterHandler}; if it is already present,\n     * it is removed using the {@link BaseMixin#removeFilterHandler removeFilterHandler}.\n     *\n     * Once the filters array has been updated, the filters are applied to the\n     * crossfilter dimension, using the {@link BaseMixin#filterHandler filterHandler}.\n     *\n     * Once you have set the filters, call {@link BaseMixin#redrawGroup `chart.redrawGroup()`}\n     * (or {@link redrawAll `redrawAll()`}) to redraw the chart's group.\n     * @see {@link BaseMixin#addFilterHandler addFilterHandler}\n     * @see {@link BaseMixin#removeFilterHandler removeFilterHandler}\n     * @see {@link BaseMixin#resetFilterHandler resetFilterHandler}\n     * @see {@link BaseMixin#filterHandler filterHandler}\n     * @example\n     * // filter by a single string\n     * chart.filter('Sunday');\n     * // filter by a single age\n     * chart.filter(18);\n     * // filter by a set of states\n     * chart.filter([['MA', 'TX', 'ND', 'WA']]);\n     * // filter by range -- note the use of filters.RangedFilter, which is different\n     * // from the syntax for filtering a crossfilter dimension directly, dimension.filter([15,20])\n     * chart.filter(filters.RangedFilter(15,20));\n     * @param {*} [filter]\n     * @returns {BaseMixin}\n     */\n    filter (filter) {\n        if (!arguments.length) {\n            return this._filters.length > 0 ? this._filters[0] : null;\n        }\n        let filters = this._filters;\n        if (filter instanceof Array && filter[0] instanceof Array && !filter.isFiltered) {\n            // toggle each filter\n            filter[0].forEach(f => {\n                if (this._hasFilterHandler(filters, f)) {\n                    filters = this._removeFilterHandler(filters, f);\n                } else {\n                    filters = this._addFilterHandler(filters, f);\n                }\n            });\n        } else if (filter === null) {\n            filters = this._resetFilterHandler(filters);\n        } else {\n            if (this._hasFilterHandler(filters, filter)) {\n                filters = this._removeFilterHandler(filters, filter);\n            } else {\n                filters = this._addFilterHandler(filters, filter);\n            }\n        }\n        this._filters = this.applyFilters(filters);\n        this._invokeFilteredListener(filter);\n\n        if (this._root !== null && this.hasFilter()) {\n            this.turnOnControls();\n        } else {\n            this.turnOffControls();\n        }\n\n        return this;\n    }\n\n    /**\n     * Returns all current filters. This method does not perform defensive cloning of the internal\n     * filter array before returning, therefore any modification of the returned array will effect the\n     * chart's internal filter storage.\n     * @returns {Array<*>}\n     */\n    filters () {\n        return this._filters;\n    }\n\n    highlightSelected (e) {\n        select(e).classed(constants.SELECTED_CLASS, true);\n        select(e).classed(constants.DESELECTED_CLASS, false);\n    }\n\n    fadeDeselected (e) {\n        select(e).classed(constants.SELECTED_CLASS, false);\n        select(e).classed(constants.DESELECTED_CLASS, true);\n    }\n\n    resetHighlight (e) {\n        select(e).classed(constants.SELECTED_CLASS, false);\n        select(e).classed(constants.DESELECTED_CLASS, false);\n    }\n\n    /**\n     * This function is passed to d3 as the onClick handler for each chart. The default behavior is to\n     * filter on the clicked datum (passed to the callback) and redraw the chart group.\n     *\n     * This function can be replaced in order to change the click behavior (but first look at\n     * @example\n     * var oldHandler = chart.onClick;\n     * chart.onClick = function(datum) {\n     *   // use datum.\n     * @param {*} datum\n     * @return {undefined}\n     */\n    onClick (datum) {\n        const filter = this.keyAccessor()(datum);\n        events.trigger(() => {\n            this.filter(filter);\n            this.redrawGroup();\n        });\n    }\n\n    /**\n     * Set or get the filter handler. The filter handler is a function that performs the filter action\n     * on a specific dimension. Using a custom filter handler allows you to perform additional logic\n     * before or after filtering.\n     * @see {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension_filter crossfilter.dimension.filter}\n     * @example\n     * // the default filter handler handles all possible cases for the charts in dc.js\n     * // you can replace it with something more specialized for your own chart\n     * chart.filterHandler(function (dimension, filters) {\n     *     if (filters.length === 0) {\n     *         // the empty case (no filtering)\n     *         dimension.filter(null);\n     *     } else if (filters.length === 1 && !filters[0].isFiltered) {\n     *         // single value and not a function-based filter\n     *         dimension.filterExact(filters[0]);\n     *     } else if (filters.length === 1 && filters[0].filterType === 'RangedFilter') {\n     *         // single range-based filter\n     *         dimension.filterRange(filters[0]);\n     *     } else {\n     *         // an array of values, or an array of filter objects\n     *         dimension.filterFunction(function (d) {\n     *             for (var i = 0; i < filters.length; i++) {\n     *                 var filter = filters[i];\n     *                 if (filter.isFiltered && filter.isFiltered(d)) {\n     *                     return true;\n     *                 } else if (filter <= d && filter >= d) {\n     *                     return true;\n     *                 }\n     *             }\n     *             return false;\n     *         });\n     *     }\n     *     return filters;\n     * });\n     *\n     * // custom filter handler\n     * chart.filterHandler(function(dimension, filter){\n     *     var newFilter = filter + 10;\n     *     dimension.filter(newFilter);\n     *     return newFilter; // set the actual filter value to the new value\n     * });\n     * @param {Function} [filterHandler]\n     * @returns {Function|BaseMixin}\n     */\n    filterHandler (filterHandler) {\n        if (!arguments.length) {\n            return this._filterHandler;\n        }\n        this._filterHandler = filterHandler;\n        return this;\n    }\n\n    // abstract function stub\n    _doRender () {\n        // do nothing in base, should be overridden by sub-function\n        return this;\n    }\n\n    _doRedraw () {\n        // do nothing in base, should be overridden by sub-function\n        return this;\n    }\n\n    legendables () {\n        // do nothing in base, should be overridden by sub-function\n        return [];\n    }\n\n    legendHighlight () {\n        // do nothing in base, should be overridden by sub-function\n    }\n\n    legendReset () {\n        // do nothing in base, should be overridden by sub-function\n    }\n\n    legendToggle () {\n        // do nothing in base, should be overriden by sub-function\n    }\n\n    isLegendableHidden () {\n        // do nothing in base, should be overridden by sub-function\n        return false;\n    }\n\n    /**\n     * Set or get the key accessor function. The key accessor function is used to retrieve the key\n     * value from the crossfilter group. Key values are used differently in different charts, for\n     * example keys correspond to slices in a pie chart and x axis positions in a grid coordinate chart.\n     * @example\n     * // default key accessor\n     * chart.keyAccessor(function(d) { return d.key; });\n     * // custom key accessor for a multi-value crossfilter reduction\n     * chart.keyAccessor(function(p) { return p.value.absGain; });\n     * @param {Function} [keyAccessor]\n     * @returns {Function|BaseMixin}\n     */\n    keyAccessor (keyAccessor) {\n        if (!arguments.length) {\n            return this._keyAccessor;\n        }\n        this._keyAccessor = keyAccessor;\n        return this;\n    }\n\n    /**\n     * Set or get the value accessor function. The value accessor function is used to retrieve the\n     * value from the crossfilter group. Group values are used differently in different charts, for\n     * example values correspond to slice sizes in a pie chart and y axis positions in a grid\n     * coordinate chart.\n     * @example\n     * // default value accessor\n     * chart.valueAccessor(function(d) { return d.value; });\n     * // custom value accessor for a multi-value crossfilter reduction\n     * chart.valueAccessor(function(p) { return p.value.percentageGain; });\n     * @param {Function} [valueAccessor]\n     * @returns {Function|BaseMixin}\n     */\n    valueAccessor (valueAccessor) {\n        if (!arguments.length) {\n            return this._valueAccessor;\n        }\n        this._valueAccessor = valueAccessor;\n        return this;\n    }\n\n    /**\n     * Set or get the label function. The chart class will use this function to render labels for each\n     * child element in the chart, e.g. slices in a pie chart or bubbles in a bubble chart. Not every\n     * chart supports the label function, for example line chart does not use this function\n     * at all. By default, enables labels; pass false for the second parameter if this is not desired.\n     * @example\n     * // default label function just return the key\n     * chart.label(function(d) { return d.key; });\n     * // label function has access to the standard d3 data binding and can get quite complicated\n     * chart.label(function(d) { return d.data.key + '(' + Math.floor(d.data.value / all.value() * 100) + '%)'; });\n     * @param {Function} [labelFunction]\n     * @param {Boolean} [enableLabels=true]\n     * @returns {Function|BaseMixin}\n     */\n    label (labelFunction, enableLabels) {\n        if (!arguments.length) {\n            return this._label;\n        }\n        this._label = labelFunction;\n        if ((enableLabels === undefined) || enableLabels) {\n            this._renderLabel = true;\n        }\n        return this;\n    }\n\n    /**\n     * Turn on/off label rendering\n     * @param {Boolean} [renderLabel=false]\n     * @returns {Boolean|BaseMixin}\n     */\n    renderLabel (renderLabel) {\n        if (!arguments.length) {\n            return this._renderLabel;\n        }\n        this._renderLabel = renderLabel;\n        return this;\n    }\n\n    /**\n     * Set or get the title function. The chart class will use this function to render the SVGElement title\n     * (usually interpreted by browser as tooltips) for each child element in the chart, e.g. a slice\n     * in a pie chart or a bubble in a bubble chart. Almost every chart supports the title function;\n     * however in grid coordinate charts you need to turn off the brush in order to see titles, because\n     * otherwise the brush layer will block tooltip triggering.\n     * @example\n     * // default title function shows \"key: value\"\n     * chart.title(function(d) { return d.key + ': ' + d.value; });\n     * // title function has access to the standard d3 data binding and can get quite complicated\n     * chart.title(function(p) {\n     *    return p.key.getFullYear()\n     *        + '\\n'\n     *        + 'Index Gain: ' + numberFormat(p.value.absGain) + '\\n'\n     *        + 'Index Gain in Percentage: ' + numberFormat(p.value.percentageGain) + '%\\n'\n     *        + 'Fluctuation / Index Ratio: ' + numberFormat(p.value.fluctuationPercentage) + '%';\n     * });\n     * @param {Function} [titleFunction]\n     * @returns {Function|BaseMixin}\n     */\n    title (titleFunction) {\n        if (!arguments.length) {\n            return this._title;\n        }\n        this._title = titleFunction;\n        return this;\n    }\n\n    /**\n     * Turn on/off title rendering, or return the state of the render title flag if no arguments are\n     * given.\n     * @param {Boolean} [renderTitle=true]\n     * @returns {Boolean|BaseMixin}\n     */\n    renderTitle (renderTitle) {\n        if (!arguments.length) {\n            return this._renderTitle;\n        }\n        this._renderTitle = renderTitle;\n        return this;\n    }\n\n    /**\n     * Get or set the chart group to which this chart belongs. Chart groups are rendered or redrawn\n     * together since it is expected they share the same underlying crossfilter data set.\n     * @param {String} [chartGroup]\n     * @returns {String|BaseMixin}\n     */\n    chartGroup (chartGroup) {\n        if (!arguments.length) {\n            return this._chartGroup;\n        }\n        if (!this._isChild) {\n            deregisterChart(this, this._chartGroup);\n        }\n        this._chartGroup = chartGroup;\n        if (!this._isChild) {\n            registerChart(this, this._chartGroup);\n        }\n        return this;\n    }\n\n    /**\n     * Expire the internal chart cache. dc charts cache some data internally on a per chart basis to\n     * speed up rendering and avoid unnecessary calculation; however it might be useful to clear the\n     * cache if you have changed state which will affect rendering.  For example, if you invoke\n     * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#crossfilter_add crossfilter.add}\n     * function or reset group or dimension after rendering, it is a good idea to\n     * clear the cache to make sure charts are rendered properly.\n     * @returns {BaseMixin}\n     */\n    expireCache () {\n        // do nothing in base, should be overridden by sub-function\n        return this;\n    }\n\n    /**\n     * Attach a Legend widget to this chart. The legend widget will automatically draw legend labels\n     * based on the color setting and names associated with each group.\n     * @example\n     * chart.legend(new Legend().x(400).y(10).itemHeight(13).gap(5))\n     * @param {Legend} [legend]\n     * @returns {Legend|BaseMixin}\n     */\n    legend (legend) {\n        if (!arguments.length) {\n            return this._legend;\n        }\n        this._legend = legend;\n        this._legend.parent(this);\n        return this;\n    }\n\n    /**\n     * Returns the internal numeric ID of the chart.\n     * @returns {String}\n     */\n    chartID () {\n        return this.__dcFlag__;\n    }\n\n    /**\n     * Set chart options using a configuration object. Each key in the object will cause the method of\n     * the same name to be called with the value to set that attribute for the chart.\n     * @example\n     * chart.options({dimension: myDimension, group: myGroup});\n     * @param {{}} opts\n     * @returns {BaseMixin}\n     */\n    options (opts) {\n        const applyOptions = [\n            'anchor',\n            'group',\n            'xAxisLabel',\n            'yAxisLabel',\n            'stack',\n            'title',\n            'point',\n            'getColor',\n            'overlayGeoJson'\n        ];\n\n        for (const o in opts) {\n            if (typeof (this[o]) === 'function') {\n                if (opts[o] instanceof Array && applyOptions.indexOf(o) !== -1) {\n                    this[o].apply(this, opts[o]);\n                } else {\n                    this[o].call(this, opts[o]);\n                }\n            } else {\n                logger.debug(`Not a valid option setter name: ${o}`);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * All dc chart instance supports the following listeners.\n     * Supports the following events:\n     * * `renderlet` - This listener function will be invoked after transitions after redraw and render. Replaces the\n     * deprecated {@link BaseMixin#renderlet renderlet} method.\n     * * `pretransition` - Like `.on('renderlet', ...)` but the event is fired before transitions start.\n     * * `preRender` - This listener function will be invoked before chart rendering.\n     * * `postRender` - This listener function will be invoked after chart finish rendering including\n     * all renderlets' logic.\n     * * `preRedraw` - This listener function will be invoked before chart redrawing.\n     * * `postRedraw` - This listener function will be invoked after chart finish redrawing\n     * including all renderlets' logic.\n     * * `filtered` - This listener function will be invoked after a filter is applied, added or removed.\n     * * `zoomed` - This listener function will be invoked after a zoom is triggered.\n     * @see {@link https://github.com/d3/d3-dispatch/blob/master/README.md#dispatch_on d3.dispatch.on}\n     * @example\n     * .on('renderlet', function(chart, filter){...})\n     * .on('pretransition', function(chart, filter){...})\n     * .on('preRender', function(chart){...})\n     * .on('postRender', function(chart){...})\n     * .on('preRedraw', function(chart){...})\n     * .on('postRedraw', function(chart){...})\n     * .on('filtered', function(chart, filter){...})\n     * .on('zoomed', function(chart, filter){...})\n     * @param {String} event\n     * @param {Function} listener\n     * @returns {BaseMixin}\n     */\n    on (event, listener) {\n        this._listeners.on(event, listener);\n        return this;\n    }\n\n    /**\n     * A renderlet is similar to an event listener on rendering event. Multiple renderlets can be added\n     * to an individual chart.  Each time a chart is rerendered or redrawn the renderlets are invoked\n     * right after the chart finishes its transitions, giving you a way to modify the SVGElements.\n     * Renderlet functions take the chart instance as the only input parameter and you can\n     * use the dc API or use raw d3 to achieve pretty much any effect.\n     *\n     * Use {@link BaseMixin#on on} with a 'renderlet' prefix.\n     * Generates a random key for the renderlet, which makes it hard to remove.\n     * @deprecated chart.renderlet has been deprecated. Please use chart.on(\"renderlet.<renderletKey>\", renderletFunction)\n     * @example\n     * // do this instead of .renderlet(function(chart) { ... })\n     * chart.on(\"renderlet\", function(chart){\n     *     // mix of dc API and d3 manipulation\n     *     chart.select('g.y').style('display', 'none');\n     *     // its a closure so you can also access other chart variable available in the closure scope\n     *     moveChart.filter(chart.filter());\n     * });\n     * @param {Function} renderletFunction\n     * @returns {BaseMixin}\n     */\n    renderlet (renderletFunction) {\n        logger.warnOnce('chart.renderlet has been deprecated. Please use chart.on(\"renderlet.<renderletKey>\", renderletFunction)');\n        this.on(`renderlet.${utils.uniqueId()}`, renderletFunction);\n        return this;\n    }\n}\n\nexport const baseMixin = () => new BaseMixin();\n","import {scaleLinear, scaleOrdinal, scaleQuantize} from 'd3-scale';\nimport {interpolateHcl} from 'd3-interpolate';\nimport {max, min} from 'd3-array';\n\nimport {config} from '../core/config';\nimport {utils} from '../core/utils';\n\n/**\n * The Color Mixin is an abstract chart functional class providing universal coloring support\n * as a mix-in for any concrete chart implementation.\n * @mixin ColorMixin\n * @param {Object} Base\n * @returns {ColorMixin}\n */\nexport const ColorMixin = Base => class extends Base {\n    constructor () {\n        super();\n\n        this._colors = scaleOrdinal(config.defaultColors());\n\n        this._colorAccessor = d => this.keyAccessor()(d);\n        this._colorCalculator = undefined;\n\n        {\n            const chart = this;\n            // ES6: this method is called very differently from stack-mixin and derived charts\n            // Removing and placing it as a member method is tricky\n\n            /**\n                 * Get the color for the datum d and counter i. This is used internally by charts to retrieve a color.\n                 * @method getColor\n                 * @memberof ColorMixin\n                 * @instance\n                 * @param {*} d\n                 * @param {Number} [i]\n                 * @returns {String}\n                 */\n            chart.getColor = function (d, i) {\n                return chart._colorCalculator ?\n                    chart._colorCalculator.call(this, d, i) :\n                    chart._colors(chart._colorAccessor.call(this, d, i));\n            };\n        }\n    }\n\n    /**\n         * Set the domain by determining the min and max values as retrieved by\n         * {@link ColorMixin#colorAccessor .colorAccessor} over the chart's dataset.\n         * @memberof ColorMixin\n         * @instance\n         * @returns {ColorMixin}\n         */\n    calculateColorDomain () {\n        const newDomain = [min(this.data(), this.colorAccessor()),\n                           max(this.data(), this.colorAccessor())];\n        this._colors.domain(newDomain);\n        return this;\n    }\n\n    /**\n         * Retrieve current color scale or set a new color scale. This methods accepts any function that\n         * operates like a d3 scale.\n         * @memberof ColorMixin\n         * @instance\n         * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n         * @example\n         * // alternate categorical scale\n         * chart.colors(d3.scale.category20b());\n         * // ordinal scale\n         * chart.colors(d3.scaleOrdinal().range(['red','green','blue']));\n         * // convenience method, the same as above\n         * chart.ordinalColors(['red','green','blue']);\n         * // set a linear scale\n         * chart.linearColors([\"#4575b4\", \"#ffffbf\", \"#a50026\"]);\n         * @param {d3.scale} [colorScale=d3.scaleOrdinal(d3.schemeCategory20c)]\n         * @returns {d3.scale|ColorMixin}\n         */\n    colors (colorScale) {\n        if (!arguments.length) {\n            return this._colors;\n        }\n        if (colorScale instanceof Array) {\n            this._colors = scaleQuantize().range(colorScale); // deprecated legacy support, note: this fails for ordinal domains\n        } else {\n            this._colors = typeof colorScale === 'function' ? colorScale : utils.constant(colorScale);\n        }\n        return this;\n    }\n\n    /**\n         * Convenience method to set the color scale to\n         * {@link https://github.com/d3/d3-scale/blob/master/README.md#ordinal-scales d3.scaleOrdinal} with\n         * range `r`.\n         * @memberof ColorMixin\n         * @instance\n         * @param {Array<String>} r\n         * @returns {ColorMixin}\n         */\n    ordinalColors (r) {\n        return this.colors(scaleOrdinal().range(r));\n    }\n\n    /**\n         * Convenience method to set the color scale to an Hcl interpolated linear scale with range `r`.\n         * @memberof ColorMixin\n         * @instance\n         * @param {Array<Number>} r\n         * @returns {ColorMixin}\n         */\n    linearColors (r) {\n        return this.colors(scaleLinear()\n                .range(r)\n                .interpolate(interpolateHcl));\n    }\n\n    /**\n         * Set or the get color accessor function. This function will be used to map a data point in a\n         * crossfilter group to a color value on the color scale. The default function uses the key\n         * accessor.\n         * @memberof ColorMixin\n         * @instance\n         * @example\n         * // default index based color accessor\n         * .colorAccessor(function (d, i){return i;})\n         * // color accessor for a multi-value crossfilter reduction\n         * .colorAccessor(function (d){return d.value.absGain;})\n         * @param {Function} [colorAccessor]\n         * @returns {Function|ColorMixin}\n         */\n    colorAccessor (colorAccessor) {\n        if (!arguments.length) {\n            return this._colorAccessor;\n        }\n        this._colorAccessor = colorAccessor;\n        return this;\n    }\n\n    /**\n         * Set or get the current domain for the color mapping function. The domain must be supplied as an\n         * array.\n         *\n         * Note: previously this method accepted a callback function. Instead you may use a custom scale\n         * set by {@link ColorMixin#colors .colors}.\n         * @memberof ColorMixin\n         * @instance\n         * @param {Array<String>} [domain]\n         * @returns {Array<String>|ColorMixin}\n         */\n    colorDomain (domain) {\n        if (!arguments.length) {\n            return this._colors.domain();\n        }\n        this._colors.domain(domain);\n        return this;\n    }\n\n    /**\n         * Overrides the color selection algorithm, replacing it with a simple function.\n         *\n         * Normally colors will be determined by calling the `colorAccessor` to get a value, and then passing that\n         * value through the `colorScale`.\n         *\n         * But sometimes it is difficult to get a color scale to produce the desired effect. The `colorCalculator`\n         * takes the datum and index and returns a color directly.\n         * @memberof ColorMixin\n         * @instance\n         * @param {*} [colorCalculator]\n         * @returns {Function|ColorMixin}\n         */\n    colorCalculator (colorCalculator) {\n        if (!arguments.length) {\n            return this._colorCalculator || this.getColor;\n        }\n        this._colorCalculator = colorCalculator;\n        return this;\n    }\n};\n","import { ascending, descending, min, max } from 'd3-array';\nimport { scaleLinear } from 'd3-scale';\n\nimport {ColorMixin} from './color-mixin';\nimport {transition} from '../core/core';\nimport {events} from '../core/events';\nimport {adaptHandler} from '../core/d3compat';\n\n/**\n * This Mixin provides reusable functionalities for any chart that needs to visualize data using bubbles.\n * @mixin BubbleMixin\n * @mixes ColorMixin\n * @param {Object} Base\n * @returns {BubbleMixin}\n */\nexport const BubbleMixin = Base => class extends ColorMixin(Base) {\n    constructor () {\n        super();\n\n        this._maxBubbleRelativeSize = 0.3;\n        this._minRadiusWithLabel = 10;\n        this._sortBubbleSize = false;\n        this._elasticRadius = false;\n        this._excludeElasticZero = true;\n\n        // These cane be used by derived classes as well, so member status\n        this.BUBBLE_NODE_CLASS = 'node';\n        this.BUBBLE_CLASS = 'bubble';\n        this.MIN_RADIUS = 10;\n\n        this.renderLabel(true);\n\n        this.data(group => {\n            const data = group.all();\n\n            if (this._keyboardAccessible) {\n                // sort based on the x value (key)\n                data.sort((a, b) => ascending(this.keyAccessor()(a), this.keyAccessor()(b)));\n            }\n\n            if (this._sortBubbleSize) {\n                // sort descending so smaller bubbles are on top\n                const radiusAccessor = this.radiusValueAccessor();\n                data.sort((a, b) => descending(radiusAccessor(a), radiusAccessor(b)));\n            }\n            return data;\n        });\n\n        this._r = scaleLinear().domain([0, 100]);\n    }\n\n    _rValueAccessor (d) {\n        return d.r;\n    }\n\n    /**\n         * Get or set the bubble radius scale. By default the bubble chart uses\n         * {@link https://github.com/d3/d3-scale/blob/master/README.md#scaleLinear d3.scaleLinear().domain([0, 100])}\n         * as its radius scale.\n         * @memberof BubbleMixin\n         * @instance\n         * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n         * @param {d3.scale} [bubbleRadiusScale=d3.scaleLinear().domain([0, 100])]\n         * @returns {d3.scale|BubbleMixin}\n         */\n    r (bubbleRadiusScale) {\n        if (!arguments.length) {\n            return this._r;\n        }\n        this._r = bubbleRadiusScale;\n        return this;\n    }\n\n    /**\n         * Turn on or off the elastic bubble radius feature, or return the value of the flag. If this\n         * feature is turned on, then bubble radii will be automatically rescaled to fit the chart better.\n         * @memberof BubbleMixin\n         * @instance\n         * @param {Boolean} [elasticRadius=false]\n         * @returns {Boolean|BubbleChart}\n         */\n    elasticRadius (elasticRadius) {\n        if (!arguments.length) {\n            return this._elasticRadius;\n        }\n        this._elasticRadius = elasticRadius;\n        return this;\n    }\n\n    calculateRadiusDomain () {\n        if (this._elasticRadius) {\n            this.r().domain([this.rMin(), this.rMax()]);\n        }\n    }\n\n    /**\n         * Get or set the radius value accessor function. If set, the radius value accessor function will\n         * be used to retrieve a data value for each bubble. The data retrieved then will be mapped using\n         * the r scale to the actual bubble radius. This allows you to encode a data dimension using bubble\n         * size.\n         * @memberof BubbleMixin\n         * @instance\n         * @param {Function} [radiusValueAccessor]\n         * @returns {Function|BubbleMixin}\n         */\n    radiusValueAccessor (radiusValueAccessor) {\n        if (!arguments.length) {\n            return this._rValueAccessor;\n        }\n        this._rValueAccessor = radiusValueAccessor;\n        return this;\n    }\n\n    rMin () {\n        let values = this.data().map(this.radiusValueAccessor());\n        if(this._excludeElasticZero) {\n            values = values.filter(value => value > 0);\n        }\n        return min(values);\n    }\n\n    rMax () {\n        return max(this.data(), e => this.radiusValueAccessor()(e));\n    }\n\n    bubbleR (d) {\n        const value = this.radiusValueAccessor()(d);\n        let r = this.r()(value);\n        if (isNaN(r) || value <= 0) {\n            r = 0;\n        }\n        return r;\n    }\n\n    _labelFunction (d) {\n        return this.label()(d);\n    }\n\n    _shouldLabel (d) {\n        return (this.bubbleR(d) > this._minRadiusWithLabel);\n    }\n\n    _labelOpacity (d) {\n        return this._shouldLabel(d) ? 1 : 0;\n    }\n\n    _labelPointerEvent (d) {\n        return this._shouldLabel(d) ? 'all' : 'none';\n    }\n\n    _doRenderLabel (bubbleGEnter) {\n        if (this.renderLabel()) {\n            let label = bubbleGEnter.select('text');\n\n            if (label.empty()) {\n                label = bubbleGEnter.append('text')\n                        .attr('text-anchor', 'middle')\n                        .attr('dy', '.3em')\n                        .on('click', adaptHandler(d => this.onClick(d)));\n            }\n\n            label\n                    .attr('opacity', 0)\n                    .attr('pointer-events', d => this._labelPointerEvent(d))\n                    .text(d => this._labelFunction(d));\n            transition(label, this.transitionDuration(), this.transitionDelay())\n                    .attr('opacity', d => this._labelOpacity(d));\n        }\n    }\n\n    doUpdateLabels (bubbleGEnter) {\n        if (this.renderLabel()) {\n            const labels = bubbleGEnter.select('text')\n                    .attr('pointer-events', d => this._labelPointerEvent(d))\n                    .text(d => this._labelFunction(d));\n            transition(labels, this.transitionDuration(), this.transitionDelay())\n                    .attr('opacity', d => this._labelOpacity(d));\n        }\n    }\n\n    _titleFunction (d) {\n        return this.title()(d);\n    }\n\n    _doRenderTitles (g) {\n        if (this.renderTitle()) {\n            const title = g.select('title');\n\n            if (title.empty()) {\n                g.append('title').text(d => this._titleFunction(d));\n            }\n        }\n    }\n\n    doUpdateTitles (g) {\n        if (this.renderTitle()) {\n            g.select('title').text(d => this._titleFunction(d));\n        }\n    }\n\n    /**\n         * Turn on or off the bubble sorting feature, or return the value of the flag. If enabled,\n         * bubbles will be sorted by their radius, with smaller bubbles in front.\n         * @memberof BubbleChart\n         * @instance\n         * @param {Boolean} [sortBubbleSize=false]\n         * @returns {Boolean|BubbleChart}\n         */\n    sortBubbleSize (sortBubbleSize) {\n        if (!arguments.length) {\n            return this._sortBubbleSize;\n        }\n        this._sortBubbleSize = sortBubbleSize;\n        return this;\n    }\n\n    /**\n         * Get or set the minimum radius. This will be used to initialize the radius scale's range.\n         * @memberof BubbleMixin\n         * @instance\n         * @param {Number} [radius=10]\n         * @returns {Number|BubbleMixin}\n         */\n    minRadius (radius) {\n        if (!arguments.length) {\n            return this.MIN_RADIUS;\n        }\n        this.MIN_RADIUS = radius;\n        return this;\n    }\n\n    /**\n         * Get or set the minimum radius for label rendering. If a bubble's radius is less than this value\n         * then no label will be rendered.\n         * @memberof BubbleMixin\n         * @instance\n         * @param {Number} [radius=10]\n         * @returns {Number|BubbleMixin}\n         */\n\n    minRadiusWithLabel (radius) {\n        if (!arguments.length) {\n            return this._minRadiusWithLabel;\n        }\n        this._minRadiusWithLabel = radius;\n        return this;\n    }\n\n    /**\n         * Get or set the maximum relative size of a bubble to the length of x axis. This value is useful\n         * when the difference in radius between bubbles is too great.\n         * @memberof BubbleMixin\n         * @instance\n         * @param {Number} [relativeSize=0.3]\n         * @returns {Number|BubbleMixin}\n         */\n    maxBubbleRelativeSize (relativeSize) {\n        if (!arguments.length) {\n            return this._maxBubbleRelativeSize;\n        }\n        this._maxBubbleRelativeSize = relativeSize;\n        return this;\n    }\n\n    /**\n     * Should the chart exclude zero when calculating elastic bubble radius?\n     * @memberof BubbleMixin\n     * @instance\n     * @param  {Boolean} [excludeZero=true]\n     * @returns {Boolean|BubbleMixin}\n     */\n    excludeElasticZero (excludeZero) {\n        if (!arguments.length) {\n            return this._excludeElasticZero;\n        }\n        this._excludeElasticZero = excludeZero;\n        return this;\n    }\n\n    fadeDeselectedArea (selection) {\n        if (this.hasFilter()) {\n            const chart = this;\n            this.selectAll(`g.${chart.BUBBLE_NODE_CLASS}`).each(function (d) {\n                if (chart.isSelectedNode(d)) {\n                    chart.highlightSelected(this);\n                } else {\n                    chart.fadeDeselected(this);\n                }\n            });\n        } else {\n            const chart = this;\n            this.selectAll(`g.${chart.BUBBLE_NODE_CLASS}`).each(function () {\n                chart.resetHighlight(this);\n            });\n        }\n    }\n\n    isSelectedNode (d) {\n        return this.hasFilter(d.key);\n    }\n\n    onClick (d) {\n        const filter = d.key;\n        events.trigger(() => {\n            this.filter(filter);\n            this.redrawGroup();\n        });\n    }\n};\n","import {sum} from 'd3-array';\n\n/**\n * Cap is a mixin that groups small data elements below a _cap_ into an *others* grouping for both the\n * Row and Pie Charts.\n *\n * The top ordered elements in the group up to the cap amount will be kept in the chart, and the rest\n * will be replaced with an *others* element, with value equal to the sum of the replaced values. The\n * keys of the elements below the cap limit are recorded in order to filter by those keys when the\n * others* element is clicked.\n * @mixin CapMixin\n * @param {Object} Base\n * @returns {CapMixin}\n */\nexport const CapMixin = Base => class extends Base {\n    constructor () {\n        super();\n\n        this._cap = Infinity;\n        this._takeFront = true;\n        this._othersLabel = 'Others';\n\n        this._othersGrouper = (topItems, restItems) => {\n            const restItemsSum = sum(restItems, this.valueAccessor()),\n                restKeys = restItems.map(this.keyAccessor());\n            if (restItemsSum > 0) {\n                return topItems.concat([{\n                    others: restKeys,\n                    key: this.othersLabel(),\n                    value: restItemsSum\n                }]);\n            }\n            return topItems;\n        };\n\n        // emulate old group.top(N) ordering\n        this.ordering(kv => -kv.value);\n\n        // return N \"top\" groups, where N is the cap, sorted by baseMixin.ordering\n        // whether top means front or back depends on takeFront\n        this.data(group => {\n            if (this._cap === Infinity) {\n                return this._computeOrderedGroups(group.all());\n            } else {\n                let items = group.all(), rest;\n                items = this._computeOrderedGroups(items); // sort by baseMixin.ordering\n\n                if (this._cap) {\n                    if (this._takeFront) {\n                        rest = items.slice(this._cap);\n                        items = items.slice(0, this._cap);\n                    } else {\n                        const start = Math.max(0, items.length - this._cap);\n                        rest = items.slice(0, start);\n                        items = items.slice(start);\n                    }\n                }\n\n                if (this._othersGrouper) {\n                    return this._othersGrouper(items, rest);\n                }\n                return items;\n            }\n        });\n    }\n\n    cappedKeyAccessor (d, i) {\n        if (d.others) {\n            return d.key;\n        }\n        return this.keyAccessor()(d, i);\n    }\n\n    cappedValueAccessor (d, i) {\n        if (d.others) {\n            return d.value;\n        }\n        return this.valueAccessor()(d, i);\n    }\n\n    /**\n         * Get or set the count of elements to that will be included in the cap. If there is an\n         * {@link CapMixin#othersGrouper othersGrouper}, any further elements will be combined in an\n         * extra element with its name determined by {@link CapMixin#othersLabel othersLabel}.\n         *\n         * As of dc.js 2.1 and onward, the capped charts use\n         * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group_all group.all()}\n         * and {@link BaseMixin#ordering BaseMixin.ordering()} to determine the order of\n         * elements. Then `cap` and {@link CapMixin#takeFront takeFront} determine how many elements\n         * to keep, from which end of the resulting array.\n         *\n         * **Migration note:** Up through dc.js 2.0.*, capping used\n         * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group_top group.top(N)},\n         * which selects the largest items according to\n         * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group_order group.order()}.\n         * The chart then sorted the items according to {@link BaseMixin#ordering baseMixin.ordering()}.\n         * So the two values essentially had to agree, but if the `group.order()` was incorrect (it's\n         * easy to forget about), the wrong rows or slices would be displayed, in the correct order.\n         *\n         * If your chart previously relied on `group.order()`, use `chart.ordering()` instead. As of\n         * 2.1.5, the ordering defaults to sorting from greatest to least like `group.top(N)` did.\n         *\n         * If you want to cap by one ordering but sort by another, you can still do this by\n         * specifying your own {@link BaseMixin#data `.data()`} callback. For details, see the example\n         * {@link https://dc-js.github.io/dc.js/examples/cap-and-sort-differently.html Cap and Sort Differently}.\n         * @memberof CapMixin\n         * @instance\n         * @param {Number} [count=Infinity]\n         * @returns {Number|CapMixin}\n         */\n    cap (count) {\n        if (!arguments.length) {\n            return this._cap;\n        }\n        this._cap = count;\n        return this;\n    }\n\n    /**\n         * Get or set the direction of capping. If set, the chart takes the first\n         * {@link CapMixin#cap cap} elements from the sorted array of elements; otherwise\n         * it takes the last `cap` elements.\n         * @memberof CapMixin\n         * @instance\n         * @param {Boolean} [takeFront=true]\n         * @returns {Boolean|CapMixin}\n         */\n    takeFront (takeFront) {\n        if (!arguments.length) {\n            return this._takeFront;\n        }\n        this._takeFront = takeFront;\n        return this;\n    }\n\n    /**\n         * Get or set the label for *Others* slice when slices cap is specified.\n         * @memberof CapMixin\n         * @instance\n         * @param {String} [label=\"Others\"]\n         * @returns {String|CapMixin}\n         */\n    othersLabel (label) {\n        if (!arguments.length) {\n            return this._othersLabel;\n        }\n        this._othersLabel = label;\n        return this;\n    }\n\n    /**\n         * Get or set the grouper function that will perform the insertion of data for the *Others* slice\n         * if the slices cap is specified. If set to a falsy value, no others will be added.\n         *\n         * The grouper function takes an array of included (\"top\") items, and an array of the rest of\n         * the items. By default the grouper function computes the sum of the rest.\n         * @memberof CapMixin\n         * @instance\n         * @example\n         * // Do not show others\n         * chart.othersGrouper(null);\n         * // Default others grouper\n         * chart.othersGrouper(function (topItems, restItems) {\n         *     var restItemsSum = d3.sum(restItems, _chart.valueAccessor()),\n         *         restKeys = restItems.map(_chart.keyAccessor());\n         *     if (restItemsSum > 0) {\n         *         return topItems.concat([{\n         *             others: restKeys,\n         *             key: _chart.othersLabel(),\n         *             value: restItemsSum\n         *         }]);\n         *     }\n         *     return topItems;\n         * });\n         * @param {Function} [grouperFunction]\n         * @returns {Function|CapMixin}\n         */\n    othersGrouper (grouperFunction) {\n        if (!arguments.length) {\n            return this._othersGrouper;\n        }\n        this._othersGrouper = grouperFunction;\n        return this;\n    }\n\n    onClick (d) {\n        if (d.others) {\n            this.filter([d.others]);\n        }\n        super.onClick(d);\n    }\n};\n","import {BaseMixin} from './base-mixin';\n\n/**\n * Margin is a mixin that provides margin utility functions for both the Row Chart and Coordinate Grid\n * Charts.\n * @mixin MarginMixin\n * @param {Object} Base\n * @returns {MarginMixin}\n */\nexport class MarginMixin extends BaseMixin {\n    constructor () {\n        super();\n\n        this._margin = {top: 10, right: 50, bottom: 30, left: 30};\n    }\n\n    /**\n     * Get or set the margins for a particular coordinate grid chart instance. The margins is stored as\n     * an associative Javascript array.\n     * @memberof MarginMixin\n     * @instance\n     * @example\n     * var leftMargin = chart.margins().left; // 30 by default\n     * chart.margins().left = 50;\n     * leftMargin = chart.margins().left; // now 50\n     * @param {{top: Number, right: Number, left: Number, bottom: Number}} [margins={top: 10, right: 50, bottom: 30, left: 30}]\n     * @returns {{top: Number, right: Number, left: Number, bottom: Number}|MarginMixin}\n     */\n    margins (margins) {\n        if (!arguments.length) {\n            return this._margin;\n        }\n        this._margin = margins;\n        return this;\n    }\n\n    /**\n     * Effective width of the chart excluding margins (in pixels).\n     *\n     * @returns {number}\n     */\n    effectiveWidth () {\n        return this.width() - this.margins().left - this.margins().right;\n    }\n\n    /**\n     * Effective height of the chart excluding margins (in pixels).\n     *\n     * @returns {number}\n     */\n    effectiveHeight () {\n        return this.height() - this.margins().top - this.margins().bottom;\n    }\n}\n","import {schemeCategory10} from 'd3-scale-chromatic';\nimport {timeDay} from 'd3-time';\nimport {max, min} from 'd3-array';\nimport {scaleBand, scaleLinear, scaleOrdinal} from 'd3-scale';\nimport {axisTop, axisBottom, axisLeft, axisRight} from 'd3-axis';\nimport {zoom, zoomIdentity} from 'd3-zoom';\nimport {brushX} from 'd3-brush';\n\nimport {ColorMixin} from './color-mixin';\nimport {MarginMixin} from './margin-mixin';\nimport {optionalTransition, transition} from '../core/core';\nimport {units} from '../core/units';\nimport {constants} from '../core/constants';\nimport {utils} from '../core/utils';\nimport {adaptHandler} from '../core/d3compat';\nimport {logger} from '../core/logger';\nimport {filters} from '../core/filters';\nimport {events} from '../core/events';\n\nconst GRID_LINE_CLASS = 'grid-line';\nconst HORIZONTAL_CLASS = 'horizontal';\nconst VERTICAL_CLASS = 'vertical';\nconst Y_AXIS_LABEL_CLASS = 'y-axis-label';\nconst X_AXIS_LABEL_CLASS = 'x-axis-label';\nconst CUSTOM_BRUSH_HANDLE_CLASS = 'custom-brush-handle';\nconst DEFAULT_AXIS_LABEL_PADDING = 12;\n\n/**\n * Coordinate Grid is an abstract base chart designed to support a number of coordinate grid based\n * concrete chart types, e.g. bar chart, line chart, and bubble chart.\n * @mixin CoordinateGridMixin\n * @mixes ColorMixin\n * @mixes MarginMixin\n */\nexport class CoordinateGridMixin extends ColorMixin(MarginMixin) {\n    constructor () {\n        super();\n\n        this.colors(scaleOrdinal(schemeCategory10));\n        this._mandatoryAttributes().push('x');\n        this._parent = undefined;\n        this._g = undefined;\n        this._chartBodyG = undefined;\n\n        this._x = undefined;\n        this._origX = undefined; // Will hold original scale in case of zoom\n        this._xOriginalDomain = undefined;\n        this._xAxis = null;\n        this._xUnits = units.integers;\n        this._xAxisPadding = 0;\n        this._xAxisPaddingUnit = timeDay;\n        this._xElasticity = false;\n        this._xAxisLabel = undefined;\n        this._xAxisLabelPadding = 0;\n        this._lastXDomain = undefined;\n\n        this._y = undefined;\n        this._yAxis = null;\n        this._yAxisPadding = 0;\n        this._yElasticity = false;\n        this._yAxisLabel = undefined;\n        this._yAxisLabelPadding = 0;\n\n        this._brush = brushX();\n\n        this._gBrush = undefined;\n        this._brushOn = true;\n        this._parentBrushOn = false;\n        this._round = undefined;\n        this._ignoreBrushEvents = false; // ignore when carrying out programmatic brush operations\n\n        this._renderHorizontalGridLine = false;\n        this._renderVerticalGridLine = false;\n\n        this._resizing = false;\n        this._unitCount = undefined;\n\n        this._zoomScale = [1, Infinity];\n        this._zoomOutRestrict = true;\n\n        this._zoom = zoom().on('zoom', adaptHandler((d, evt) => this._onZoom(evt)));\n        this._nullZoom = zoom().on('zoom', null);\n        this._hasBeenMouseZoomable = false;\n        this._ignoreZoomEvents = false; // ignore when carrying out programmatic zoom operations\n\n        this._rangeChart = undefined;\n        this._focusChart = undefined;\n\n        this._mouseZoomable = false;\n        this._clipPadding = 0;\n\n        this._fOuterRangeBandPadding = 0.5;\n        this._fRangeBandPadding = 0;\n\n        this._useRightYAxis = false;\n        this._useTopXAxis = false;\n    }\n\n    /**\n     * When changing the domain of the x or y scale, it is necessary to tell the chart to recalculate\n     * and redraw the axes. (`.rescale()` is called automatically when the x or y scale is replaced\n     * with {@link CoordinateGridMixin+x .x()} or {@link CoordinateGridMixin#y .y()}, and has\n     * no effect on elastic scales.)\n     * @returns {CoordinateGridMixin}\n     */\n    rescale () {\n        this._unitCount = undefined;\n        this._resizing = true;\n        return this;\n    }\n\n    resizing (resizing) {\n        if (!arguments.length) {\n            return this._resizing;\n        }\n        this._resizing = resizing;\n        return this;\n    }\n\n    /**\n     * Get or set the range selection chart associated with this instance. Setting the range selection\n     * chart using this function will automatically update its selection brush when the current chart\n     * zooms in. In return the given range chart will also automatically attach this chart as its focus\n     * chart hence zoom in when range brush updates.\n     *\n     * Usually the range and focus charts will share a dimension. The range chart will set the zoom\n     * boundaries for the focus chart, so its dimension values must be compatible with the domain of\n     * the focus chart.\n     *\n     * See the [Nasdaq 100 Index](http://dc-js.github.com/dc.js/) example for this effect in action.\n     * @param {CoordinateGridMixin} [rangeChart]\n     * @returns {CoordinateGridMixin}\n     */\n    rangeChart (rangeChart) {\n        if (!arguments.length) {\n            return this._rangeChart;\n        }\n        this._rangeChart = rangeChart;\n        this._rangeChart.focusChart(this);\n        return this;\n    }\n\n    /**\n     * Get or set the scale extent for mouse zooms.\n     * @param {Array<Number|Date>} [extent=[1, Infinity]]\n     * @returns {Array<Number|Date>|CoordinateGridMixin}\n     */\n    zoomScale (extent) {\n        if (!arguments.length) {\n            return this._zoomScale;\n        }\n        this._zoomScale = extent;\n        return this;\n    }\n\n    /**\n     * Get or set the zoom restriction for the chart. If true limits the zoom to origional domain of the chart.\n     * @param {Boolean} [zoomOutRestrict=true]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    zoomOutRestrict (zoomOutRestrict) {\n        if (!arguments.length) {\n            return this._zoomOutRestrict;\n        }\n        this._zoomOutRestrict = zoomOutRestrict;\n        return this;\n    }\n\n    _generateG (parent) {\n        if (parent === undefined) {\n            this._parent = this.svg();\n        } else {\n            this._parent = parent;\n        }\n\n        const href = window.location.href.split('#')[0];\n\n        this._g = this._parent.append('g');\n\n        this._chartBodyG = this._g.append('g').attr('class', 'chart-body')\n            .attr('transform', `translate(${this.margins().left}, ${this.margins().top})`)\n            .attr('clip-path', `url(${href}#${this._getClipPathId()})`);\n\n        return this._g;\n    }\n\n    /**\n     * Get or set the root g element. This method is usually used to retrieve the g element in order to\n     * overlay custom svg drawing programatically. **Caution**: The root g element is usually generated\n     * by dc.js internals, and resetting it might produce unpredictable result.\n     * @param {SVGElement} [gElement]\n     * @returns {SVGElement|CoordinateGridMixin}\n     */\n    g (gElement) {\n        if (!arguments.length) {\n            return this._g;\n        }\n        this._g = gElement;\n        return this;\n    }\n\n    /**\n     * Set or get mouse zoom capability flag (default: false). When turned on the chart will be\n     * zoomable using the mouse wheel. If the range selector chart is attached zooming will also update\n     * the range selection brush on the associated range selector chart.\n     * @param {Boolean} [mouseZoomable=false]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    mouseZoomable (mouseZoomable) {\n        if (!arguments.length) {\n            return this._mouseZoomable;\n        }\n        this._mouseZoomable = mouseZoomable;\n        return this;\n    }\n\n    /**\n     * Retrieve the svg group for the chart body.\n     * @param {SVGElement} [chartBodyG]\n     * @returns {SVGElement}\n     */\n    chartBodyG (chartBodyG) {\n        if (!arguments.length) {\n            return this._chartBodyG;\n        }\n        this._chartBodyG = chartBodyG;\n        return this;\n    }\n\n    /**\n     * **mandatory**\n     *\n     * Get or set the x scale. The x scale can be any d3\n     * {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale} or\n     * {@link https://github.com/d3/d3-scale/blob/master/README.md#ordinal-scales ordinal scale}\n     * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n     * @example\n     * // set x to a linear scale\n     * chart.x(d3.scaleLinear().domain([-2500, 2500]))\n     * // set x to a time scale to generate histogram\n     * chart.x(d3.scaleTime().domain([new Date(1985, 0, 1), new Date(2012, 11, 31)]))\n     * @param {d3.scale} [xScale]\n     * @returns {d3.scale|CoordinateGridMixin}\n     */\n    x (xScale) {\n        if (!arguments.length) {\n            return this._x;\n        }\n        this._x = xScale;\n        this._xOriginalDomain = this._x.domain();\n        this.rescale();\n        return this;\n    }\n\n    xOriginalDomain () {\n        return this._xOriginalDomain;\n    }\n\n    /**\n     * Set or get the xUnits function. The coordinate grid chart uses the xUnits function to calculate\n     * the number of data projections on the x axis such as the number of bars for a bar chart or the\n     * number of dots for a line chart.\n     *\n     * This function is expected to return a Javascript array of all data points on the x axis, or\n     * the number of points on the axis. d3 time range functions [d3.timeDays, d3.timeMonths, and\n     * d3.timeYears](https://github.com/d3/d3-time/blob/master/README.md#intervals) are all valid\n     * xUnits functions.\n     *\n     * dc.js also provides a few units function, see the {@link units Units Namespace} for\n     * a list of built-in units functions.\n     *\n     * Note that as of dc.js 3.0, `units.ordinal` is not a real function, because it is not\n     * possible to define this function compliant with the d3 range functions. It was already a\n     * magic value which caused charts to behave differently, and now it is completely so.\n     * @example\n     * // set x units to count days\n     * chart.xUnits(d3.timeDays);\n     * // set x units to count months\n     * chart.xUnits(d3.timeMonths);\n     *\n     * // A custom xUnits function can be used as long as it follows the following interface:\n     * // units in integer\n     * function(start, end) {\n     *      // simply calculates how many integers in the domain\n     *      return Math.abs(end - start);\n     * }\n     *\n     * // fixed units\n     * function(start, end) {\n     *      // be aware using fixed units will disable the focus/zoom ability on the chart\n     *      return 1000;\n     * }\n     * @param {Function} [xUnits=units.integers]\n     * @returns {Function|CoordinateGridMixin}\n     */\n    xUnits (xUnits) {\n        if (!arguments.length) {\n            return this._xUnits;\n        }\n        this._xUnits = xUnits;\n        return this;\n    }\n\n    /**\n     * Set or get the x axis used by a particular coordinate grid chart instance. This function is most\n     * useful when x axis customization is required. The x axis in dc.js is an instance of a\n     * {@link https://github.com/d3/d3-axis/blob/master/README.md#axisBottom d3 bottom axis object};\n     * therefore it supports any valid d3 axisBottom manipulation.\n     *\n     * **Caution**: The x axis is usually generated internally by dc; resetting it may cause\n     * unexpected results. Note also that when used as a getter, this function is not chainable:\n     * it returns the axis, not the chart,\n     * {@link https://github.com/dc-js/dc.js/wiki/FAQ#why-does-everything-break-after-a-call-to-xaxis-or-yaxis\n         * so attempting to call chart functions after calling `.xAxis()` will fail}.\n     * @see {@link https://github.com/d3/d3-axis/blob/master/README.md#axisBottom d3.axisBottom}\n     * @example\n     * // customize x axis tick format\n     * chart.xAxis().tickFormat(function(v) {return v + '%';});\n     * // customize x axis tick values\n     * chart.xAxis().tickValues([0, 100, 200, 300]);\n     * @param {d3.axis} [xAxis=d3.axisBottom()]\n     * @returns {d3.axis|CoordinateGridMixin}\n     */\n    xAxis (xAxis) {\n        if (!arguments.length) {\n            if (!this._xAxis) {\n                this._xAxis = this._createXAxis();\n            }\n            return this._xAxis;\n        }\n        this._xAxis = xAxis;\n        return this;\n    }\n\n    /**\n     * Turn on/off elastic x axis behavior. If x axis elasticity is turned on, then the grid chart will\n     * attempt to recalculate the x axis range whenever a redraw event is triggered.\n     * @param {Boolean} [elasticX=false]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    elasticX (elasticX) {\n        if (!arguments.length) {\n            return this._xElasticity;\n        }\n        this._xElasticity = elasticX;\n        return this;\n    }\n\n    /**\n     * Set or get x axis padding for the elastic x axis. The padding will be added to both end of the x\n     * axis if elasticX is turned on; otherwise it is ignored.\n     *\n     * Padding can be an integer or percentage in string (e.g. '10%'). Padding can be applied to\n     * number or date x axes.  When padding a date axis, an integer represents number of units being padded\n     * and a percentage string will be treated the same as an integer. The unit will be determined by the\n     * xAxisPaddingUnit variable.\n     * @param {Number|String} [padding=0]\n     * @returns {Number|String|CoordinateGridMixin}\n     */\n    xAxisPadding (padding) {\n        if (!arguments.length) {\n            return this._xAxisPadding;\n        }\n        this._xAxisPadding = padding;\n        return this;\n    }\n\n    /**\n     * Set or get x axis padding unit for the elastic x axis. The padding unit will determine which unit to\n     * use when applying xAxis padding if elasticX is turned on and if x-axis uses a time dimension;\n     * otherwise it is ignored.\n     *\n     * The padding unit should be a\n     * [d3 time interval](https://github.com/d3/d3-time/blob/master/README.md#self._interval).\n     * For backward compatibility with dc.js 2.0, it can also be the name of a d3 time interval\n     * ('day', 'hour', etc). Available arguments are the\n     * [d3 time intervals](https://github.com/d3/d3-time/blob/master/README.md#intervals d3.timeInterval).\n     * @param {String} [unit=d3.timeDay]\n     * @returns {String|CoordinateGridMixin}\n     */\n    xAxisPaddingUnit (unit) {\n        if (!arguments.length) {\n            return this._xAxisPaddingUnit;\n        }\n        this._xAxisPaddingUnit = unit;\n        return this;\n    }\n\n    /**\n     * Returns the number of units displayed on the x axis. If the x axis is ordinal (`xUnits` is\n     * `units.ordinal`), this is the number of items in the domain of the x scale. Otherwise, the\n     * x unit count is calculated using the {@link CoordinateGridMixin#xUnits xUnits} function.\n     * @returns {Number}\n     */\n    xUnitCount () {\n        if (this._unitCount === undefined) {\n            if (this.isOrdinal()) {\n                // In this case it number of items in domain\n                this._unitCount = this.x().domain().length;\n            } else {\n                this._unitCount = this.xUnits()(this.x().domain()[0], this.x().domain()[1]);\n\n                // Sometimes xUnits() may return an array while sometimes directly the count\n                if (this._unitCount instanceof Array) {\n                    this._unitCount = this._unitCount.length;\n                }\n            }\n        }\n\n        return this._unitCount;\n    }\n\n    /**\n     * Gets or sets whether the chart should be drawn with a right axis instead of a left axis. When\n     * used with a chart in a composite chart, allows both left and right Y axes to be shown on a\n     * chart.\n     * @param {Boolean} [useRightYAxis=false]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    useRightYAxis (useRightYAxis) {\n        if (!arguments.length) {\n            return this._useRightYAxis;\n        }\n\n        // We need to warn if value is changing after self._yAxis was created\n        if (this._useRightYAxis !== useRightYAxis && this._yAxis) {\n            logger.warn('Value of useRightYAxis has been altered, after yAxis was created. ' +\n                'You might get unexpected yAxis behavior. ' +\n                'Make calls to useRightYAxis sooner in your chart creation process.');\n        }\n\n        this._useRightYAxis = useRightYAxis;\n        return this;\n    }\n\n    /**\n     * Gets or sets whether the chart should be drawn with a top axis instead of a bottom axis. When\n     * used with a chart in a composite chart, allows both top and bottom X axes to be shown on a\n     * chart.\n     * @param {Boolean} [useTopXAxis=false]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    useTopXAxis (useTopXAxis) {\n        if (!arguments.length) {\n            return this._useTopXAxis;\n        }\n\n        // We need to warn if value is changing after self._yAxis was created\n        if (this._useTopXAxis !== useTopXAxis && this._xAxis) {\n            logger.warn('Value of useTopXAxis has been altered, after xAxis was created. ' +\n                'You might get unexpected yAxis behavior. ' +\n                'Make calls to useTopXAxis sooner in your chart creation process.');\n        }\n\n        this._useTopXAxis = useTopXAxis;\n        return this;\n    }\n\n    /**\n     * Returns true if the chart is using ordinal xUnits ({@link units.ordinal units.ordinal}, or false\n     * otherwise. Most charts behave differently with ordinal data and use the result of this method to\n     * trigger the appropriate logic.\n     * @returns {Boolean}\n     */\n    isOrdinal () {\n        return this.xUnits() === units.ordinal;\n    }\n\n    _useOuterPadding () {\n        return true;\n    }\n\n    _ordinalXDomain () {\n        const groups = this._computeOrderedGroups(this.data());\n        return groups.map(this.keyAccessor());\n    }\n\n    _createXAxis () {\n        return this._useTopXAxis ? axisTop() : axisBottom();\n    }\n\n    // eslint-disable-next-line complexity\n    _prepareXAxis (g, render) {\n        if (!this.isOrdinal()) {\n            if (this.elasticX()) {\n                this._x.domain([this.xAxisMin(), this.xAxisMax()]);\n            }\n        } else { // self._chart.isOrdinal()\n            // D3v4 - Ordinal charts would need scaleBand\n            // bandwidth is a method in scaleBand\n            // (https://github.com/d3/d3-scale/blob/master/README.md#scaleBand)\n            if (!this._x.bandwidth) {\n                // If self._x is not a scaleBand create a new scale and\n                // copy the original domain to the new scale\n                logger.warn('For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need ' +\n                    'd3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). ' +\n                    'Replacing .x() with a d3.scaleBand with the same domain - ' +\n                    'make the same change in your code to avoid this warning!');\n                this._x = scaleBand().domain(this._x.domain());\n            }\n\n            if (this.elasticX() || this._x.domain().length === 0) {\n                this._x.domain(this._ordinalXDomain());\n            }\n        }\n\n        // has the domain changed?\n        const xdom = this._x.domain();\n        if (render || !utils.arraysEqual(this._lastXDomain, xdom)) {\n            this.rescale();\n        }\n        this._lastXDomain = xdom;\n\n        // please can't we always use rangeBands for bar charts?\n        if (this.isOrdinal()) {\n            this._x.range([0, this.xAxisLength()])\n                .paddingInner(this._fRangeBandPadding)\n                .paddingOuter(this._useOuterPadding() ? this._fOuterRangeBandPadding : 0);\n        } else {\n            this._x.range([0, this.xAxisLength()]);\n        }\n\n        if (!this._xAxis) {\n            this._xAxis = this._createXAxis()\n        }\n\n        this._xAxis = this._xAxis.scale(this.x());\n\n        this._renderVerticalGridLines(g);\n    }\n\n    renderXAxis (g) {\n        let axisXG = g.select('g.x');\n\n        if (axisXG.empty()) {\n            axisXG = g.append('g')\n                .attr('class', 'axis x')\n                .attr('transform', `translate(${this.margins().left},${this._xAxisY()})`);\n        }\n\n        let axisXLab = g.select(`text.${X_AXIS_LABEL_CLASS}`);\n        const axisXLabY = this._useTopXAxis ? this._xAxisLabelPadding : (this.height() - this._xAxisLabelPadding);\n        if (axisXLab.empty() && this.xAxisLabel()) {\n            axisXLab = g.append('text')\n                .attr('class', X_AXIS_LABEL_CLASS)\n                .attr('transform', `translate(${this.margins().left + this.xAxisLength() / 2},${axisXLabY})`)\n                .attr('text-anchor', 'middle');\n        }\n        if (this.xAxisLabel() && axisXLab.text() !== this.xAxisLabel()) {\n            axisXLab.text(this.xAxisLabel());\n        }\n\n        transition(axisXG, this.transitionDuration(), this.transitionDelay())\n            .attr('transform', `translate(${this.margins().left},${this._xAxisY()})`)\n            .call(this._xAxis);\n        transition(axisXLab, this.transitionDuration(), this.transitionDelay())\n            .attr('transform', `translate(${this.margins().left + this.xAxisLength() / 2},${axisXLabY})`);\n    }\n\n    _renderVerticalGridLines (g) {\n        let gridLineG = g.select(`g.${VERTICAL_CLASS}`);\n\n        if (this._renderVerticalGridLine) {\n            if (gridLineG.empty()) {\n                gridLineG = g.insert('g', ':first-child')\n                    .attr('class', `${GRID_LINE_CLASS} ${VERTICAL_CLASS}`)\n                    .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n            }\n\n            const ticks = this._xAxis.tickValues() ? this._xAxis.tickValues() :\n                (typeof this._x.ticks === 'function' ? this._x.ticks.apply(this._x, this._xAxis.tickArguments()) : this._x.domain());\n\n            const lines = gridLineG.selectAll('line')\n                .data(ticks);\n\n            // enter\n            const linesGEnter = lines.enter()\n                .append('line')\n                .attr('x1', d => this._x(d))\n                .attr('y1', this._xAxisY() - this.margins().top)\n                .attr('x2', d => this._x(d))\n                .attr('y2', 0)\n                .attr('opacity', 0);\n            transition(linesGEnter, this.transitionDuration(), this.transitionDelay())\n                .attr('opacity', 0.5);\n\n            // update\n            transition(lines, this.transitionDuration(), this.transitionDelay())\n                .attr('x1', d => this._x(d))\n                .attr('y1', this._xAxisY() - this.margins().top)\n                .attr('x2', d => this._x(d))\n                .attr('y2', 0);\n\n            // exit\n            lines.exit().remove();\n        } else {\n            gridLineG.selectAll('line').remove();\n        }\n    }\n\n    _xAxisY () {\n        return this._useTopXAxis ? this.margins().top : this.height() - this.margins().bottom;\n    }\n\n    xAxisLength () {\n        return this.effectiveWidth();\n    }\n\n    /**\n     * Set or get the x axis label. If setting the label, you may optionally include additional padding to\n     * the margin to make room for the label. By default the padded is set to 12 to accomodate the text height.\n     * @param {String} [labelText]\n     * @param {Number} [padding=12]\n     * @returns {String}\n     */\n    xAxisLabel (labelText, padding) {\n        if (!arguments.length) {\n            return this._xAxisLabel;\n        }\n        this._xAxisLabel = labelText;\n        this.margins().bottom -= this._xAxisLabelPadding;\n        this._xAxisLabelPadding = (padding === undefined) ? DEFAULT_AXIS_LABEL_PADDING : padding;\n        this.margins().bottom += this._xAxisLabelPadding;\n        return this;\n    }\n\n    _createYAxis () {\n        return this._useRightYAxis ? axisRight() : axisLeft();\n    }\n\n    _prepareYAxis (g) {\n        if (this._y === undefined || this.elasticY()) {\n            if (this._y === undefined) {\n                this._y = scaleLinear();\n            }\n            const _min = this.yAxisMin() || 0;\n            const _max = this.yAxisMax() || 0;\n            this._y.domain([_min, _max]).rangeRound([this.yAxisHeight(), 0]);\n        }\n\n        this._y.range([this.yAxisHeight(), 0]);\n\n        if (!this._yAxis) {\n            this._yAxis = this._createYAxis();\n        }\n\n        this._yAxis.scale(this._y);\n\n        this._renderHorizontalGridLinesForAxis(g, this._y, this._yAxis);\n    }\n\n    renderYAxisLabel (axisClass, text, rotation, labelXPosition) {\n        labelXPosition = labelXPosition || this._yAxisLabelPadding;\n\n        let axisYLab = this.g().select(`text.${Y_AXIS_LABEL_CLASS}.${axisClass}-label`);\n        const labelYPosition = (this.margins().top + this.yAxisHeight() / 2);\n        if (axisYLab.empty() && text) {\n            axisYLab = this.g().append('text')\n                .attr('transform', `translate(${labelXPosition},${labelYPosition}),rotate(${rotation})`)\n                .attr('class', `${Y_AXIS_LABEL_CLASS} ${axisClass}-label`)\n                .attr('text-anchor', 'middle')\n                .text(text);\n        }\n        if (text && axisYLab.text() !== text) {\n            axisYLab.text(text);\n        }\n        transition(axisYLab, this.transitionDuration(), this.transitionDelay())\n            .attr('transform', `translate(${labelXPosition},${labelYPosition}),rotate(${rotation})`);\n    }\n\n    renderYAxisAt (axisClass, axis, position) {\n        let axisYG = this.g().select(`g.${axisClass}`);\n        if (axisYG.empty()) {\n            axisYG = this.g().append('g')\n                .attr('class', `axis ${axisClass}`)\n                .attr('transform', `translate(${position},${this.margins().top})`);\n        }\n\n        transition(axisYG, this.transitionDuration(), this.transitionDelay())\n            .attr('transform', `translate(${position},${this.margins().top})`)\n            .call(axis);\n    }\n\n    renderYAxis () {\n        const axisPosition = this._useRightYAxis ? (this.width() - this.margins().right) : this._yAxisX();\n        this.renderYAxisAt('y', this._yAxis, axisPosition);\n        const labelPosition = this._useRightYAxis ? (this.width() - this._yAxisLabelPadding) : this._yAxisLabelPadding;\n        const rotation = this._useRightYAxis ? 90 : -90;\n        this.renderYAxisLabel('y', this.yAxisLabel(), rotation, labelPosition);\n    }\n\n    _renderHorizontalGridLinesForAxis (g, scale, axis) {\n        let gridLineG = g.select(`g.${HORIZONTAL_CLASS}`);\n\n        if (this._renderHorizontalGridLine) {\n            // see https://github.com/d3/d3-axis/blob/master/src/axis.js#L48\n            const ticks = axis.tickValues() ? axis.tickValues() :\n                (scale.ticks ? scale.ticks.apply(scale, axis.tickArguments()) : scale.domain());\n\n            if (gridLineG.empty()) {\n                gridLineG = g.insert('g', ':first-child')\n                    .attr('class', `${GRID_LINE_CLASS} ${HORIZONTAL_CLASS}`)\n                    .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n            }\n\n            const lines = gridLineG.selectAll('line')\n                .data(ticks);\n\n            // enter\n            const linesGEnter = lines.enter()\n                .append('line')\n                .attr('x1', 1)\n                .attr('y1', d => scale(d))\n                .attr('x2', this.xAxisLength())\n                .attr('y2', d => scale(d))\n                .attr('opacity', 0);\n            transition(linesGEnter, this.transitionDuration(), this.transitionDelay())\n                .attr('opacity', 0.5);\n\n            // update\n            transition(lines, this.transitionDuration(), this.transitionDelay())\n                .attr('x1', 1)\n                .attr('y1', d => scale(d))\n                .attr('x2', this.xAxisLength())\n                .attr('y2', d => scale(d));\n\n            // exit\n            lines.exit().remove();\n        } else {\n            gridLineG.selectAll('line').remove();\n        }\n    }\n\n    _yAxisX () {\n        return this.useRightYAxis() ? this.width() - this.margins().right : this.margins().left;\n    }\n\n    /**\n     * Set or get the y axis label. If setting the label, you may optionally include additional padding\n     * to the margin to make room for the label. By default the padding is set to 12 to accommodate the\n     * text height.\n     * @param {String} [labelText]\n     * @param {Number} [padding=12]\n     * @returns {String|CoordinateGridMixin}\n     */\n    yAxisLabel (labelText, padding) {\n        if (!arguments.length) {\n            return this._yAxisLabel;\n        }\n        this._yAxisLabel = labelText;\n        this.margins().left -= this._yAxisLabelPadding;\n        this._yAxisLabelPadding = (padding === undefined) ? DEFAULT_AXIS_LABEL_PADDING : padding;\n        this.margins().left += this._yAxisLabelPadding;\n        return this;\n    }\n\n    /**\n     * Get or set the y scale. The y scale is typically automatically determined by the chart implementation.\n     * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n     * @param {d3.scale} [yScale]\n     * @returns {d3.scale|CoordinateGridMixin}\n     */\n    y (yScale) {\n        if (!arguments.length) {\n            return this._y;\n        }\n        this._y = yScale;\n        this.rescale();\n        return this;\n    }\n\n    /**\n     * Set or get the y axis used by the coordinate grid chart instance. This function is most useful\n     * when y axis customization is required. Depending on `useRightYAxis` the y axis in dc.js is an instance of\n     * either [d3.axisLeft](https://github.com/d3/d3-axis/blob/master/README.md#axisLeft) or\n     * [d3.axisRight](https://github.com/d3/d3-axis/blob/master/README.md#axisRight); therefore it supports any\n     * valid d3 axis manipulation.\n     *\n     * **Caution**: The y axis is usually generated internally by dc; resetting it may cause\n     * unexpected results.  Note also that when used as a getter, this function is not chainable: it\n     * returns the axis, not the chart,\n     * {@link https://github.com/dc-js/dc.js/wiki/FAQ#why-does-everything-break-after-a-call-to-xaxis-or-yaxis\n         * so attempting to call chart functions after calling `.yAxis()` will fail}.\n     * In addition, depending on whether you are going to use the axis on left or right\n     * you need to appropriately pass [d3.axisLeft](https://github.com/d3/d3-axis/blob/master/README.md#axisLeft)\n     * or [d3.axisRight](https://github.com/d3/d3-axis/blob/master/README.md#axisRight)\n     * @see {@link https://github.com/d3/d3-axis/blob/master/README.md d3.axis}\n     * @example\n     * // customize y axis tick format\n     * chart.yAxis().tickFormat(function(v) {return v + '%';});\n     * // customize y axis tick values\n     * chart.yAxis().tickValues([0, 100, 200, 300]);\n     * @param {d3.axisLeft|d3.axisRight} [yAxis]\n     * @returns {d3.axisLeft|d3.axisRight|CoordinateGridMixin}\n     */\n    yAxis (yAxis) {\n        if (!arguments.length) {\n            if (!this._yAxis) {\n                this._yAxis = this._createYAxis();\n            }\n            return this._yAxis;\n        }\n        this._yAxis = yAxis;\n        return this;\n    }\n\n    /**\n     * Turn on/off elastic y axis behavior. If y axis elasticity is turned on, then the grid chart will\n     * attempt to recalculate the y axis range whenever a redraw event is triggered.\n     * @param {Boolean} [elasticY=false]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    elasticY (elasticY) {\n        if (!arguments.length) {\n            return this._yElasticity;\n        }\n        this._yElasticity = elasticY;\n        return this;\n    }\n\n    /**\n     * Turn on/off horizontal grid lines.\n     * @param {Boolean} [renderHorizontalGridLines=false]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    renderHorizontalGridLines (renderHorizontalGridLines) {\n        if (!arguments.length) {\n            return this._renderHorizontalGridLine;\n        }\n        this._renderHorizontalGridLine = renderHorizontalGridLines;\n        return this;\n    }\n\n    /**\n     * Turn on/off vertical grid lines.\n     * @param {Boolean} [renderVerticalGridLines=false]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    renderVerticalGridLines (renderVerticalGridLines) {\n        if (!arguments.length) {\n            return this._renderVerticalGridLine;\n        }\n        this._renderVerticalGridLine = renderVerticalGridLines;\n        return this;\n    }\n\n    /**\n     * Calculates the minimum x value to display in the chart. Includes xAxisPadding if set.\n     * @returns {*}\n     */\n    xAxisMin () {\n        const m = min(this.data(), e => this.keyAccessor()(e));\n        return utils.subtract(m, this._xAxisPadding, this._xAxisPaddingUnit);\n    }\n\n    /**\n     * Calculates the maximum x value to display in the chart. Includes xAxisPadding if set.\n     * @returns {*}\n     */\n    xAxisMax () {\n        const m = max(this.data(), e => this.keyAccessor()(e));\n        return utils.add(m, this._xAxisPadding, this._xAxisPaddingUnit);\n    }\n\n    /**\n     * Calculates the minimum y value to display in the chart. Includes yAxisPadding if set.\n     * @returns {*}\n     */\n    yAxisMin () {\n        const m = min(this.data(), e => this.valueAccessor()(e));\n        return utils.subtract(m, this._yAxisPadding);\n    }\n\n    /**\n     * Calculates the maximum y value to display in the chart. Includes yAxisPadding if set.\n     * @returns {*}\n     */\n    yAxisMax () {\n        const m = max(this.data(), e => this.valueAccessor()(e));\n        return utils.add(m, this._yAxisPadding);\n    }\n\n    /**\n     * Set or get y axis padding for the elastic y axis. The padding will be added to the top and\n     * bottom of the y axis if elasticY is turned on; otherwise it is ignored.\n     *\n     * Padding can be an integer or percentage in string (e.g. '10%'). Padding can be applied to\n     * number or date axes. When padding a date axis, an integer represents number of days being padded\n     * and a percentage string will be treated the same as an integer.\n     * @param {Number|String} [padding=0]\n     * @returns {Number|CoordinateGridMixin}\n     */\n    yAxisPadding (padding) {\n        if (!arguments.length) {\n            return this._yAxisPadding;\n        }\n        this._yAxisPadding = padding;\n        return this;\n    }\n\n    yAxisHeight () {\n        return this.effectiveHeight();\n    }\n\n    /**\n     * Set or get the rounding function used to quantize the selection when brushing is enabled.\n     * @example\n     * // set x unit round to by month, this will make sure range selection brush will\n     * // select whole months\n     * chart.round(d3.timeMonth.round);\n     * @param {Function} [round]\n     * @returns {Function|CoordinateGridMixin}\n     */\n    round (round) {\n        if (!arguments.length) {\n            return this._round;\n        }\n        this._round = round;\n        return this;\n    }\n\n    _rangeBandPadding (_) {\n        if (!arguments.length) {\n            return this._fRangeBandPadding;\n        }\n        this._fRangeBandPadding = _;\n        return this;\n    }\n\n    _outerRangeBandPadding (_) {\n        if (!arguments.length) {\n            return this._fOuterRangeBandPadding;\n        }\n        this._fOuterRangeBandPadding = _;\n        return this;\n    }\n\n    filter (_) {\n        if (!arguments.length) {\n            return super.filter();\n        }\n\n        super.filter(_);\n\n        this.redrawBrush(_, false);\n\n        return this;\n    }\n\n    /**\n     * Get or set the brush. Brush must be an instance of d3 brushes\n     * https://github.com/d3/d3-brush/blob/master/README.md\n     * You will use this only if you are writing a new chart type that supports brushing.\n     *\n     * **Caution**: dc creates and manages brushes internally. Go through and understand the source code\n     * if you want to pass a new brush object. Even if you are only using the getter,\n     * the brush object may not behave the way you expect.\n     *\n     * @param {d3.brush} [_]\n     * @returns {d3.brush|CoordinateGridMixin}\n     */\n    brush (_) {\n        if (!arguments.length) {\n            return this._brush;\n        }\n        this._brush = _;\n        return this;\n    }\n\n    renderBrush (g, doTransition) {\n        if (this._brushOn) {\n            this._brush.on('start brush end', adaptHandler((d, evt) => this._brushing(evt)));\n\n            // To retrieve selection we need self._gBrush\n            this._gBrush = g.append('g')\n                .attr('class', 'brush')\n                .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n\n            this.setBrushExtents();\n\n            this.createBrushHandlePaths(this._gBrush, doTransition);\n\n            this.redrawBrush(this.filter(), doTransition);\n        }\n    }\n\n    createBrushHandlePaths (gBrush) {\n        let brushHandles = gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`).data([{type: 'w'}, {type: 'e'}]);\n\n        brushHandles = brushHandles\n            .enter()\n            .append('path')\n            .attr('class', CUSTOM_BRUSH_HANDLE_CLASS)\n            .merge(brushHandles);\n\n        brushHandles\n            .attr('d', d => this.resizeHandlePath(d));\n    }\n\n    extendBrush (brushSelection) {\n        if (brushSelection && this.round()) {\n            brushSelection[0] = this.round()(brushSelection[0]);\n            brushSelection[1] = this.round()(brushSelection[1]);\n        }\n        return brushSelection;\n    }\n\n    brushIsEmpty (brushSelection) {\n        return !brushSelection || brushSelection[1] <= brushSelection[0];\n    }\n\n    _brushing (evt) {\n        if (this._ignoreBrushEvents) {\n            return;\n        }\n\n        let brushSelection = evt.selection;\n        if (brushSelection) {\n            brushSelection = brushSelection.map(this.x().invert);\n        }\n\n        brushSelection = this.extendBrush(brushSelection);\n\n        this.redrawBrush(brushSelection, false);\n\n        const rangedFilter = this.brushIsEmpty(brushSelection) ? null : filters.RangedFilter(brushSelection[0], brushSelection[1]);\n\n        events.trigger(() => {\n            this.applyBrushSelection(rangedFilter);\n        }, constants.EVENT_DELAY);\n    }\n\n    // This can be overridden in a derived chart. For example Composite chart overrides it\n    applyBrushSelection (rangedFilter) {\n        this.replaceFilter(rangedFilter);\n        this.redrawGroup();\n    }\n\n    _withoutBrushEvents (closure) {\n        const oldValue = this._ignoreBrushEvents;\n        this._ignoreBrushEvents = true;\n\n        try {\n            closure();\n        } finally {\n            this._ignoreBrushEvents = oldValue;\n        }\n    }\n\n    setBrushExtents (doTransition) {\n        this._withoutBrushEvents(() => {\n            // Set boundaries of the brush, must set it before applying to self._gBrush\n            this._brush.extent([[0, 0], [this.effectiveWidth(), this.effectiveHeight()]]);\n        });\n\n        this._gBrush\n            .call(this._brush);\n    }\n\n    redrawBrush (brushSelection, doTransition) {\n        if (this._brushOn && this._gBrush) {\n            if (this._resizing) {\n                this.setBrushExtents(doTransition);\n            }\n\n            if (!brushSelection) {\n                this._withoutBrushEvents(() => {\n                    this._gBrush\n                        .call(this._brush.move, null);\n                })\n\n                this._gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`)\n                    .attr('display', 'none');\n            } else {\n                const scaledSelection = [this._x(brushSelection[0]), this._x(brushSelection[1])];\n\n                const gBrush =\n                    optionalTransition(doTransition, this.transitionDuration(), this.transitionDelay())(this._gBrush);\n\n                this._withoutBrushEvents(() => {\n                    gBrush\n                        .call(this._brush.move, scaledSelection);\n                });\n\n                gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`)\n                    .attr('display', null)\n                    .attr('transform', (d, i) => `translate(${this._x(brushSelection[i])}, 0)`)\n                    .attr('d', d => this.resizeHandlePath(d));\n            }\n        }\n        this.fadeDeselectedArea(brushSelection);\n    }\n\n    fadeDeselectedArea (brushSelection) {\n        // do nothing, sub-chart should override this function\n    }\n\n    // borrowed from Crossfilter example\n    resizeHandlePath (d) {\n        d = d.type;\n        const e = +(d === 'e'), x = e ? 1 : -1, y = this.effectiveHeight() / 3;\n        return `M${0.5 * x},${y \n        }A6,6 0 0 ${e} ${6.5 * x},${y + 6 \n        }V${2 * y - 6 \n        }A6,6 0 0 ${e} ${0.5 * x},${2 * y \n        }Z` +\n            `M${2.5 * x},${y + 8 \n            }V${2 * y - 8 \n            }M${4.5 * x},${y + 8 \n            }V${2 * y - 8}`;\n    }\n\n    _getClipPathId () {\n        return `${this.anchorName().replace(/[ .#=\\[\\]\"]/g, '-')}-clip`;\n    }\n\n    /**\n     * Get or set the padding in pixels for the clip path. Once set padding will be applied evenly to\n     * the top, left, right, and bottom when the clip path is generated. If set to zero, the clip area\n     * will be exactly the chart body area minus the margins.\n     * @param {Number} [padding=5]\n     * @returns {Number|CoordinateGridMixin}\n     */\n    clipPadding (padding) {\n        if (!arguments.length) {\n            return this._clipPadding;\n        }\n        this._clipPadding = padding;\n        return this;\n    }\n\n    _generateClipPath () {\n        const defs = utils.appendOrSelect(this._parent, 'defs');\n        // cannot select <clippath> elements; bug in WebKit, must select by id\n        // https://groups.google.com/forum/#!topic/d3-js/6EpAzQ2gU9I\n        const id = this._getClipPathId();\n        const chartBodyClip = utils.appendOrSelect(defs, `#${id}`, 'clipPath').attr('id', id);\n\n        const padding = this._clipPadding * 2;\n\n        utils.appendOrSelect(chartBodyClip, 'rect')\n            .attr('width', this.xAxisLength() + padding)\n            .attr('height', this.yAxisHeight() + padding)\n            .attr('transform', `translate(-${this._clipPadding}, -${this._clipPadding})`);\n    }\n\n    _preprocessData () {\n    }\n\n    _doRender () {\n        this.resetSvg();\n\n        this._preprocessData();\n\n        this._generateG();\n        this._generateClipPath();\n\n        this._drawChart(true);\n\n        this._configureMouseZoom();\n\n        return this;\n    }\n\n    _doRedraw () {\n        this._preprocessData();\n\n        this._drawChart(false);\n        this._generateClipPath();\n\n        return this;\n    }\n\n    _drawChart (render) {\n        if (this.isOrdinal()) {\n            this._brushOn = false;\n        }\n\n        this._prepareXAxis(this.g(), render);\n        this._prepareYAxis(this.g());\n\n        this.plotData();\n\n        if (this.elasticX() || this._resizing || render) {\n            this.renderXAxis(this.g());\n        }\n\n        if (this.elasticY() || this._resizing || render) {\n            this.renderYAxis(this.g());\n        }\n\n        if (render) {\n            this.renderBrush(this.g(), false);\n        } else {\n            // Animate the brush only while resizing\n            this.redrawBrush(this.filter(), this._resizing);\n        }\n        this.fadeDeselectedArea(this.filter());\n        this.resizing(false);\n    }\n\n    _configureMouseZoom () {\n        // Save a copy of original x scale\n        this._origX = this._x.copy();\n\n        if (this._mouseZoomable) {\n            this._enableMouseZoom();\n        } else if (this._hasBeenMouseZoomable) {\n            this._disableMouseZoom();\n        }\n    }\n\n    _enableMouseZoom () {\n        this._hasBeenMouseZoomable = true;\n\n        const extent = [[0, 0], [this.effectiveWidth(), this.effectiveHeight()]];\n\n        this._zoom\n            .scaleExtent(this._zoomScale)\n            .extent(extent)\n            .duration(this.transitionDuration());\n\n        if (this._zoomOutRestrict) {\n            // Ensure minimum zoomScale is at least 1\n            const zoomScaleMin = Math.max(this._zoomScale[0], 1);\n            this._zoom\n                .translateExtent(extent)\n                .scaleExtent([zoomScaleMin, this._zoomScale[1]]);\n        }\n\n        this.root().call(this._zoom);\n\n        // Tell D3 zoom our current zoom/pan status\n        this._updateD3zoomTransform();\n    }\n\n    _disableMouseZoom () {\n        this.root().call(this._nullZoom);\n    }\n\n    _zoomHandler (newDomain, noRaiseEvents) {\n        let domFilter;\n\n        if (this._hasRangeSelected(newDomain)) {\n            this.x().domain(newDomain);\n            domFilter = filters.RangedFilter(newDomain[0], newDomain[1]);\n        } else {\n            this.x().domain(this._xOriginalDomain);\n            domFilter = null;\n        }\n\n        this.replaceFilter(domFilter);\n        this.rescale();\n        this.redraw();\n\n        if (!noRaiseEvents) {\n            if (this._rangeChart && !utils.arraysEqual(this.filter(), this._rangeChart.filter())) {\n                events.trigger(() => {\n                    this._rangeChart.replaceFilter(domFilter);\n                    this._rangeChart.redraw();\n                });\n            }\n\n            this._invokeZoomedListener();\n            events.trigger(() => {\n                this.redrawGroup();\n            }, constants.EVENT_DELAY);\n        }\n    }\n\n    // event.transform.rescaleX(self._origX).domain() should give back newDomain\n    _domainToZoomTransform (newDomain, origDomain, xScale) {\n        const k = (origDomain[1] - origDomain[0]) / (newDomain[1] - newDomain[0]);\n        const xt = -1 * xScale(newDomain[0]);\n\n        return zoomIdentity.scale(k).translate(xt, 0);\n    }\n\n    // If we changing zoom status (for example by calling focus), tell D3 zoom about it\n    _updateD3zoomTransform () {\n        if (this._zoom) {\n            this._withoutZoomEvents(() => {\n                this._zoom.transform(this.root(), this._domainToZoomTransform(this.x().domain(), this._xOriginalDomain, this._origX));\n            });\n        }\n    }\n\n    _withoutZoomEvents (closure) {\n        const oldValue = this._ignoreZoomEvents;\n        this._ignoreZoomEvents = true;\n\n        try {\n            closure();\n        } finally {\n            this._ignoreZoomEvents = oldValue;\n        }\n    }\n\n    _onZoom (evt) {\n        // ignore zoom events if it was caused by a programmatic change\n        if (this._ignoreZoomEvents) {\n            return;\n        }\n\n        const newDomain = evt.transform.rescaleX(this._origX).domain();\n        this.focus(newDomain, false);\n    }\n\n    _checkExtents (ext, outerLimits) {\n        if (!ext || ext.length !== 2 || !outerLimits || outerLimits.length !== 2) {\n            return ext;\n        }\n\n        if (ext[0] > outerLimits[1] || ext[1] < outerLimits[0]) {\n            console.warn('Could not intersect extents, will reset');\n        }\n        // Math.max does not work (as the values may be dates as well)\n        return [ext[0] > outerLimits[0] ? ext[0] : outerLimits[0], ext[1] < outerLimits[1] ? ext[1] : outerLimits[1]];\n    }\n\n    /**\n     * Zoom this chart to focus on the given range. The given range should be an array containing only\n     * 2 elements (`[start, end]`) defining a range in the x domain. If the range is not given or set\n     * to null, then the zoom will be reset. _For focus to work elasticX has to be turned off;\n     * otherwise focus will be ignored.\n     *\n     * To avoid ping-pong volley of events between a pair of range and focus charts please set\n     * `noRaiseEvents` to `true`. In that case it will update this chart but will not fire `zoom` event\n     * and not try to update back the associated range chart.\n     * If you are calling it manually - typically you will leave it to `false` (the default).\n     *\n     * @example\n     * chart.on('renderlet', function(chart) {\n     *     // smooth the rendering through event throttling\n     *     events.trigger(function(){\n     *          // focus some other chart to the range selected by user on this chart\n     *          someOtherChart.focus(chart.filter());\n     *     });\n     * })\n     * @param {Array<Number>} [range]\n     * @param {Boolean} [noRaiseEvents = false]\n     * @return {undefined}\n     */\n    focus (range, noRaiseEvents) {\n        if (this._zoomOutRestrict) {\n            // ensure range is within self._xOriginalDomain\n            range = this._checkExtents(range, this._xOriginalDomain);\n\n            // If it has an associated range chart ensure range is within domain of that rangeChart\n            if (this._rangeChart) {\n                range = this._checkExtents(range, this._rangeChart.x().domain());\n            }\n        }\n\n        this._zoomHandler(range, noRaiseEvents);\n        this._updateD3zoomTransform();\n    }\n\n    refocused () {\n        return !utils.arraysEqual(this.x().domain(), this._xOriginalDomain);\n    }\n\n    focusChart (c) {\n        if (!arguments.length) {\n            return this._focusChart;\n        }\n        this._focusChart = c;\n        this.on('filtered.dcjs-range-chart', chart => {\n            if (!chart.filter()) {\n                events.trigger(() => {\n                    this._focusChart.x().domain(this._focusChart.xOriginalDomain(), true);\n                });\n            } else if (!utils.arraysEqual(chart.filter(), this._focusChart.filter())) {\n                events.trigger(() => {\n                    this._focusChart.focus(chart.filter(), true);\n                });\n            }\n        });\n        return this;\n    }\n\n    /**\n     * Turn on/off the brush-based range filter. When brushing is on then user can drag the mouse\n     * across a chart with a quantitative scale to perform range filtering based on the extent of the\n     * brush, or click on the bars of an ordinal bar chart or slices of a pie chart to filter and\n     * un-filter them. However turning on the brush filter will disable other interactive elements on\n     * the chart such as highlighting, tool tips, and reference lines. Zooming will still be possible\n     * if enabled, but only via scrolling (panning will be disabled.)\n     * @param {Boolean} [brushOn=true]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    brushOn (brushOn) {\n        if (!arguments.length) {\n            return this._brushOn;\n        }\n        this._brushOn = brushOn;\n        return this;\n    }\n\n    /**\n     * This will be internally used by composite chart onto children. Please go not invoke directly.\n     *\n     * @protected\n     * @param {Boolean} [brushOn=false]\n     * @returns {Boolean|CoordinateGridMixin}\n     */\n    parentBrushOn (brushOn) {\n        if (!arguments.length) {\n            return this._parentBrushOn;\n        }\n        this._parentBrushOn = brushOn;\n        return this;\n    }\n\n    // Get the SVG rendered brush\n    gBrush () {\n        return this._gBrush;\n    }\n\n    _hasRangeSelected (range) {\n        return range instanceof Array && range.length > 1;\n    }\n}\n","// https://github.com/d3/d3-plugins/blob/master/box/box.js\n// * Original source March 22, 2013\n// * Enhancements integrated on May 13, 2018 for dc.js library only\n\n// https://github.com/d3/d3-plugins/blob/master/LICENSE\n// Copyright (c) 2012-2015, Michael Bostock\n// All rights reserved.\n\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n// * Redistributions of source code must retain the above copyright notice, this\n//   list of conditions and the following disclaimer.\n//\n// * Redistributions in binary form must reproduce the above copyright notice,\n//   this list of conditions and the following disclaimer in the documentation\n//   and/or other materials provided with the distribution.\n//\n// * The name Michael Bostock may not be used to endorse or promote products\n//   derived from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n// DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,\n// INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n// BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n// NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n// EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n/*eslint complexity: 0*/\n\n// Inspired by http://informationandvisualization.de/blog/box-plot\n\nimport {ascending, quantile, range} from 'd3-array';\nimport {select} from 'd3-selection';\nimport {scaleLinear} from 'd3-scale';\nimport {timerFlush} from 'd3-timer';\n\nimport {utils} from '../core/utils';\n\nexport const d3Box = function () {\n    let width = 1;\n    let height = 1;\n    let duration = 0;\n    const delay = 0;\n    let domain = null;\n    let value = Number;\n    let whiskers = boxWhiskers;\n    let quartiles = boxQuartiles;\n    let tickFormat = null;\n\n    // Enhanced attributes\n    let renderDataPoints = false;\n    const dataRadius = 3;\n    let dataOpacity = 0.3;\n    let dataWidthPortion = 0.8;\n    let renderTitle = false;\n    let showOutliers = true;\n    let boldOutlier = false;\n\n\n    // For each small multiple…\n    function box (g) {\n        g.each(function (data, index) {\n            data = data.map(value).sort(ascending);\n            const _g = select(this);\n            const n = data.length;\n            let min;\n            let max;\n\n            // Leave if there are no items.\n            if (n === 0) {return;}\n\n            // Compute quartiles. Must return exactly 3 elements.\n            const quartileData = data.quartiles = quartiles(data);\n\n            // Compute whiskers. Must return exactly 2 elements, or null.\n            const whiskerIndices = whiskers && whiskers.call(this, data, index),\n                whiskerData = whiskerIndices && whiskerIndices.map(_i => data[_i]);\n\n            // Compute outliers. If no whiskers are specified, all data are 'outliers'.\n            // We compute the outliers as indices, so that we can join across transitions!\n            const outlierIndices = whiskerIndices ?\n                range(0, whiskerIndices[0]).concat(range(whiskerIndices[1] + 1, n)) : range(n);\n\n            // Determine the maximum value based on if outliers are shown\n            if (showOutliers) {\n                min = data[0];\n                max = data[n - 1];\n            } else {\n                min = data[whiskerIndices[0]];\n                max = data[whiskerIndices[1]];\n            }\n            const pointIndices = range(whiskerIndices[0], whiskerIndices[1] + 1);\n\n            // Compute the new x-scale.\n            const x1 = scaleLinear()\n                .domain(domain && domain.call(this, data, index) || [min, max])\n                .range([height, 0]);\n\n            // Retrieve the old x-scale, if this is an update.\n            const x0 = this.__chart__ || scaleLinear()\n                .domain([0, Infinity])\n                .range(x1.range());\n\n            // Stash the new scale.\n            this.__chart__ = x1;\n\n            // Note: the box, median, and box tick elements are fixed in number,\n            // so we only have to handle enter and update. In contrast, the outliers\n            // and other elements are variable, so we need to exit them! Variable\n            // elements also fade in and out.\n\n            // Update center line: the vertical line spanning the whiskers.\n            const center = _g.selectAll('line.center')\n                .data(whiskerData ? [whiskerData] : []);\n\n            center.enter().insert('line', 'rect')\n                .attr('class', 'center')\n                .attr('x1', width / 2)\n                .attr('y1', d => x0(d[0]))\n                .attr('x2', width / 2)\n                .attr('y2', d => x0(d[1]))\n                .style('opacity', 1e-6)\n                .transition()\n                .duration(duration)\n                .delay(delay)\n                .style('opacity', 1)\n                .attr('y1', d => x1(d[0]))\n                .attr('y2', d => x1(d[1]));\n\n            center.transition()\n                .duration(duration)\n                .delay(delay)\n                .style('opacity', 1)\n                .attr('x1', width / 2)\n                .attr('x2', width / 2)\n                .attr('y1', d => x1(d[0]))\n                .attr('y2', d => x1(d[1]));\n\n            center.exit().transition()\n                .duration(duration)\n                .delay(delay)\n                .style('opacity', 1e-6)\n                .attr('y1', d => x1(d[0]))\n                .attr('y2', d => x1(d[1]))\n                .remove();\n\n            // Update innerquartile box.\n            const _box = _g.selectAll('rect.box')\n                .data([quartileData]);\n\n            _box.enter().append('rect')\n                .attr('class', 'box')\n                .attr('x', 0)\n                .attr('y', d => x0(d[2]))\n                .attr('width', width)\n                .attr('height', d => x0(d[0]) - x0(d[2]))\n                .style('fill-opacity', (renderDataPoints) ? 0.1 : 1)\n                .transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('y', d => x1(d[2]))\n                .attr('height', d => x1(d[0]) - x1(d[2]));\n\n            _box.transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('width', width)\n                .attr('y', d => x1(d[2]))\n                .attr('height', d => x1(d[0]) - x1(d[2]));\n\n            // Update median line.\n            const medianLine = _g.selectAll('line.median')\n                .data([quartileData[1]]);\n\n            medianLine.enter().append('line')\n                .attr('class', 'median')\n                .attr('x1', 0)\n                .attr('y1', x0)\n                .attr('x2', width)\n                .attr('y2', x0)\n                .transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('y1', x1)\n                .attr('y2', x1);\n\n            medianLine.transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('x1', 0)\n                .attr('x2', width)\n                .attr('y1', x1)\n                .attr('y2', x1);\n\n            // Update whiskers.\n            const whisker = _g.selectAll('line.whisker')\n                .data(whiskerData || []);\n\n            whisker.enter().insert('line', 'circle, text')\n                .attr('class', 'whisker')\n                .attr('x1', 0)\n                .attr('y1', x0)\n                .attr('x2', width)\n                .attr('y2', x0)\n                .style('opacity', 1e-6)\n                .transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('y1', x1)\n                .attr('y2', x1)\n                .style('opacity', 1);\n\n            whisker.transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('x1', 0)\n                .attr('x2', width)\n                .attr('y1', x1)\n                .attr('y2', x1)\n                .style('opacity', 1);\n\n            whisker.exit().transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('y1', x1)\n                .attr('y2', x1)\n                .style('opacity', 1e-6)\n                .remove();\n\n            // Update outliers.\n            if (showOutliers) {\n                const outlierClass = boldOutlier ? 'outlierBold' : 'outlier';\n                const outlierSize = boldOutlier ? 3 : 5;\n                const outlierX = boldOutlier ?\n                    function () {\n                        return Math.floor(Math.random() *\n                            (width * dataWidthPortion) +\n                            1 + ((width - (width * dataWidthPortion)) / 2));\n                    } :\n                    function () {\n                        return width / 2;\n                    };\n\n                const outlier = _g.selectAll(`circle.${outlierClass}`)\n                    .data(outlierIndices, Number);\n\n                outlier.enter().insert('circle', 'text')\n                    .attr('class', outlierClass)\n                    .attr('r', outlierSize)\n                    .attr('cx', outlierX)\n                    .attr('cy', i => x0(data[i]))\n                    .style('opacity', 1e-6)\n                    .transition()\n                    .duration(duration)\n                    .delay(delay)\n                    .attr('cy', i => x1(data[i]))\n                    .style('opacity', 0.6);\n\n                if (renderTitle) {\n                    outlier.selectAll('title').remove();\n                    outlier.append('title').text(i => data[i]);\n                }\n\n                outlier.transition()\n                    .duration(duration)\n                    .delay(delay)\n                    .attr('cx', outlierX)\n                    .attr('cy', i => x1(data[i]))\n                    .style('opacity', 0.6);\n\n                outlier.exit().transition()\n                    .duration(duration)\n                    .delay(delay)\n                    .attr('cy', 0) //function (i) { return x1(d[i]); })\n                    .style('opacity', 1e-6)\n                    .remove();\n            }\n\n            // Update Values\n            if (renderDataPoints) {\n                const point = _g.selectAll('circle.data')\n                    .data(pointIndices);\n\n                point.enter().insert('circle', 'text')\n                    .attr('class', 'data')\n                    .attr('r', dataRadius)\n                    .attr('cx', () => Math.floor(Math.random() *\n                            (width * dataWidthPortion) +\n                            1 + ((width - (width * dataWidthPortion)) / 2)))\n                    .attr('cy', i => x0(data[i]))\n                    .style('opacity', 1e-6)\n                    .transition()\n                    .duration(duration)\n                    .delay(delay)\n                    .attr('cy', i => x1(data[i]))\n                    .style('opacity', dataOpacity);\n\n                if (renderTitle) {\n                    point.selectAll('title').remove();\n                    point.append('title').text(i => data[i]);\n                }\n\n                point.transition()\n                    .duration(duration)\n                    .delay(delay)\n                    .attr('cx', () => Math.floor(Math.random() *\n                            (width * dataWidthPortion) +\n                            1 + ((width - (width * dataWidthPortion)) / 2)))\n                    .attr('cy', i => x1(data[i]))\n                    .style('opacity', dataOpacity);\n\n                point.exit().transition()\n                    .duration(duration)\n                    .delay(delay)\n                    .attr('cy', 0)\n                    .style('opacity', 1e-6)\n                    .remove();\n            }\n\n            // Compute the tick format.\n            const format = tickFormat || x1.tickFormat(8);\n\n            // Update box ticks.\n            const boxTick = _g.selectAll('text.box')\n                .data(quartileData);\n\n            boxTick.enter().append('text')\n                .attr('class', 'box')\n                .attr('dy', '.3em')\n                .attr('dx', (d, i) => i & 1 ? 6 : -6)\n                .attr('x', (d, i) => i & 1 ? width : 0)\n                .attr('y', x0)\n                .attr('text-anchor', (d, i) => i & 1 ? 'start' : 'end')\n                .text(format)\n                .transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('y', x1);\n\n            boxTick.transition()\n                .duration(duration)\n                .delay(delay)\n                .text(format)\n                .attr('x', (d, i) => i & 1 ? width : 0)\n                .attr('y', x1);\n\n            // Update whisker ticks. These are handled separately from the box\n            // ticks because they may or may not exist, and we want don't want\n            // to join box ticks pre-transition with whisker ticks post-.\n            const whiskerTick = _g.selectAll('text.whisker')\n                .data(whiskerData || []);\n\n            whiskerTick.enter().append('text')\n                .attr('class', 'whisker')\n                .attr('dy', '.3em')\n                .attr('dx', 6)\n                .attr('x', width)\n                .attr('y', x0)\n                .text(format)\n                .style('opacity', 1e-6)\n                .transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('y', x1)\n                .style('opacity', 1);\n\n            whiskerTick.transition()\n                .duration(duration)\n                .delay(delay)\n                .text(format)\n                .attr('x', width)\n                .attr('y', x1)\n                .style('opacity', 1);\n\n            whiskerTick.exit().transition()\n                .duration(duration)\n                .delay(delay)\n                .attr('y', x1)\n                .style('opacity', 1e-6)\n                .remove();\n\n            // Remove temporary quartiles element from within data array.\n            delete data.quartiles;\n        });\n        timerFlush();\n    }\n\n    box.width = function (x) {\n        if (!arguments.length) {\n            return width;\n        }\n        width = x;\n        return box;\n    };\n\n    box.height = function (x) {\n        if (!arguments.length) {\n            return height;\n        }\n        height = x;\n        return box;\n    };\n\n    box.tickFormat = function (x) {\n        if (!arguments.length) {\n            return tickFormat;\n        }\n        tickFormat = x;\n        return box;\n    };\n\n    box.showOutliers = function (x) {\n        if (!arguments.length) {\n            return showOutliers;\n        }\n        showOutliers = x;\n        return box;\n    };\n\n    box.boldOutlier = function (x) {\n        if (!arguments.length) {\n            return boldOutlier;\n        }\n        boldOutlier = x;\n        return box;\n    };\n\n    box.renderDataPoints = function (x) {\n        if (!arguments.length) {\n            return renderDataPoints;\n        }\n        renderDataPoints = x;\n        return box;\n    };\n\n    box.renderTitle = function (x) {\n        if (!arguments.length) {\n            return renderTitle;\n        }\n        renderTitle = x;\n        return box;\n    };\n\n    box.dataOpacity = function (x) {\n        if (!arguments.length) {\n            return dataOpacity;\n        }\n        dataOpacity = x;\n        return box;\n    };\n\n    box.dataWidthPortion = function (x) {\n        if (!arguments.length) {\n            return dataWidthPortion;\n        }\n        dataWidthPortion = x;\n        return box;\n    };\n\n    box.duration = function (x) {\n        if (!arguments.length) {\n            return duration;\n        }\n        duration = x;\n        return box;\n    };\n\n    box.domain = function (x) {\n        if (!arguments.length) {\n            return domain;\n        }\n        domain = x === null ? x : typeof x === 'function' ? x : utils.constant(x);\n        return box;\n    };\n\n    box.value = function (x) {\n        if (!arguments.length) {\n            return value;\n        }\n        value = x;\n        return box;\n    };\n\n    box.whiskers = function (x) {\n        if (!arguments.length) {\n            return whiskers;\n        }\n        whiskers = x;\n        return box;\n    };\n\n    box.quartiles = function (x) {\n        if (!arguments.length) {\n            return quartiles;\n        }\n        quartiles = x;\n        return box;\n    };\n\n    return box;\n};\n\nfunction boxWhiskers (d) {\n    return [0, d.length - 1];\n}\n\nfunction boxQuartiles (d) {\n    return [\n        quantile(d, 0.25),\n        quantile(d, 0.5),\n        quantile(d, 0.75)\n    ];\n}\n","import {stack} from 'd3-shape';\nimport {max, min} from 'd3-array';\n\nimport {pluck, utils} from '../core/utils';\nimport {CoordinateGridMixin} from './coordinate-grid-mixin';\n\n/**\n * Stack Mixin is an mixin that provides cross-chart support of stackability using d3.stack.\n * @mixin StackMixin\n * @mixes CoordinateGridMixin\n */\nexport class StackMixin extends CoordinateGridMixin {\n    constructor () {\n        super();\n\n        this._stackLayout = stack();\n\n        this._stack = [];\n        this._titles = {};\n\n        this._hidableStacks = false;\n        this._evadeDomainFilter = false;\n\n        this.data(() => {\n            const layers = this._stack.filter(this._visibility);\n            if (!layers.length) {\n                return [];\n            }\n            layers.forEach((l, i) => this._prepareValues(l, i));\n            const v4data = layers[0].values.map((v, i) => {\n                const col = {x: v.x};\n                layers.forEach(layer => {\n                    col[layer.name] = layer.values[i].y;\n                });\n                return col;\n            });\n            const keys = layers.map(layer => layer.name);\n            const v4result = this.stackLayout().keys(keys)(v4data);\n            v4result.forEach((series, i) => {\n                series.forEach((ys, j) => {\n                    layers[i].values[j].y0 = ys[0];\n                    layers[i].values[j].y1 = ys[1];\n                });\n            });\n            return layers;\n        });\n\n        this.colorAccessor(function (d) {\n            return this.layer || this.name || d.name || d.layer;\n        });\n    }\n\n    _prepareValues (layer, layerIdx) {\n        const valAccessor = layer.accessor || this.valueAccessor();\n        layer.name = String(layer.name || layerIdx);\n        const allValues = layer.group.all().map((d, i) => ({\n            x: this.keyAccessor()(d, i),\n            y: layer.hidden ? null : valAccessor(d, i),\n            data: d,\n            layer: layer.name,\n            hidden: layer.hidden\n        }));\n\n        layer.domainValues = allValues.filter(l => this._domainFilter()(l));\n        layer.values = this.evadeDomainFilter() ? allValues : layer.domainValues;\n    }\n\n    _domainFilter () {\n        if (!this.x()) {\n            return utils.constant(true);\n        }\n        const xDomain = this.x().domain();\n        if (this.isOrdinal()) {\n            // TODO #416\n            //var domainSet = d3.set(xDomain);\n            return () => true //domainSet.has(p.x);\n            ;\n        }\n        if (this.elasticX()) {\n            return () => true;\n        }\n        return p => p.x >= xDomain[0] && p.x <= xDomain[xDomain.length - 1];\n    }\n\n    /**\n     * Stack a new crossfilter group onto this chart with an optional custom value accessor. All stacks\n     * in the same chart will share the same key accessor and therefore the same set of keys.\n     *\n     * For example, in a stacked bar chart, the bars of each stack will be positioned using the same set\n     * of keys on the x axis, while stacked vertically. If name is specified then it will be used to\n     * generate the legend label.\n     * @see {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group-map-reduce crossfilter.group}\n     * @example\n     * // stack group using default accessor\n     * chart.stack(valueSumGroup)\n     * // stack group using custom accessor\n     * .stack(avgByDayGroup, function(d){return d.value.avgByDay;});\n     * @param {crossfilter.group} group\n     * @param {String} [name]\n     * @param {Function} [accessor]\n     * @returns {Array<{group: crossfilter.group, name: String, accessor: Function}>|StackMixin}\n     */\n    stack (group, name, accessor) {\n        if (!arguments.length) {\n            return this._stack;\n        }\n\n        if (arguments.length <= 2) {\n            accessor = name;\n        }\n\n        const layer = {group: group};\n        if (typeof name === 'string') {\n            layer.name = name;\n        }\n        if (typeof accessor === 'function') {\n            layer.accessor = accessor;\n        }\n        this._stack.push(layer);\n\n        return this;\n    }\n\n    group (g, n, f) {\n        if (!arguments.length) {\n            return super.group();\n        }\n        this._stack = [];\n        this._titles = {};\n        this.stack(g, n);\n        if (f) {\n            this.valueAccessor(f);\n        }\n        return super.group(g, n);\n    }\n\n    /**\n     * Allow named stacks to be hidden or shown by clicking on legend items.\n     * This does not affect the behavior of hideStack or showStack.\n     * @param {Boolean} [hidableStacks=false]\n     * @returns {Boolean|StackMixin}\n     */\n    hidableStacks (hidableStacks) {\n        if (!arguments.length) {\n            return this._hidableStacks;\n        }\n        this._hidableStacks = hidableStacks;\n        return this;\n    }\n\n    _findLayerByName (n) {\n        const i = this._stack.map(pluck('name')).indexOf(n);\n        return this._stack[i];\n    }\n\n    /**\n     * Hide all stacks on the chart with the given name.\n     * The chart must be re-rendered for this change to appear.\n     * @param {String} stackName\n     * @returns {StackMixin}\n     */\n    hideStack (stackName) {\n        const layer = this._findLayerByName(stackName);\n        if (layer) {\n            layer.hidden = true;\n        }\n        return this;\n    }\n\n    /**\n     * Show all stacks on the chart with the given name.\n     * The chart must be re-rendered for this change to appear.\n     * @param {String} stackName\n     * @returns {StackMixin}\n     */\n    showStack (stackName) {\n        const layer = this._findLayerByName(stackName);\n        if (layer) {\n            layer.hidden = false;\n        }\n        return this;\n    }\n\n    getValueAccessorByIndex (index) {\n        return this._stack[index].accessor || this.valueAccessor();\n    }\n\n    yAxisMin () {\n        const m = min(this._flattenStack(), p => (p.y < 0) ? (p.y + p.y0) : p.y0);\n        return utils.subtract(m, this.yAxisPadding());\n    }\n\n    yAxisMax () {\n        const m = max(this._flattenStack(), p => (p.y > 0) ? (p.y + p.y0) : p.y0);\n        return utils.add(m, this.yAxisPadding());\n    }\n\n    _flattenStack () {\n        // A round about way to achieve flatMap\n        // When target browsers support flatMap, just replace map -> flatMap, no concat needed\n        const values = this.data().map(layer => layer.domainValues);\n        return [].concat(...values);\n    }\n\n    xAxisMin () {\n        const m = min(this._flattenStack(), pluck('x'));\n        return utils.subtract(m, this.xAxisPadding(), this.xAxisPaddingUnit());\n    }\n\n    xAxisMax () {\n        const m = max(this._flattenStack(), pluck('x'));\n        return utils.add(m, this.xAxisPadding(), this.xAxisPaddingUnit());\n    }\n\n    /**\n     * Set or get the title function. Chart class will use this function to render svg title (usually interpreted by\n     * browser as tooltips) for each child element in the chart, i.e. a slice in a pie chart or a bubble in a bubble chart.\n     * Almost every chart supports title function however in grid coordinate chart you need to turn off brush in order to\n     * use title otherwise the brush layer will block tooltip trigger.\n     *\n     * If the first argument is a stack name, the title function will get or set the title for that stack. If stackName\n     * is not provided, the first stack is implied.\n     * @example\n     * // set a title function on 'first stack'\n     * chart.title('first stack', function(d) { return d.key + ': ' + d.value; });\n     * // get a title function from 'second stack'\n     * var secondTitleFunction = chart.title('second stack');\n     * @param {String} [stackName]\n     * @param {Function} [titleAccessor]\n     * @returns {String|StackMixin}\n     */\n    title (stackName, titleAccessor) {\n        if (!stackName) {\n            return super.title();\n        }\n\n        if (typeof stackName === 'function') {\n            return super.title(stackName);\n        }\n        if (stackName === this._groupName && typeof titleAccessor === 'function') {\n            return super.title(titleAccessor);\n        }\n\n        if (typeof titleAccessor !== 'function') {\n            return this._titles[stackName] || super.title();\n        }\n\n        this._titles[stackName] = titleAccessor;\n\n        return this;\n    }\n\n    /**\n     * Gets or sets the stack layout algorithm, which computes a baseline for each stack and\n     * propagates it to the next.\n     * @see {@link https://github.com/d3/d3-3.x-api-reference/blob/master/Stack-Layout.md d3.stackD3v3}\n     * @param {Function} [_stack=d3.stackD3v3]\n     * @returns {Function|StackMixin}\n     */\n    stackLayout (_stack) {\n        if (!arguments.length) {\n            return this._stackLayout;\n        }\n        this._stackLayout = _stack;\n        return this;\n    }\n\n    /**\n     * Since dc.js 2.0, there has been {@link https://github.com/dc-js/dc.js/issues/949 an issue}\n     * where points are filtered to the current domain. While this is a useful optimization, it is\n     * incorrectly implemented: the next point outside the domain is required in order to draw lines\n     * that are clipped to the bounds, as well as bars that are partly clipped.\n     *\n     * A fix will be included in dc.js 2.1.x, but a workaround is needed for dc.js 2.0 and until\n     * that fix is published, so set this flag to skip any filtering of points.\n     *\n     * Once the bug is fixed, this flag will have no effect, and it will be deprecated.\n     * @param {Boolean} [evadeDomainFilter=false]\n     * @returns {Boolean|StackMixin}\n     */\n    evadeDomainFilter (evadeDomainFilter) {\n        if (!arguments.length) {\n            return this._evadeDomainFilter;\n        }\n        this._evadeDomainFilter = evadeDomainFilter;\n        return this;\n    }\n\n    _visibility (l) {\n        return !l.hidden;\n    }\n\n    _ordinalXDomain () {\n        const flat = this._flattenStack().map(pluck('data'));\n        const ordered = this._computeOrderedGroups(flat);\n        return ordered.map(this.keyAccessor());\n    }\n\n    legendables () {\n        return this._stack.map((layer, i) => ({\n            chart: this,\n            name: layer.name,\n            hidden: layer.hidden || false,\n            color: this.getColor.call(layer, layer.values, i)\n        }));\n    }\n\n    isLegendableHidden (d) {\n        const layer = this._findLayerByName(d.name);\n        return layer ? layer.hidden : false;\n    }\n\n    legendToggle (d) {\n        if (this._hidableStacks) {\n            if (this.isLegendableHidden(d)) {\n                this.showStack(d.name);\n            } else {\n                this.hideStack(d.name);\n            }\n            //_chart.redraw();\n            this.renderGroup();\n        }\n    }\n}\n","import {select} from 'd3-selection';\n\nimport {StackMixin} from '../base/stack-mixin';\nimport {transition} from '../core/core';\nimport {constants} from '../core/constants';\nimport {logger} from '../core/logger';\nimport {pluck, utils} from '../core/utils';\nimport {adaptHandler} from '../core/d3compat';\n\nconst MIN_BAR_WIDTH = 1;\nconst DEFAULT_GAP_BETWEEN_BARS = 2;\nconst LABEL_PADDING = 3;\n\n/**\n * Concrete bar chart/histogram implementation.\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n * - {@link http://dc-js.github.com/dc.js/crime/index.html Canadian City Crime Stats}\n * @mixes StackMixin\n */\nexport class BarChart extends StackMixin {\n    /**\n     * Create a Bar Chart\n     * @example\n     * // create a bar chart under #chart-container1 element using the default global chart group\n     * var chart1 = new BarChart('#chart-container1');\n     * // create a bar chart under #chart-container2 element using chart group A\n     * var chart2 = new BarChart('#chart-container2', 'chartGroupA');\n     * // create a sub-chart under a composite parent chart\n     * var chart3 = new BarChart(compositeChart);\n     * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector}\n     * specifying a dom block element such as a div; or a dom element or d3 selection.  If the bar\n     * chart is a sub-chart in a {@link CompositeChart Composite Chart} then pass in the parent\n     * composite chart instance instead.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._gap = DEFAULT_GAP_BETWEEN_BARS;\n        this._centerBar = false;\n        this._alwaysUseRounding = false;\n\n        this._barWidth = undefined;\n\n        this.label(d => utils.printSingleValue(d.y0 + d.y), false);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    /**\n     * Get or set the outer padding on an ordinal bar chart. This setting has no effect on non-ordinal charts.\n     * Will pad the width by `padding * barWidth` on each side of the chart.\n     * @param {Number} [padding=0.5]\n     * @returns {Number|BarChart}\n     */\n    outerPadding (padding) {\n        if (!arguments.length) {\n            return this._outerRangeBandPadding();\n        }\n        return this._outerRangeBandPadding(padding);\n    }\n\n    rescale () {\n        super.rescale();\n        this._barWidth = undefined;\n        return this;\n    }\n\n    render () {\n        if (this.round() && this._centerBar && !this._alwaysUseRounding) {\n            logger.warn('By default, brush rounding is disabled if bars are centered. ' +\n                'See dc.js bar chart API documentation for details.');\n        }\n\n        return super.render();\n    }\n\n    plotData () {\n        let layers = this.chartBodyG().selectAll('g.stack')\n            .data(this.data());\n\n        this._calculateBarWidth();\n\n        layers = layers\n            .enter()\n            .append('g')\n            .attr('class', (d, i) => `stack _${i}`)\n            .merge(layers);\n\n        const last = layers.size() - 1;\n        {\n            const chart = this;\n            layers.each(function (d, i) {\n                const layer = select(this);\n\n                chart._renderBars(layer, i, d);\n\n                if (chart.renderLabel() && last === i) {\n                    chart._renderLabels(layer, i, d);\n                }\n            });\n        }\n    }\n\n    _barHeight (d) {\n        return utils.safeNumber(Math.abs(this.y()(d.y + d.y0) - this.y()(d.y0)));\n    }\n\n    _labelXPos (d) {\n        let x = this.x()(d.x);\n        if (!this._centerBar) {\n            x += this._barWidth / 2;\n        }\n        if (this.isOrdinal() && this._gap !== undefined) {\n            x += this._gap / 2;\n        }\n        return utils.safeNumber(x);\n    }\n\n    _labelYPos (d) {\n        let y = this.y()(d.y + d.y0);\n\n        if (d.y < 0) {\n            y -= this._barHeight(d);\n        }\n\n        return utils.safeNumber(y - LABEL_PADDING);\n    }\n\n    _renderLabels (layer, layerIndex, data) {\n        const labels = layer.selectAll('text.barLabel')\n            .data(data.values, pluck('x'));\n\n        const labelsEnterUpdate = labels\n            .enter()\n            .append('text')\n            .attr('class', 'barLabel')\n            .attr('text-anchor', 'middle')\n            .attr('x', d => this._labelXPos(d))\n            .attr('y', d => this._labelYPos(d))\n            .merge(labels);\n\n        if (this.isOrdinal()) {\n            labelsEnterUpdate.on('click', adaptHandler(d => this.onClick(d)));\n            labelsEnterUpdate.attr('cursor', 'pointer');\n        }\n\n        transition(labelsEnterUpdate, this.transitionDuration(), this.transitionDelay())\n            .attr('x', d => this._labelXPos(d))\n            .attr('y', d => this._labelYPos(d))\n            .text(d => this.label()(d));\n\n        transition(labels.exit(), this.transitionDuration(), this.transitionDelay())\n            .attr('height', 0)\n            .remove();\n    }\n\n    _barXPos (d) {\n        let x = this.x()(d.x);\n        if (this._centerBar) {\n            x -= this._barWidth / 2;\n        }\n        if (this.isOrdinal() && this._gap !== undefined) {\n            x += this._gap / 2;\n        }\n        return utils.safeNumber(x);\n    }\n\n    _renderBars (layer, layerIndex, data) {\n        const bars = layer.selectAll('rect.bar')\n            .data(data.values, pluck('x'));\n\n        const enter = bars.enter()\n            .append('rect')\n            .attr('class', 'bar')\n            .classed('dc-tabbable', this._keyboardAccessible)\n            .attr('fill', pluck('data', this.getColor))\n            .attr('x', d => this._barXPos(d))\n            .attr('y', this.yAxisHeight())\n            .attr('height', 0);\n\n        const barsEnterUpdate = enter.merge(bars);\n\n        if (this.renderTitle()) {\n            enter.append('title').text(pluck('data', this.title(data.name)));\n        }\n\n        if (this.isOrdinal()) {\n            barsEnterUpdate.on('click', adaptHandler(d => this.onClick(d)));\n        }\n\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible(this.onClick);\n        }\n\n        transition(barsEnterUpdate, this.transitionDuration(), this.transitionDelay())\n            .attr('x', d => this._barXPos(d))\n            .attr('y', d => {\n                let y = this.y()(d.y + d.y0);\n\n                if (d.y < 0) {\n                    y -= this._barHeight(d);\n                }\n\n                return utils.safeNumber(y);\n            })\n            .attr('width', this._barWidth)\n            .attr('height', d => this._barHeight(d))\n            .attr('fill', pluck('data', this.getColor))\n            .select('title').text(pluck('data', this.title(data.name)));\n\n        transition(bars.exit(), this.transitionDuration(), this.transitionDelay())\n            .attr('x', d => this.x()(d.x))\n            .attr('width', this._barWidth * 0.9)\n            .remove();\n    }\n\n    _calculateBarWidth () {\n        if (this._barWidth === undefined) {\n            const numberOfBars = this.xUnitCount();\n\n            // please can't we always use rangeBands for bar charts?\n            if (this.isOrdinal() && this._gap === undefined) {\n                this._barWidth = Math.floor(this.x().bandwidth());\n            } else if (this._gap) {\n                this._barWidth = Math.floor((this.xAxisLength() - (numberOfBars - 1) * this._gap) / numberOfBars);\n            } else {\n                this._barWidth = Math.floor(this.xAxisLength() / (1 + this.barPadding()) / numberOfBars);\n            }\n\n            if (this._barWidth === Infinity || isNaN(this._barWidth) || this._barWidth < MIN_BAR_WIDTH) {\n                this._barWidth = MIN_BAR_WIDTH;\n            }\n        }\n    }\n\n    fadeDeselectedArea (brushSelection) {\n        const bars = this.chartBodyG().selectAll('rect.bar');\n\n        if (this.isOrdinal()) {\n            if (this.hasFilter()) {\n                bars.classed(constants.SELECTED_CLASS, d => this.hasFilter(d.x));\n                bars.classed(constants.DESELECTED_CLASS, d => !this.hasFilter(d.x));\n            } else {\n                bars.classed(constants.SELECTED_CLASS, false);\n                bars.classed(constants.DESELECTED_CLASS, false);\n            }\n        } else if (this.brushOn() || this.parentBrushOn()) {\n            if (!this.brushIsEmpty(brushSelection)) {\n                const start = brushSelection[0];\n                const end = brushSelection[1];\n\n                bars.classed(constants.DESELECTED_CLASS, d => d.x < start || d.x >= end);\n            } else {\n                bars.classed(constants.DESELECTED_CLASS, false);\n            }\n        }\n    }\n\n    /**\n     * Whether the bar chart will render each bar centered around the data position on the x-axis.\n     * @param {Boolean} [centerBar=false]\n     * @returns {Boolean|BarChart}\n     */\n    centerBar (centerBar) {\n        if (!arguments.length) {\n            return this._centerBar;\n        }\n        this._centerBar = centerBar;\n        return this;\n    }\n\n    onClick (d) {\n        super.onClick(d.data);\n    }\n\n    /**\n     * Get or set the spacing between bars as a fraction of bar size. Valid values are between 0-1.\n     * Setting this value will also remove any previously set {@link BarChart#gap gap}. See the\n     * {@link https://github.com/d3/d3-scale/blob/master/README.md#scaleBand d3 docs}\n     * for a visual description of how the padding is applied.\n     * @param {Number} [barPadding=0]\n     * @returns {Number|BarChart}\n     */\n    barPadding (barPadding) {\n        if (!arguments.length) {\n            return this._rangeBandPadding();\n        }\n        this._rangeBandPadding(barPadding);\n        this._gap = undefined;\n        return this;\n    }\n\n    _useOuterPadding () {\n        return this._gap === undefined;\n    }\n\n    /**\n     * Manually set fixed gap (in px) between bars instead of relying on the default auto-generated\n     * gap.  By default the bar chart implementation will calculate and set the gap automatically\n     * based on the number of data points and the length of the x axis.\n     * @param {Number} [gap=2]\n     * @returns {Number|BarChart}\n     */\n    gap (gap) {\n        if (!arguments.length) {\n            return this._gap;\n        }\n        this._gap = gap;\n        return this;\n    }\n\n    extendBrush (brushSelection) {\n        if (brushSelection && this.round() && (!this._centerBar || this._alwaysUseRounding)) {\n            brushSelection[0] = this.round()(brushSelection[0]);\n            brushSelection[1] = this.round()(brushSelection[1]);\n        }\n        return brushSelection;\n    }\n\n    /**\n     * Set or get whether rounding is enabled when bars are centered. If false, using\n     * rounding with centered bars will result in a warning and rounding will be ignored.  This flag\n     * has no effect if bars are not {@link BarChart#centerBar centered}.\n     * When using standard d3.js rounding methods, the brush often doesn't align correctly with\n     * centered bars since the bars are offset.  The rounding function must add an offset to\n     * compensate, such as in the following example.\n     * @example\n     * chart.round(function(n) { return Math.floor(n) + 0.5; });\n     * @param {Boolean} [alwaysUseRounding=false]\n     * @returns {Boolean|BarChart}\n     */\n    alwaysUseRounding (alwaysUseRounding) {\n        if (!arguments.length) {\n            return this._alwaysUseRounding;\n        }\n        this._alwaysUseRounding = alwaysUseRounding;\n        return this;\n    }\n\n    legendHighlight (d) {\n        const colorFilter = (color, inv) => function () {\n            const item = select(this);\n            const match = item.attr('fill') === color;\n            return inv ? !match : match;\n        };\n\n        if (!this.isLegendableHidden(d)) {\n            this.g().selectAll('rect.bar')\n                .classed('highlight', colorFilter(d.color))\n                .classed('fadeout', colorFilter(d.color, true));\n        }\n    }\n\n    legendReset () {\n        this.g().selectAll('rect.bar')\n            .classed('highlight', false)\n            .classed('fadeout', false);\n    }\n\n    xAxisMax () {\n        let max = super.xAxisMax();\n        if ('resolution' in this.xUnits()) {\n            const res = this.xUnits().resolution;\n            max += res;\n        }\n        return max;\n    }\n}\n\nexport const barChart = (parent, chartGroup) => new BarChart(parent, chartGroup);\n","import {scaleBand} from 'd3-scale';\nimport {select} from 'd3-selection';\nimport {min, max} from 'd3-array';\n\nimport {d3Box} from '../base/d3.box'\nimport {CoordinateGridMixin} from '../base/coordinate-grid-mixin';\nimport {transition} from '../core/core';\nimport {units} from '../core/units';\nimport {utils} from '../core/utils';\nimport {adaptHandler} from '../core/d3compat';\n\n// Returns a function to compute the interquartile range.\nfunction defaultWhiskersIQR (k) {\n    return d => {\n        const q1 = d.quartiles[0];\n        const q3 = d.quartiles[2];\n        const iqr = (q3 - q1) * k;\n\n        let i = -1;\n        let j = d.length;\n\n        do {\n            ++i;\n        } while (d[i] < q1 - iqr);\n\n        do {\n            --j;\n        } while (d[j] > q3 + iqr);\n\n        return [i, j];\n    };\n}\n\n/**\n * A box plot is a chart that depicts numerical data via their quartile ranges.\n *\n * Examples:\n * - {@link http://dc-js.github.io/dc.js/examples/boxplot-basic.html Boxplot Basic example}\n * - {@link http://dc-js.github.io/dc.js/examples/boxplot-enhanced.html Boxplot Enhanced example}\n * - {@link http://dc-js.github.io/dc.js/examples/boxplot-render-data.html Boxplot Render Data example}\n * - {@link http://dc-js.github.io/dc.js/examples/boxplot-time.html Boxplot time example}\n * @mixes CoordinateGridMixin\n */\nexport class BoxPlot extends CoordinateGridMixin {\n    /**\n     * Create a Box Plot.\n     *\n     * @example\n     * // create a box plot under #chart-container1 element using the default global chart group\n     * var boxPlot1 = new BoxPlot('#chart-container1');\n     * // create a box plot under #chart-container2 element using chart group A\n     * var boxPlot2 = new BoxPlot('#chart-container2', 'chartGroupA');\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._whiskerIqrFactor = 1.5;\n        this._whiskersIqr = defaultWhiskersIQR;\n        this._whiskers = this._whiskersIqr(this._whiskerIqrFactor);\n\n        this._box = d3Box();\n        this._tickFormat = null;\n        this._renderDataPoints = false;\n        this._dataOpacity = 0.3;\n        this._dataWidthPortion = 0.8;\n        this._showOutliers = true;\n        this._boldOutlier = false;\n\n        // Used in yAxisMin and yAxisMax to add padding in pixel coordinates\n        // so the min and max data points/whiskers are within the chart\n        this._yRangePadding = 8;\n\n        this._boxWidth = (innerChartWidth, xUnits) => {\n            if (this.isOrdinal()) {\n                return this.x().bandwidth();\n            } else {\n                return innerChartWidth / (1 + this.boxPadding()) / xUnits;\n            }\n        };\n\n        // default to ordinal\n        this.x(scaleBand());\n        this.xUnits(units.ordinal);\n\n        // valueAccessor should return an array of values that can be coerced into numbers\n        // or if data is overloaded for a static array of arrays, it should be `Number`.\n        // Empty arrays are not included.\n        this.data(group => group.all().map(d => {\n            d.map = accessor => accessor.call(d, d);\n            return d;\n        }).filter(d => {\n            const values = this.valueAccessor()(d);\n            return values.length !== 0;\n        }));\n\n        this.boxPadding(0.8);\n        this.outerPadding(0.5);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    /**\n     * Get or set the spacing between boxes as a fraction of box size. Valid values are within 0-1.\n     * See the {@link https://github.com/d3/d3-scale/blob/master/README.md#scaleBand d3 docs}\n     * for a visual description of how the padding is applied.\n     * @see {@link https://github.com/d3/d3-scale/blob/master/README.md#scaleBand d3.scaleBand}\n     * @param {Number} [padding=0.8]\n     * @returns {Number|BoxPlot}\n     */\n    boxPadding (padding) {\n        if (!arguments.length) {\n            return this._rangeBandPadding();\n        }\n        return this._rangeBandPadding(padding);\n    }\n\n    /**\n     * Get or set the outer padding on an ordinal box chart. This setting has no effect on non-ordinal charts\n     * or on charts with a custom {@link BoxPlot#boxWidth .boxWidth}. Will pad the width by\n     * `padding * barWidth` on each side of the chart.\n     * @param {Number} [padding=0.5]\n     * @returns {Number|BoxPlot}\n     */\n    outerPadding (padding) {\n        if (!arguments.length) {\n            return this._outerRangeBandPadding();\n        }\n        return this._outerRangeBandPadding(padding);\n    }\n\n    /**\n     * Get or set the numerical width of the boxplot box. The width may also be a function taking as\n     * parameters the chart width excluding the right and left margins, as well as the number of x\n     * units.\n     * @example\n     * // Using numerical parameter\n     * chart.boxWidth(10);\n     * // Using function\n     * chart.boxWidth((innerChartWidth, xUnits) { ... });\n     * @param {Number|Function} [boxWidth=0.5]\n     * @returns {Number|Function|BoxPlot}\n     */\n    boxWidth (boxWidth) {\n        if (!arguments.length) {\n            return this._boxWidth;\n        }\n        this._boxWidth = typeof boxWidth === 'function' ? boxWidth : utils.constant(boxWidth);\n        return this;\n    }\n\n    _boxTransform (d, i) {\n        const xOffset = this.x()(this.keyAccessor()(d, i));\n        return `translate(${xOffset}, 0)`;\n    }\n\n    _preprocessData () {\n        if (this.elasticX()) {\n            this.x().domain([]);\n        }\n    }\n\n    plotData () {\n        this._calculatedBoxWidth = this._boxWidth(this.effectiveWidth(), this.xUnitCount());\n\n        this._box.whiskers(this._whiskers)\n            .width(this._calculatedBoxWidth)\n            .height(this.effectiveHeight())\n            .value(this.valueAccessor())\n            .domain(this.y().domain())\n            .duration(this.transitionDuration())\n            .tickFormat(this._tickFormat)\n            .renderDataPoints(this._renderDataPoints)\n            .dataOpacity(this._dataOpacity)\n            .dataWidthPortion(this._dataWidthPortion)\n            .renderTitle(this.renderTitle())\n            .showOutliers(this._showOutliers)\n            .boldOutlier(this._boldOutlier);\n\n        const boxesG = this.chartBodyG().selectAll('g.box').data(this.data(), this.keyAccessor());\n\n        const boxesGEnterUpdate = this._renderBoxes(boxesG);\n        this._updateBoxes(boxesGEnterUpdate);\n        this._removeBoxes(boxesG);\n\n        this.fadeDeselectedArea(this.filter());\n    }\n\n    _renderBoxes (boxesG) {\n        const boxesGEnter = boxesG.enter().append('g');\n\n        boxesGEnter\n            .attr('class', 'box')\n            .classed('dc-tabbable', this._keyboardAccessible)\n            .attr('transform', (d, i) => this._boxTransform(d, i))\n            .call(this._box)\n            .on('click', adaptHandler(d => {\n                this.filter(this.keyAccessor()(d));\n                this.redrawGroup();\n            }))\n            .selectAll('circle')\n            .classed('dc-tabbable', this._keyboardAccessible);\n\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible(this.onClick);\n        }\n\n        return boxesGEnter.merge(boxesG);\n    }\n\n    _updateBoxes (boxesG) {\n        const chart = this;\n        transition(boxesG, this.transitionDuration(), this.transitionDelay())\n            .attr('transform', (d, i) => this._boxTransform(d, i))\n            .call(this._box)\n            .each(function (d) {\n                const color = chart.getColor(d, 0);\n                select(this).select('rect.box').attr('fill', color);\n                select(this).selectAll('circle.data').attr('fill', color);\n            });\n    }\n\n    _removeBoxes (boxesG) {\n        boxesG.exit().remove().call(this._box);\n    }\n\n    _minDataValue () {\n        return min(this.data(), e => min(this.valueAccessor()(e)));\n    }\n\n    _maxDataValue () {\n        return max(this.data(), e => max(this.valueAccessor()(e)));\n    }\n\n    _yAxisRangeRatio () {\n        return ((this._maxDataValue() - this._minDataValue()) / this.effectiveHeight());\n    }\n\n    onClick (d) {\n        this.filter(this.keyAccessor()(d));\n        this.redrawGroup();\n    }\n\n    fadeDeselectedArea (brushSelection) {\n        const chart = this;\n        if (this.hasFilter()) {\n            if (this.isOrdinal()) {\n                this.g().selectAll('g.box').each(function (d) {\n                    if (chart.isSelectedNode(d)) {\n                        chart.highlightSelected(this);\n                    } else {\n                        chart.fadeDeselected(this);\n                    }\n                });\n            } else {\n                if (!(this.brushOn() || this.parentBrushOn())) {\n                    return;\n                }\n                const start = brushSelection[0];\n                const end = brushSelection[1];\n                this.g().selectAll('g.box').each(function (d) {\n                    const key = chart.keyAccessor()(d);\n                    if (key < start || key >= end) {\n                        chart.fadeDeselected(this);\n                    } else {\n                        chart.highlightSelected(this);\n                    }\n                });\n            }\n        } else {\n            this.g().selectAll('g.box').each(function () {\n                chart.resetHighlight(this);\n            });\n        }\n    }\n\n    isSelectedNode (d) {\n        return this.hasFilter(this.keyAccessor()(d));\n    }\n\n    yAxisMin () {\n        const padding = this._yRangePadding * this._yAxisRangeRatio();\n        return utils.subtract(this._minDataValue() - padding, this.yAxisPadding());\n    }\n\n    yAxisMax () {\n        const padding = this._yRangePadding * this._yAxisRangeRatio();\n        return utils.add(this._maxDataValue() + padding, this.yAxisPadding());\n    }\n\n    /**\n     * Get or set the numerical format of the boxplot median, whiskers and quartile labels. Defaults\n     * to integer formatting.\n     * @example\n     * // format ticks to 2 decimal places\n     * chart.tickFormat(d3.format('.2f'));\n     * @param {Function} [tickFormat]\n     * @returns {Number|Function|BoxPlot}\n     */\n    tickFormat (tickFormat) {\n        if (!arguments.length) {\n            return this._tickFormat;\n        }\n        this._tickFormat = tickFormat;\n        return this;\n    }\n\n    /**\n     * Get or set the amount of padding to add, in pixel coordinates, to the top and\n     * bottom of the chart to accommodate box/whisker labels.\n     * @example\n     * // allow more space for a bigger whisker font\n     * chart.yRangePadding(12);\n     * @param {Function} [yRangePadding = 8]\n     * @returns {Number|Function|BoxPlot}\n     */\n    yRangePadding (yRangePadding) {\n        if (!arguments.length) {\n            return this._yRangePadding;\n        }\n        this._yRangePadding = yRangePadding;\n        return this;\n    }\n\n    /**\n     * Get or set whether individual data points will be rendered.\n     * @example\n     * // Enable rendering of individual data points\n     * chart.renderDataPoints(true);\n     * @param {Boolean} [show=false]\n     * @returns {Boolean|BoxPlot}\n     */\n    renderDataPoints (show) {\n        if (!arguments.length) {\n            return this._renderDataPoints;\n        }\n        this._renderDataPoints = show;\n        return this;\n    }\n\n    /**\n     * Get or set the opacity when rendering data.\n     * @example\n     * // If individual data points are rendered increase the opacity.\n     * chart.dataOpacity(0.7);\n     * @param {Number} [opacity=0.3]\n     * @returns {Number|BoxPlot}\n     */\n    dataOpacity (opacity) {\n        if (!arguments.length) {\n            return this._dataOpacity;\n        }\n        this._dataOpacity = opacity;\n        return this;\n    }\n\n    /**\n     * Get or set the portion of the width of the box to show data points.\n     * @example\n     * // If individual data points are rendered increase the data box.\n     * chart.dataWidthPortion(0.9);\n     * @param {Number} [percentage=0.8]\n     * @returns {Number|BoxPlot}\n     */\n    dataWidthPortion (percentage) {\n        if (!arguments.length) {\n            return this._dataWidthPortion;\n        }\n        this._dataWidthPortion = percentage;\n        return this;\n    }\n\n    /**\n     * Get or set whether outliers will be rendered.\n     * @example\n     * // Disable rendering of outliers\n     * chart.showOutliers(false);\n     * @param {Boolean} [show=true]\n     * @returns {Boolean|BoxPlot}\n     */\n    showOutliers (show) {\n        if (!arguments.length) {\n            return this._showOutliers;\n        }\n        this._showOutliers = show;\n        return this;\n    }\n\n    /**\n     * Get or set whether outliers will be drawn bold.\n     * @example\n     * // If outliers are rendered display as bold\n     * chart.boldOutlier(true);\n     * @param {Boolean} [show=false]\n     * @returns {Boolean|BoxPlot}\n     */\n    boldOutlier (show) {\n        if (!arguments.length) {\n            return this._boldOutlier;\n        }\n        this._boldOutlier = show;\n        return this;\n    }\n}\n\nexport const boxPlot = (parent, chartGroup) => new BoxPlot(parent, chartGroup);\n","import {BubbleMixin} from '../base/bubble-mixin';\nimport {CoordinateGridMixin} from '../base/coordinate-grid-mixin';\nimport {transition} from '../core/core';\nimport {adaptHandler} from '../core/d3compat';\n\n/**\n * A concrete implementation of a general purpose bubble chart that allows data visualization using the\n * following dimensions:\n * - x axis position\n * - y axis position\n * - bubble radius\n * - color\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n * - {@link http://dc-js.github.com/dc.js/vc/index.html US Venture Capital Landscape 2011}\n * @mixes BubbleMixin\n * @mixes CoordinateGridMixin\n */\nexport class BubbleChart extends BubbleMixin(CoordinateGridMixin) {\n    /**\n     * Create a Bubble Chart.\n     *\n     * @example\n     * // create a bubble chart under #chart-container1 element using the default global chart group\n     * var bubbleChart1 = new BubbleChart('#chart-container1');\n     * // create a bubble chart under #chart-container2 element using chart group A\n     * var bubbleChart2 = new BubbleChart('#chart-container2', 'chartGroupA');\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this.transitionDuration(750);\n\n        this.transitionDelay(0);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _bubbleLocator (d) {\n        return `translate(${this._bubbleX(d)},${this._bubbleY(d)})`;\n    }\n\n    plotData () {\n        this.calculateRadiusDomain();\n        this.r().range([this.MIN_RADIUS, this.xAxisLength() * this.maxBubbleRelativeSize()]);\n\n        const data = this.data();\n        let bubbleG = this.chartBodyG().selectAll(`g.${this.BUBBLE_NODE_CLASS}`)\n            .data(data, d => d.key);\n        if (this.sortBubbleSize() || this.keyboardAccessible()) {\n            // update dom order based on sort\n            bubbleG.order();\n        }\n\n        this._removeNodes(bubbleG);\n\n        bubbleG = this._renderNodes(bubbleG);\n\n        this._updateNodes(bubbleG);\n\n        this.fadeDeselectedArea(this.filter());\n    }\n\n    _renderNodes (bubbleG) {\n        const bubbleGEnter = bubbleG.enter().append('g');\n\n        bubbleGEnter\n            .attr('class', this.BUBBLE_NODE_CLASS)\n            .attr('transform', d => this._bubbleLocator(d))\n            .append('circle').attr('class', (d, i) => `${this.BUBBLE_CLASS} _${i}`)\n            .on('click', adaptHandler(d => this.onClick(d)))\n            .classed('dc-tabbable', this._keyboardAccessible)\n            .attr('fill', this.getColor)\n            .attr('r', 0);\n\n        bubbleG = bubbleGEnter.merge(bubbleG);\n\n        transition(bubbleG, this.transitionDuration(), this.transitionDelay())\n            .select(`circle.${this.BUBBLE_CLASS}`)\n            .attr('r', d => this.bubbleR(d))\n            .attr('opacity', d => (this.bubbleR(d) > 0) ? 1 : 0);\n\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible(this.onClick);\n        }\n\n        this._doRenderLabel(bubbleGEnter);\n\n        this._doRenderTitles(bubbleGEnter);\n\n        return bubbleG;\n    }\n\n    _updateNodes (bubbleG) {\n        transition(bubbleG, this.transitionDuration(), this.transitionDelay())\n            .attr('transform', d => this._bubbleLocator(d))\n            .select(`circle.${this.BUBBLE_CLASS}`)\n            .attr('fill', this.getColor)\n            .attr('r', d => this.bubbleR(d))\n            .attr('opacity', d => (this.bubbleR(d) > 0) ? 1 : 0);\n\n        this.doUpdateLabels(bubbleG);\n        this.doUpdateTitles(bubbleG);\n    }\n\n    _removeNodes (bubbleG) {\n        bubbleG.exit().remove();\n    }\n\n    _bubbleX (d) {\n        let x = this.x()(this.keyAccessor()(d));\n        if (isNaN(x) || !isFinite(x)) {\n            x = 0;\n        }\n        return x;\n    }\n\n    _bubbleY (d) {\n        let y = this.y()(this.valueAccessor()(d));\n        if (isNaN(y) || !isFinite(y)) {\n            y = 0;\n        }\n        return y;\n    }\n\n    renderBrush () {\n        // override default x axis brush from parent chart\n    }\n\n    redrawBrush (brushSelection, doTransition) {\n        // override default x axis brush from parent chart\n        this.fadeDeselectedArea(brushSelection);\n    }\n}\n\nexport const bubbleChart = (parent, chartGroup) => new BubbleChart(parent, chartGroup);\n","import {BaseMixin} from '../base/base-mixin';\nimport {BubbleMixin} from '../base/bubble-mixin';\nimport {transition} from '../core/core';\nimport {constants} from '../core/constants';\nimport {utils} from '../core/utils';\nimport {adaptHandler, d3compatPointer} from '../core/d3compat';\n\nconst BUBBLE_OVERLAY_CLASS = 'bubble-overlay';\nconst BUBBLE_NODE_CLASS = 'node';\nconst BUBBLE_CLASS = 'bubble';\n\n/**\n * The bubble overlay chart is quite different from the typical bubble chart. With the bubble overlay\n * chart you can arbitrarily place bubbles on an existing svg or bitmap image, thus changing the\n * typical x and y positioning while retaining the capability to visualize data using bubble radius\n * and coloring.\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/crime/index.html Canadian City Crime Stats}\n * @mixes BubbleMixin\n * @mixes BaseMixin\n */\nexport class BubbleOverlay extends BubbleMixin(BaseMixin) {\n    /**\n     * Create a Bubble Overlay.\n     *\n     * @example\n     * // create a bubble overlay chart on top of the '#chart-container1 svg' element using the default global chart group\n     * var bubbleChart1 = BubbleOverlayChart('#chart-container1').svg(d3.select('#chart-container1 svg'));\n     * // create a bubble overlay chart on top of the '#chart-container2 svg' element using chart group A\n     * var bubbleChart2 = new CompositeChart('#chart-container2', 'chartGroupA').svg(d3.select('#chart-container2 svg'));\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        /**\n         * **mandatory**\n         *\n         * Set the underlying svg image element. Unlike other dc charts this chart will not generate a svg\n         * element; therefore the bubble overlay chart will not work if this function is not invoked. If the\n         * underlying image is a bitmap, then an empty svg will need to be created on top of the image.\n         * @example\n         * // set up underlying svg element\n         * chart.svg(d3.select('#chart svg'));\n         * @param {SVGElement|d3.selection} [imageElement]\n         * @returns {BubbleOverlay}\n         */\n        this._g = undefined;\n        this._points = [];\n        this._keyboardAccessible = false;\n\n        this.transitionDuration(750);\n\n        this.transitionDelay(0);\n\n        this.radiusValueAccessor(d => d.value);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    /**\n     * **mandatory**\n     *\n     * Set up a data point on the overlay. The name of a data point should match a specific 'key' among\n     * data groups generated using keyAccessor.  If a match is found (point name <-> data group key)\n     * then a bubble will be generated at the position specified by the function. x and y\n     * value specified here are relative to the underlying svg.\n     * @param {String} name\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {BubbleOverlay}\n     */\n    point (name, x, y) {\n        this._points.push({name: name, x: x, y: y});\n        return this;\n    }\n\n    _doRender () {\n        this._g = this._initOverlayG();\n\n        this.r().range([this.MIN_RADIUS, this.width() * this.maxBubbleRelativeSize()]);\n\n        this._initializeBubbles();\n\n        this.fadeDeselectedArea(this.filter());\n\n        return this;\n    }\n\n    _initOverlayG () {\n        this._g = this.select(`g.${BUBBLE_OVERLAY_CLASS}`);\n        if (this._g.empty()) {\n            this._g = this.svg().append('g').attr('class', BUBBLE_OVERLAY_CLASS);\n        }\n        return this._g;\n    }\n\n    _initializeBubbles () {\n        const data = this._mapData();\n        this.calculateRadiusDomain();\n\n        this._points.forEach(point => {\n            const nodeG = this._getNodeG(point, data);\n\n            let circle = nodeG.select(`circle.${BUBBLE_CLASS}`);\n\n            if (circle.empty()) {\n                circle = nodeG.append('circle')\n                    .attr('class', BUBBLE_CLASS)\n                    .classed('dc-tabbable', this._keyboardAccessible)\n                    .attr('r', 0)\n                    .attr('fill', this.getColor)\n                    .on('click', adaptHandler(d => this.onClick(d)));\n            }\n\n            if (this._keyboardAccessible) {\n                this._makeKeyboardAccessible(this.onClick);\n            }\n\n            transition(circle, this.transitionDuration(), this.transitionDelay())\n                .attr('r', d => this.bubbleR(d));\n\n            this._doRenderLabel(nodeG);\n\n            this._doRenderTitles(nodeG);\n        });\n    }\n\n    _mapData () {\n        const data = {};\n        this.data().forEach(datum => {\n            data[this.keyAccessor()(datum)] = datum;\n        });\n        return data;\n    }\n\n    _getNodeG (point, data) {\n        const bubbleNodeClass = `${BUBBLE_NODE_CLASS} ${utils.nameToId(point.name)}`;\n\n        let nodeG = this._g.select(`g.${utils.nameToId(point.name)}`);\n\n        if (nodeG.empty()) {\n            nodeG = this._g.append('g')\n                .attr('class', bubbleNodeClass)\n                .attr('transform', `translate(${point.x},${point.y})`);\n        }\n\n        nodeG.datum(data[point.name]);\n\n        return nodeG;\n    }\n\n    _doRedraw () {\n        this._updateBubbles();\n\n        this.fadeDeselectedArea(this.filter());\n\n        return this;\n    }\n\n    _updateBubbles () {\n        const data = this._mapData();\n        this.calculateRadiusDomain();\n\n        this._points.forEach(point => {\n            const nodeG = this._getNodeG(point, data);\n\n            const circle = nodeG.select(`circle.${BUBBLE_CLASS}`);\n\n            transition(circle, this.transitionDuration(), this.transitionDelay())\n                .attr('r', d => this.bubbleR(d))\n                .attr('fill', this.getColor);\n\n            this.doUpdateLabels(nodeG);\n\n            this.doUpdateTitles(nodeG);\n        });\n    }\n\n    debug (flag) {\n        if (flag) {\n            let debugG = this.select(`g.${constants.DEBUG_GROUP_CLASS}`);\n\n            if (debugG.empty()) {\n                debugG = this.svg()\n                    .append('g')\n                    .attr('class', constants.DEBUG_GROUP_CLASS);\n            }\n\n            const debugText = debugG.append('text')\n                .attr('x', 10)\n                .attr('y', 20);\n\n            debugG\n                .append('rect')\n                .attr('width', this.width())\n                .attr('height', this.height())\n                .on('mousemove', adaptHandler((d, evt) => {\n                    const position = d3compatPointer(evt, debugG.node());\n                    const msg = `${position[0]}, ${position[1]}`;\n                    debugText.text(msg);\n                }));\n        } else {\n            this.selectAll('.debug').remove();\n        }\n\n        return this;\n    }\n\n}\n\nexport const bubbleOverlay = (parent, chartGroup) => new BubbleOverlay(parent, chartGroup);\n","import {select} from 'd3-selection';\n\nimport {events} from '../core/events';\nimport {BaseMixin} from '../base/base-mixin';\nimport {utils} from '../core/utils'\nimport {adaptHandler} from '../core/d3compat';\n\nconst GROUP_CSS_CLASS = 'dc-cbox-group';\nconst ITEM_CSS_CLASS = 'dc-cbox-item';\n\n/**\n * The CboxMenu is a simple widget designed to filter a dimension by\n * selecting option(s) from a set of HTML `<input />` elements. The menu can be\n * made into a set of radio buttons (single select) or checkboxes (multiple).\n * @mixes BaseMixin\n */\nexport class CboxMenu extends BaseMixin {\n    /**\n     * Create a Cbox Menu.\n     *\n     * @example\n     * // create a cboxMenu under #cbox-container using the default global chart group\n     * var cbox = new CboxMenu('#cbox-container')\n     *                .dimension(states)\n     *                .group(stateGroup);\n     * // the option text can be set via the title() function\n     * // by default the option text is '`key`: `value`'\n     * cbox.title(function (d){\n     *     return 'STATE: ' + d.key;\n     * })\n     * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n     * [d3 single selector](https://github.com/mbostock/d3/wiki/Selections#selecting-elements) specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this widget should be placed in.\n     * Interaction with the widget will only trigger events and redraws within its group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._cbox = undefined;\n        this._promptText = 'Select all';\n        this._multiple = false;\n        this._inputType = 'radio';\n        this._promptValue = null;\n\n        this._uniqueId = utils.uniqueId();\n\n        this.data(group => group.all().filter(this._filterDisplayed));\n\n        // There is an accessor for this attribute, initialized with default value\n        this._filterDisplayed = d => this.valueAccessor()(d) > 0;\n\n        this._order = (a, b) => {\n            if (this.keyAccessor()(a) > this.keyAccessor()(b)) {\n                return 1;\n            }\n            if (this.keyAccessor()(a) < this.keyAccessor()(b)) {\n                return -1;\n            }\n            return 0;\n        };\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _doRender () {\n        return this._doRedraw();\n    }\n\n    _doRedraw () {\n        this.select('ul').remove();\n        this._cbox = this.root()\n            .append('ul')\n            .classed(GROUP_CSS_CLASS, true);\n        this._renderOptions();\n\n        if (this.hasFilter() && this._multiple) {\n            this._cbox.selectAll('input')\n            // adding `false` avoids failing test cases in phantomjs\n                .property('checked', d => d && this.filters().indexOf(String(this.keyAccessor()(d))) >= 0 || false);\n        } else if (this.hasFilter()) {\n            this._cbox.selectAll('input')\n                .property('checked', d => {\n                    if (!d) {\n                        return false;\n                    }\n                    return this.keyAccessor()(d) === this.filter();\n                });\n        }\n        return this;\n    }\n\n    _renderOptions () {\n        let options = this._cbox\n            .selectAll(`li.${ITEM_CSS_CLASS}`)\n            .data(this.data(), d => this.keyAccessor()(d));\n\n        options.exit().remove();\n\n        options = options.enter()\n            .append('li')\n            .classed(ITEM_CSS_CLASS, true)\n            .merge(options);\n\n        options\n            .append('input')\n            .attr('type', this._inputType)\n            .attr('value', d => this.keyAccessor()(d))\n            .attr('name', `domain_${this._uniqueId}`)\n            .attr('id', (d, i) => `input_${this._uniqueId}_${i}`);\n        options\n            .append('label')\n            .attr('for', (d, i) => `input_${this._uniqueId}_${i}`)\n            .text(this.title());\n\n        const chart = this;\n        // 'all' option\n        if (this._multiple) {\n            this._cbox\n                .append('li')\n                .append('input')\n                .attr('type', 'reset')\n                .text(this._promptText)\n                .on('click', adaptHandler(function (d, evt) {\n                    return chart._onChange(d, evt, this);\n                }));\n        } else {\n            const li = this._cbox.append('li');\n            li.append('input')\n                .attr('type', this._inputType)\n                .attr('value', this._promptValue)\n                .attr('name', `domain_${this._uniqueId}`)\n                .attr('id', (d, i) => `input_${this._uniqueId}_all`)\n                .property('checked', true);\n            li.append('label')\n                .attr('for', (d, i) => `input_${this._uniqueId}_all`)\n                .text(this._promptText);\n        }\n\n        this._cbox\n            .selectAll(`li.${ITEM_CSS_CLASS}`)\n            .sort(this._order);\n\n        this._cbox.on('change', adaptHandler(function (d, evt) {\n            return chart._onChange(d, evt, this);\n        }));\n        return options;\n    }\n\n    _onChange (d, evt, element) {\n        let values;\n\n        const target = select(evt.target);\n        let options;\n\n        if (!target.datum()) {\n            values = this._promptValue || null;\n        } else {\n            options = select(element).selectAll('input')\n                .filter(function (o) {\n                    if (o) {\n                        return this.checked;\n                    }\n                });\n            values = options.nodes().map(option => option.value);\n            // check if only prompt option is selected\n            if (!this._multiple && values.length === 1) {\n                values = values[0];\n            }\n        }\n        this.onChange(values);\n    }\n\n    onChange (val) {\n        if (val && this._multiple) {\n            this.replaceFilter([val]);\n        } else if (val) {\n            this.replaceFilter(val);\n        } else {\n            this.filterAll();\n        }\n        events.trigger(() => {\n            this.redrawGroup();\n        });\n    }\n\n    /**\n     * Get or set the function that controls the ordering of option tags in the\n     * cbox menu. By default options are ordered by the group key in ascending\n     * order.\n     * @param {Function} [order]\n     * @returns {Function|CboxMenu}\n     * @example\n     * // order by the group's value\n     * chart.order(function (a,b) {\n     *     return a.value > b.value ? 1 : b.value > a.value ? -1 : 0;\n     * });\n     */\n    order (order) {\n        if (!arguments.length) {\n            return this._order;\n        }\n        this._order = order;\n        return this;\n    }\n\n    /**\n     * Get or set the text displayed in the options used to prompt selection.\n     * @param {String} [promptText='Select all']\n     * @returns {String|CboxMenu}\n     * @example\n     * chart.promptText('All states');\n     */\n    promptText (promptText) {\n        if (!arguments.length) {\n            return this._promptText;\n        }\n        this._promptText = promptText;\n        return this;\n    }\n\n    /**\n     * Get or set the function that filters options prior to display. By default options\n     * with a value of < 1 are not displayed.\n     * @param {function} [filterDisplayed]\n     * @returns {Function|CboxMenu}\n     * @example\n     * // display all options override the `filterDisplayed` function:\n     * chart.filterDisplayed(function () {\n     *     return true;\n     * });\n     */\n    filterDisplayed (filterDisplayed) {\n        if (!arguments.length) {\n            return this._filterDisplayed;\n        }\n        this._filterDisplayed = filterDisplayed;\n        return this;\n    }\n\n    /**\n     * Controls the type of input element. Setting it to true converts\n     * the HTML `input` tags from radio buttons to checkboxes.\n     * @param {boolean} [multiple=false]\n     * @returns {Boolean|CboxMenu}\n     * @example\n     * chart.multiple(true);\n     */\n    multiple (multiple) {\n        if (!arguments.length) {\n            return this._multiple;\n        }\n        this._multiple = multiple;\n        if (this._multiple) {\n            this._inputType = 'checkbox';\n        } else {\n            this._inputType = 'radio';\n        }\n        return this;\n    }\n\n    /**\n     * Controls the default value to be used for\n     * [dimension.filter](https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension_filter)\n     * when only the prompt value is selected. If `null` (the default), no filtering will occur when\n     * just the prompt is selected.\n     * @param {?*} [promptValue=null]\n     * @returns {*|CboxMenu}\n     */\n    promptValue (promptValue) {\n        if (!arguments.length) {\n            return this._promptValue;\n        }\n        this._promptValue = promptValue;\n\n        return this;\n    }\n}\n\nexport const cboxMenu = (parent, chartGroup) => new CboxMenu(parent, chartGroup);\n","import {min, max} from 'd3-array';\nimport {scaleLinear} from 'd3-scale';\nimport {axisRight} from 'd3-axis';\n\nimport {utils} from '../core/utils';\nimport {CoordinateGridMixin} from '../base/coordinate-grid-mixin';\n\nconst SUB_CHART_CLASS = 'sub';\nconst DEFAULT_RIGHT_Y_AXIS_LABEL_PADDING = 12;\n\n/**\n * Composite charts are a special kind of chart that render multiple charts on the same Coordinate\n * Grid. You can overlay (compose) different bar/line/area charts in a single composite chart to\n * achieve some quite flexible charting effects.\n * @mixes CoordinateGridMixin\n */\nexport class CompositeChart extends CoordinateGridMixin {\n    /**\n     * Create a Composite Chart.\n     * @example\n     * // create a composite chart under #chart-container1 element using the default global chart group\n     * var compositeChart1 = new CompositeChart('#chart-container1');\n     * // create a composite chart under #chart-container2 element using chart group A\n     * var compositeChart2 = new CompositeChart('#chart-container2', 'chartGroupA');\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._children = [];\n\n        this._childOptions = {};\n\n        this._shareColors = false;\n        this._shareTitle = true;\n        this._alignYAxes = false;\n\n        this._rightYAxis = axisRight();\n        this._rightYAxisLabel = 0;\n        this._rightYAxisLabelPadding = DEFAULT_RIGHT_Y_AXIS_LABEL_PADDING;\n        this._rightY = undefined;\n        this._rightAxisGridLines = false;\n\n        this._mandatoryAttributes([]);\n        this.transitionDuration(500);\n        this.transitionDelay(0);\n\n        this.on('filtered.dcjs-composite-chart', chart => {\n            // Propagate the filters onto the children\n            // Notice that on children the call is .replaceFilter and not .filter\n            //   the reason is that _chart.filter() returns the entire current set of filters not just the last added one\n            for (let i = 0; i < this._children.length; ++i) {\n                this._children[i].replaceFilter(this.filter());\n            }\n        });\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _generateG () {\n        const g = super._generateG();\n\n        for (let i = 0; i < this._children.length; ++i) {\n            const child = this._children[i];\n\n            this._generateChildG(child, i);\n\n            if (!child.dimension()) {\n                child.dimension(this.dimension());\n            }\n            if (!child.group()) {\n                child.group(this.group());\n            }\n\n            child.chartGroup(this.chartGroup());\n            child.svg(this.svg());\n            child.xUnits(this.xUnits());\n            child.transitionDuration(this.transitionDuration(), this.transitionDelay());\n            child.parentBrushOn(this.brushOn());\n            child.brushOn(false);\n            child.renderTitle(this.renderTitle());\n            child.elasticX(this.elasticX());\n        }\n\n        return g;\n    }\n\n    rescale () {\n        super.rescale();\n\n        this._children.forEach(child => {\n            child.rescale();\n        });\n\n        return this;\n    }\n\n    resizing (resizing) {\n        if (!arguments.length) {\n            return super.resizing();\n        }\n        super.resizing(resizing);\n\n        this._children.forEach(child => {\n            child.resizing(resizing);\n        });\n\n        return this;\n    }\n\n    _prepareYAxis () {\n        const left = (this._leftYAxisChildren().length !== 0);\n        const right = (this._rightYAxisChildren().length !== 0);\n        const ranges = this._calculateYAxisRanges(left, right);\n\n        if (left) {\n            this._prepareLeftYAxis(ranges);\n        }\n        if (right) {\n            this._prepareRightYAxis(ranges);\n        }\n\n        if (this._leftYAxisChildren().length > 0 && !this._rightAxisGridLines) {\n            this._renderHorizontalGridLinesForAxis(this.g(), this.y(), this.yAxis());\n        } else if (this._rightYAxisChildren().length > 0) {\n            this._renderHorizontalGridLinesForAxis(this.g(), this._rightY, this._rightYAxis);\n        }\n    }\n\n    renderYAxis () {\n        if (this._leftYAxisChildren().length !== 0) {\n            this.renderYAxisAt('y', this.yAxis(), this.margins().left);\n            this.renderYAxisLabel('y', this.yAxisLabel(), -90);\n        }\n\n        if (this._rightYAxisChildren().length !== 0) {\n            this.renderYAxisAt('yr', this.rightYAxis(), this.width() - this.margins().right);\n            this.renderYAxisLabel('yr', this.rightYAxisLabel(), 90, this.width() - this._rightYAxisLabelPadding);\n        }\n    }\n\n    _calculateYAxisRanges (left, right) {\n        let lyAxisMin, lyAxisMax, ryAxisMin, ryAxisMax;\n        let ranges;\n\n        if (left) {\n            lyAxisMin = this._yAxisMin();\n            lyAxisMax = this._yAxisMax();\n        }\n\n        if (right) {\n            ryAxisMin = this._rightYAxisMin();\n            ryAxisMax = this._rightYAxisMax();\n        }\n\n        if (this.alignYAxes() && left && right) {\n            ranges = this._alignYAxisRanges(lyAxisMin, lyAxisMax, ryAxisMin, ryAxisMax);\n        }\n\n        return ranges || {\n            lyAxisMin: lyAxisMin,\n            lyAxisMax: lyAxisMax,\n            ryAxisMin: ryAxisMin,\n            ryAxisMax: ryAxisMax\n        };\n    }\n\n    _alignYAxisRanges (lyAxisMin, lyAxisMax, ryAxisMin, ryAxisMax) {\n        // since the two series will share a zero, each Y is just a multiple\n        // of the other. and the ratio should be the ratio of the ranges of the\n        // input data, so that they come out the same height. so we just min/max\n\n        // note: both ranges already include zero due to the stack mixin (#667)\n        // if #667 changes, we can reconsider whether we want data height or\n        // height from zero to be equal. and it will be possible for the axes\n        // to be aligned but not visible.\n        const extentRatio = (ryAxisMax - ryAxisMin) / (lyAxisMax - lyAxisMin);\n\n        return {\n            lyAxisMin: Math.min(lyAxisMin, ryAxisMin / extentRatio),\n            lyAxisMax: Math.max(lyAxisMax, ryAxisMax / extentRatio),\n            ryAxisMin: Math.min(ryAxisMin, lyAxisMin * extentRatio),\n            ryAxisMax: Math.max(ryAxisMax, lyAxisMax * extentRatio)\n        };\n    }\n\n    _prepareRightYAxis (ranges) {\n        const needDomain = this.rightY() === undefined || this.elasticY(),\n            needRange = needDomain || this.resizing();\n        if (this.rightY() === undefined) {\n            this.rightY(scaleLinear());\n        }\n        if (needDomain) {\n            this.rightY().domain([ranges.ryAxisMin, ranges.ryAxisMax]);\n        }\n        if (needRange) {\n            this.rightY().rangeRound([this.yAxisHeight(), 0]);\n        }\n\n        this.rightY().range([this.yAxisHeight(), 0]);\n        this.rightYAxis(this.rightYAxis().scale(this.rightY()));\n\n        // In D3v4 create a RightAxis\n        // _chart.rightYAxis().orient('right');\n    }\n\n    _prepareLeftYAxis (ranges) {\n        const needDomain = this.y() === undefined || this.elasticY(),\n            needRange = needDomain || this.resizing();\n        if (this.y() === undefined) {\n            this.y(scaleLinear());\n        }\n        if (needDomain) {\n            this.y().domain([ranges.lyAxisMin, ranges.lyAxisMax]);\n        }\n        if (needRange) {\n            this.y().rangeRound([this.yAxisHeight(), 0]);\n        }\n\n        this.y().range([this.yAxisHeight(), 0]);\n        this.yAxis(this.yAxis().scale(this.y()));\n\n        // In D3v4 create a LeftAxis\n        // _chart.yAxis().orient('left');\n    }\n\n    _generateChildG (child, i) {\n        child._generateG(this.g());\n        child.g().attr('class', `${SUB_CHART_CLASS} _${i}`);\n    }\n\n    plotData () {\n        for (let i = 0; i < this._children.length; ++i) {\n            const child = this._children[i];\n\n            if (!child.g()) {\n                this._generateChildG(child, i);\n            }\n\n            if (this._shareColors) {\n                child.colors(this.colors());\n            }\n\n            child.x(this.x());\n\n            child.xAxis(this.xAxis());\n\n            if (child.useRightYAxis()) {\n                child.y(this.rightY());\n                child.yAxis(this.rightYAxis());\n            } else {\n                child.y(this.y());\n                child.yAxis(this.yAxis());\n            }\n\n            child.plotData();\n\n            child._activateRenderlets();\n        }\n    }\n\n    /**\n     * Get or set whether to draw gridlines from the right y axis.  Drawing from the left y axis is the\n     * default behavior. This option is only respected when subcharts with both left and right y-axes\n     * are present.\n     * @param {Boolean} [useRightAxisGridLines=false]\n     * @returns {Boolean|CompositeChart}\n     */\n    useRightAxisGridLines (useRightAxisGridLines) {\n        if (!arguments) {\n            return this._rightAxisGridLines;\n        }\n\n        this._rightAxisGridLines = useRightAxisGridLines;\n        return this;\n    }\n\n    /**\n     * Get or set chart-specific options for all child charts. This is equivalent to calling\n     * {@link BaseMixin#options .options} on each child chart.\n     * @param {Object} [childOptions]\n     * @returns {Object|CompositeChart}\n     */\n    childOptions (childOptions) {\n        if (!arguments.length) {\n            return this._childOptions;\n        }\n        this._childOptions = childOptions;\n        this._children.forEach(child => {\n            child.options(this._childOptions);\n        });\n        return this;\n    }\n\n    fadeDeselectedArea (brushSelection) {\n        if (this.brushOn()) {\n            for (let i = 0; i < this._children.length; ++i) {\n                const child = this._children[i];\n                child.fadeDeselectedArea(brushSelection);\n            }\n        }\n    }\n\n    /**\n     * Set or get the right y axis label.\n     * @param {String} [rightYAxisLabel]\n     * @param {Number} [padding]\n     * @returns {String|CompositeChart}\n     */\n    rightYAxisLabel (rightYAxisLabel, padding) {\n        if (!arguments.length) {\n            return this._rightYAxisLabel;\n        }\n        this._rightYAxisLabel = rightYAxisLabel;\n        this.margins().right -= this._rightYAxisLabelPadding;\n        this._rightYAxisLabelPadding = (padding === undefined) ? DEFAULT_RIGHT_Y_AXIS_LABEL_PADDING : padding;\n        this.margins().right += this._rightYAxisLabelPadding;\n        return this;\n    }\n\n    /**\n     * Combine the given charts into one single composite coordinate grid chart.\n     * @example\n     * moveChart.compose([\n     *     // when creating sub-chart you need to pass in the parent chart\n     *     new LineChart(moveChart)\n     *         .group(indexAvgByMonthGroup) // if group is missing then parent's group will be used\n     *         .valueAccessor(function (d){return d.value.avg;})\n     *         // most of the normal functions will continue to work in a composed chart\n     *         .renderArea(true)\n     *         .stack(monthlyMoveGroup, function (d){return d.value;})\n     *         .title(function (d){\n     *             var value = d.value.avg?d.value.avg:d.value;\n     *             if(isNaN(value)) value = 0;\n     *             return dateFormat(d.key) + '\\n' + numberFormat(value);\n     *         }),\n     *     new BarChart(moveChart)\n     *         .group(volumeByMonthGroup)\n     *         .centerBar(true)\n     * ]);\n     * @param {Array<Chart>} [subChartArray]\n     * @returns {CompositeChart}\n     */\n    compose (subChartArray) {\n        this._children = subChartArray;\n        this._children.forEach(child => {\n            child.height(this.height());\n            child.width(this.width());\n            child.margins(this.margins());\n\n            if (this._shareTitle) {\n                child.title(this.title());\n            }\n\n            child.options(this._childOptions);\n        });\n        this.rescale();\n        return this;\n    }\n\n    _setChildrenProperty (prop, value) {\n        this._children.forEach(child => {\n            child[prop](value);\n        });\n    }\n\n    // properties passed through in compose()\n    height (height) {\n        if(!arguments.length) {\n            return super.height();\n        }\n        super.height(height);\n        this._setChildrenProperty('height', height);\n        return this;\n    }\n\n    width (width) {\n        if(!arguments.length) {\n            return super.width();\n        }\n        super.width(width);\n        this._setChildrenProperty('width', width);\n        return this;\n    }\n\n    margins (margins) {\n        if(!arguments.length) {\n            return super.margins();\n        }\n        super.margins(margins);\n        this._setChildrenProperty('margins', margins);\n        return this;\n    }\n\n    /**\n     * Returns the child charts which are composed into the composite chart.\n     * @returns {Array<BaseMixin>}\n     */\n    children () {\n        return this._children;\n    }\n\n    /**\n     * Get or set color sharing for the chart. If set, the {@link ColorMixin#colors .colors()} value from this chart\n     * will be shared with composed children. Additionally if the child chart implements\n     * Stackable and has not set a custom .colorAccessor, then it will generate a color\n     * specific to its order in the composition.\n     * @param {Boolean} [shareColors=false]\n     * @returns {Boolean|CompositeChart}\n     */\n    shareColors (shareColors) {\n        if (!arguments.length) {\n            return this._shareColors;\n        }\n        this._shareColors = shareColors;\n        return this;\n    }\n\n    /**\n     * Get or set title sharing for the chart. If set, the {@link BaseMixin#title .title()} value from\n     * this chart will be shared with composed children.\n     *\n     * Note: currently you must call this before `compose` or the child will still get the parent's\n     * `title` function!\n     * @param {Boolean} [shareTitle=true]\n     * @returns {Boolean|CompositeChart}\n     */\n    shareTitle (shareTitle) {\n        if (!arguments.length) {\n            return this._shareTitle;\n        }\n        this._shareTitle = shareTitle;\n        return this;\n    }\n\n    /**\n     * Get or set the y scale for the right axis. The right y scale is typically automatically\n     * generated by the chart implementation.\n     * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n     * @param {d3.scale} [yScale]\n     * @returns {d3.scale|CompositeChart}\n     */\n    rightY (yScale) {\n        if (!arguments.length) {\n            return this._rightY;\n        }\n        this._rightY = yScale;\n        this.rescale();\n        return this;\n    }\n\n    /**\n     * Get or set alignment between left and right y axes. A line connecting '0' on both y axis\n     * will be parallel to x axis. This only has effect when {@link CoordinateGridMixin#elasticY elasticY} is true.\n     * @param {Boolean} [alignYAxes=false]\n     * @returns {Chart}\n     */\n    alignYAxes (alignYAxes) {\n        if (!arguments.length) {\n            return this._alignYAxes;\n        }\n        this._alignYAxes = alignYAxes;\n        this.rescale();\n        return this;\n    }\n\n    _leftYAxisChildren () {\n        return this._children.filter(child => !child.useRightYAxis());\n    }\n\n    _rightYAxisChildren () {\n        return this._children.filter(child => child.useRightYAxis());\n    }\n\n    _getYAxisMin (charts) {\n        return charts.map(c => c.yAxisMin());\n    }\n\n    _yAxisMin () {\n        return min(this._getYAxisMin(this._leftYAxisChildren()));\n    }\n\n    _rightYAxisMin () {\n        return min(this._getYAxisMin(this._rightYAxisChildren()));\n    }\n\n    _getYAxisMax (charts) {\n        return charts.map(c => c.yAxisMax());\n    }\n\n    _yAxisMax () {\n        return utils.add(max(this._getYAxisMax(this._leftYAxisChildren())), this.yAxisPadding());\n    }\n\n    _rightYAxisMax () {\n        return utils.add(max(this._getYAxisMax(this._rightYAxisChildren())), this.yAxisPadding());\n    }\n\n    _getAllXAxisMinFromChildCharts () {\n        return this._children.map(c => c.xAxisMin());\n    }\n\n    xAxisMin () {\n        return utils.subtract(min(this._getAllXAxisMinFromChildCharts()), this.xAxisPadding(), this.xAxisPaddingUnit());\n    }\n\n    _getAllXAxisMaxFromChildCharts () {\n        return this._children.map(c => c.xAxisMax());\n    }\n\n    xAxisMax () {\n        return utils.add(max(this._getAllXAxisMaxFromChildCharts()), this.xAxisPadding(), this.xAxisPaddingUnit());\n    }\n\n    legendables () {\n        return this._children.reduce((items, child) => {\n            if (this._shareColors) {\n                child.colors(this.colors());\n            }\n            items.push.apply(items, child.legendables());\n            return items;\n        }, []);\n    }\n\n    legendHighlight (d) {\n        for (let j = 0; j < this._children.length; ++j) {\n            const child = this._children[j];\n            child.legendHighlight(d);\n        }\n    }\n\n    legendReset (d) {\n        for (let j = 0; j < this._children.length; ++j) {\n            const child = this._children[j];\n            child.legendReset(d);\n        }\n    }\n\n    legendToggle () {\n        console.log('composite should not be getting legendToggle itself');\n    }\n\n    /**\n     * Set or get the right y axis used by the composite chart. This function is most useful when y\n     * axis customization is required. The y axis in dc.js is an instance of a\n     * [d3.axisRight](https://github.com/d3/d3-axis/blob/master/README.md#axisRight) therefore it supports any valid\n     * d3 axis manipulation.\n     *\n     * **Caution**: The right y axis is usually generated internally by dc; resetting it may cause\n     * unexpected results.  Note also that when used as a getter, this function is not chainable: it\n     * returns the axis, not the chart,\n     * {@link https://github.com/dc-js/dc.js/wiki/FAQ#why-does-everything-break-after-a-call-to-xaxis-or-yaxis\n     * so attempting to call chart functions after calling `.yAxis()` will fail}.\n     * @see {@link https://github.com/d3/d3-axis/blob/master/README.md#axisRight}\n     * @example\n     * // customize y axis tick format\n     * chart.rightYAxis().tickFormat(function (v) {return v + '%';});\n     * // customize y axis tick values\n     * chart.rightYAxis().tickValues([0, 100, 200, 300]);\n     * @param {d3.axisRight} [rightYAxis]\n     * @returns {d3.axisRight|CompositeChart}\n     */\n    rightYAxis (rightYAxis) {\n        if (!arguments.length) {\n            return this._rightYAxis;\n        }\n        this._rightYAxis = rightYAxis;\n        return this;\n    }\n\n    yAxisMin () {\n        throw new Error('Not supported for this chart type');\n    }\n\n    yAxisMax () {\n        throw new Error('Not supported for this chart type');\n    }\n}\n\nexport const compositeChart = (parent, chartGroup) => new CompositeChart(parent, chartGroup);\n","import {format} from 'd3-format';\n\nimport {logger} from '../core/logger';\nimport {BaseMixin} from '../base/base-mixin';\n\n/**\n * The data count widget is a simple widget designed to display the number of records selected by the\n * current filters out of the total number of records in the data set. Once created the data count widget\n * will automatically update the text content of child elements with the following classes:\n *\n * * `.total-count` - total number of records\n * * `.filter-count` - number of records matched by the current filters\n *\n * Note: this widget works best for the specific case of showing the number of records out of a\n * total. If you want a more general-purpose numeric display, please use the\n * {@link NumberDisplay} widget instead.\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n * @mixes BaseMixin\n */\nexport class DataCount extends BaseMixin {\n    /**\n     * Create a Data Count widget.\n     * @example\n     * var ndx = crossfilter(data);\n     * var all = ndx.groupAll();\n     *\n     * new DataCount('.dc-data-count')\n     *     .crossfilter(ndx)\n     *     .groupAll(all);\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._formatNumber = format(',d');\n        this._crossfilter = null;\n        this._groupAll = null;\n        this._html = {some: '', all: ''};\n\n        this._mandatoryAttributes(['crossfilter', 'groupAll']);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    /**\n     * Gets or sets an optional object specifying HTML templates to use depending how many items are\n     * selected. The text `%total-count` will replaced with the total number of records, and the text\n     * `%filter-count` will be replaced with the number of selected records.\n     * - all: HTML template to use if all items are selected\n     * - some: HTML template to use if not all items are selected\n     * @example\n     * counter.html({\n     *      some: '%filter-count out of %total-count records selected',\n     *      all: 'All records selected. Click on charts to apply filters'\n     * })\n     * @param {{some:String, all: String}} [options]\n     * @returns {{some:String, all: String}|DataCount}\n     */\n    html (options) {\n        if (!arguments.length) {\n            return this._html;\n        }\n        if (options.all) {\n            this._html.all = options.all;\n        }\n        if (options.some) {\n            this._html.some = options.some;\n        }\n        return this;\n    }\n\n    /**\n     * Gets or sets an optional function to format the filter count and total count.\n     * @see {@link https://github.com/d3/d3-format/blob/master/README.md#format d3.format}\n     * @example\n     * counter.formatNumber(d3.format('.2g'))\n     * @param {Function} [formatter=d3.format('.2g')]\n     * @returns {Function|DataCount}\n     */\n    formatNumber (formatter) {\n        if (!arguments.length) {\n            return this._formatNumber;\n        }\n        this._formatNumber = formatter;\n        return this;\n    }\n\n    _doRender () {\n        const tot = this.crossfilter().size(),\n            val = this.groupAll().value();\n        const all = this._formatNumber(tot);\n        const selected = this._formatNumber(val);\n\n        if ((tot === val) && (this._html.all !== '')) {\n            this.root().html(this._html.all.replace('%total-count', all).replace('%filter-count', selected));\n        } else if (this._html.some !== '') {\n            this.root().html(this._html.some.replace('%total-count', all).replace('%filter-count', selected));\n        } else {\n            this.selectAll('.total-count').text(all);\n            this.selectAll('.filter-count').text(selected);\n        }\n        return this;\n    }\n\n    _doRedraw () {\n        return this._doRender();\n    }\n\n    crossfilter (cf) {\n        if (!arguments.length) {\n            return this._crossfilter;\n        }\n        this._crossfilter = cf;\n        return this;\n    }\n\n    dimension (cf) {\n        logger.warnOnce('consider using dataCount.crossfilter instead of dataCount.dimension for clarity');\n        if (!arguments.length) {\n            return this.crossfilter();\n        }\n        return this.crossfilter(cf);\n    }\n\n    groupAll (groupAll) {\n        if (!arguments.length) {\n            return this._groupAll;\n        }\n        this._groupAll = groupAll;\n        return this;\n    }\n\n    group (groupAll) {\n        logger.warnOnce('consider using dataCount.groupAll instead of dataCount.group for clarity');\n        if (!arguments.length) {\n            return this.groupAll();\n        }\n        return this.groupAll(groupAll);\n    }\n}\n\nexport const dataCount = (parent, chartGroup) => new DataCount(parent, chartGroup);\n","import {ascending} from 'd3-array';\n\nimport {logger} from '../core/logger';\nimport {BaseMixin} from '../base/base-mixin';\nimport {compatNestHelper} from '../core/d3compat';\n\nconst LABEL_CSS_CLASS = 'dc-grid-label';\nconst ITEM_CSS_CLASS = 'dc-grid-item';\nconst SECTION_CSS_CLASS = 'dc-grid-section dc-grid-group';\nconst GRID_CSS_CLASS = 'dc-grid-top';\n\n/**\n * Data grid is a simple widget designed to list the filtered records, providing\n * a simple way to define how the items are displayed.\n *\n * Note: Formerly the data grid chart (and data table) used the {@link DataGrid#group group} attribute as a\n * keying function for {@link https://github.com/d3/d3-collection/blob/master/README.md#nest nesting} the data\n * together in sections.  This was confusing so it has been renamed to `section`, although `group` still works.\n *\n * Examples:\n * - {@link https://dc-js.github.io/dc.js/ep/ List of members of the european parliament}\n * @mixes BaseMixin\n */\nexport class DataGrid extends BaseMixin {\n    /**\n     * Create a Data Grid.\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._section = null;\n        this._size = 999; // shouldn't be needed, but you might\n        this._html = function (d) {\n            return `you need to provide an html() handling param:  ${JSON.stringify(d)}`;\n        };\n        this._sortBy = function (d) {\n            return d;\n        };\n        this._order = ascending;\n        this._beginSlice = 0;\n        this._endSlice = undefined;\n\n        this._htmlSection = d => `<div class='${SECTION_CSS_CLASS}'><h1 class='${LABEL_CSS_CLASS}'>${ \n            this.keyAccessor()(d)}</h1></div>`;\n\n        this._mandatoryAttributes(['dimension', 'section']);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _doRender () {\n        this.selectAll(`div.${GRID_CSS_CLASS}`).remove();\n\n        this._renderItems(this._renderSections());\n\n        return this;\n    }\n\n    _renderSections () {\n        const sections = this.root().selectAll(`div.${GRID_CSS_CLASS}`)\n            .data(this._nestEntries(), d => this.keyAccessor()(d));\n\n        const itemSection = sections\n            .enter()\n            .append('div')\n            .attr('class', GRID_CSS_CLASS);\n\n        if (this._htmlSection) {\n            itemSection\n                .html(d => this._htmlSection(d));\n        }\n\n        sections.exit().remove();\n        return itemSection;\n    }\n\n    _nestEntries () {\n        let entries = this.dimension().top(this._size);\n\n        entries = entries\n            .sort((a, b) => this._order(this._sortBy(a), this._sortBy(b)))\n            .slice(this._beginSlice, this._endSlice)\n\n        return compatNestHelper({\n            key: this.section(),\n            sortKeys: this._order,\n            entries\n        });\n    }\n\n    _renderItems (sections) {\n        let items = sections.order()\n            .selectAll(`div.${ITEM_CSS_CLASS}`)\n            .data(d => d.values);\n\n        items.exit().remove();\n\n        items = items\n            .enter()\n            .append('div')\n            .attr('class', ITEM_CSS_CLASS)\n            .html(d => this._html(d))\n            .merge(items);\n\n        return items;\n    }\n\n    _doRedraw () {\n        return this._doRender();\n    }\n\n    /**\n     * Get or set the section function for the data grid. The section function takes a data row and\n     * returns the key to specify to {@link https://github.com/d3/d3-collection/blob/master/README.md#nest d3.nest}\n     * to split rows into sections.\n     *\n     * Do not pass in a crossfilter section as this will not work.\n     * @example\n     * // section rows by the value of their field\n     * chart\n     *     .section(function(d) { return d.field; })\n     * @param {Function} section Function taking a row of data and returning the nest key.\n     * @returns {Function|DataGrid}\n     */\n    section (section) {\n        if (!arguments.length) {\n            return this._section;\n        }\n        this._section = section;\n        return this;\n    }\n\n    /**\n     * Backward-compatible synonym for {@link DataGrid#section section}.\n     *\n     * @param {Function} section Function taking a row of data and returning the nest key.\n     * @returns {Function|DataGrid}\n     */\n    group (section) {\n        logger.warnOnce('consider using dataGrid.section instead of dataGrid.group for clarity');\n        if (!arguments.length) {\n            return this.section();\n        }\n        return this.section(section);\n    }\n\n    /**\n     * Get or set the index of the beginning slice which determines which entries get displayed by the widget.\n     * Useful when implementing pagination.\n     * @param {Number} [beginSlice=0]\n     * @returns {Number|DataGrid}\n     */\n    beginSlice (beginSlice) {\n        if (!arguments.length) {\n            return this._beginSlice;\n        }\n        this._beginSlice = beginSlice;\n        return this;\n    }\n\n    /**\n     * Get or set the index of the end slice which determines which entries get displayed by the widget.\n     * Useful when implementing pagination.\n     * @param {Number} [endSlice]\n     * @returns {Number|DataGrid}\n     */\n    endSlice (endSlice) {\n        if (!arguments.length) {\n            return this._endSlice;\n        }\n        this._endSlice = endSlice;\n        return this;\n    }\n\n    /**\n     * Get or set the grid size which determines the number of items displayed by the widget.\n     * @param {Number} [size=999]\n     * @returns {Number|DataGrid}\n     */\n    size (size) {\n        if (!arguments.length) {\n            return this._size;\n        }\n        this._size = size;\n        return this;\n    }\n\n    /**\n     * Get or set the function that formats an item. The data grid widget uses a\n     * function to generate dynamic html. Use your favourite templating engine or\n     * generate the string directly.\n     * @example\n     * chart.html(function (d) { return '<div class='item '+data.exampleCategory+''>'+data.exampleString+'</div>';});\n     * @param {Function} [html]\n     * @returns {Function|DataGrid}\n     */\n    html (html) {\n        if (!arguments.length) {\n            return this._html;\n        }\n        this._html = html;\n        return this;\n    }\n\n    /**\n     * Get or set the function that formats a section label.\n     * @example\n     * chart.htmlSection (function (d) { return '<h2>'.d.key . 'with ' . d.values.length .' items</h2>'});\n     * @param {Function} [htmlSection]\n     * @returns {Function|DataGrid}\n     */\n    htmlSection (htmlSection) {\n        if (!arguments.length) {\n            return this._htmlSection;\n        }\n        this._htmlSection = htmlSection;\n        return this;\n    }\n\n    /**\n     * Backward-compatible synonym for {@link DataGrid#htmlSection htmlSection}.\n     * @param {Function} [htmlSection]\n     * @returns {Function|DataGrid}\n     */\n    htmlGroup (htmlSection) {\n        logger.warnOnce('consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity');\n        if (!arguments.length) {\n            return this.htmlSection();\n        }\n        return this.htmlSection(htmlSection);\n    }\n\n    /**\n     * Get or set sort-by function. This function works as a value accessor at the item\n     * level and returns a particular field to be sorted.\n     * @example\n     * chart.sortBy(function(d) {\n     *     return d.date;\n     * });\n     * @param {Function} [sortByFunction]\n     * @returns {Function|DataGrid}\n     */\n    sortBy (sortByFunction) {\n        if (!arguments.length) {\n            return this._sortBy;\n        }\n        this._sortBy = sortByFunction;\n        return this;\n    }\n\n    /**\n     * Get or set sort the order function.\n     * @see {@link https://github.com/d3/d3-array/blob/master/README.md#ascending d3.ascending}\n     * @see {@link https://github.com/d3/d3-array/blob/master/README.md#descending d3.descending}\n     * @example\n     * chart.order(d3.descending);\n     * @param {Function} [order=d3.ascending]\n     * @returns {Function|DataGrid}\n     */\n    order (order) {\n        if (!arguments.length) {\n            return this._order;\n        }\n        this._order = order;\n        return this;\n    }\n}\n\nexport const dataGrid = (parent, chartGroup) => new DataGrid(parent, chartGroup);\n","import {ascending} from 'd3-array';\n\nimport {logger} from '../core/logger';\nimport {BaseMixin} from '../base/base-mixin';\nimport {compatNestHelper} from '../core/d3compat';\n\nconst LABEL_CSS_CLASS = 'dc-table-label';\nconst ROW_CSS_CLASS = 'dc-table-row';\nconst COLUMN_CSS_CLASS = 'dc-table-column';\nconst SECTION_CSS_CLASS = 'dc-table-section dc-table-group';\nconst HEAD_CSS_CLASS = 'dc-table-head';\n\n/**\n * The data table is a simple widget designed to list crossfilter focused data set (rows being\n * filtered) in a good old tabular fashion.\n *\n * An interesting feature of the data table is that you can pass a crossfilter group to the\n * `dimension`, if you want to show aggregated data instead of raw data rows. This requires no\n * special code as long as you specify the {@link DataTable#order order} as `d3.descending`,\n * since the data table will use `dimension.top()` to fetch the data in that case, and the method is\n * equally supported on the crossfilter group as the crossfilter dimension.\n *\n * If you want to display aggregated data in ascending order, you will need to wrap the group\n * in a [fake dimension](https://github.com/dc-js/dc.js/wiki/FAQ#fake-dimensions) to support the\n * `.bottom()` method. See the example linked below for more details.\n *\n * Note: Formerly the data table (and data grid chart) used the {@link DataTable#group group} attribute as a\n * keying function for {@link https://github.com/d3/d3-collection/blob/master/README.md#nest nesting} the data\n * together in sections.  This was confusing so it has been renamed to `section`, although `group` still works.\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n * - {@link http://dc-js.github.io/dc.js/examples/table-on-aggregated-data.html dataTable on a crossfilter group}\n * ({@link https://github.com/dc-js/dc.js/blob/master/web-src/examples/table-on-aggregated-data.html source})\n *\n * @mixes BaseMixin\n */\nexport class DataTable extends BaseMixin {\n    /**\n     * Create a Data Table.\n     *\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._size = 25;\n        this._columns = [];\n        this._sortBy = d => d;\n        this._order = ascending;\n        this._beginSlice = 0;\n        this._endSlice = undefined;\n        this._showSections = true;\n        this._section = () => ''; // all in one section\n\n        this._mandatoryAttributes(['dimension']);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _doRender () {\n        this.selectAll('tbody').remove();\n\n        this._renderRows(this._renderSections());\n\n        return this;\n    }\n\n    _doColumnValueFormat (v, d) {\n        return (typeof v === 'function') ? v(d) :  // v as function\n            (typeof v === 'string') ? d[v] :       // v is field name string\n            v.format(d);                           // v is Object, use fn (element 2)\n    }\n\n    _doColumnHeaderFormat (d) {\n        // if 'function', convert to string representation\n        // show a string capitalized\n        // if an object then display its label string as-is.\n        return (typeof d === 'function') ? this._doColumnHeaderFnToString(d) :\n            (typeof d === 'string') ? this._doColumnHeaderCapitalize(d) :\n            String(d.label);\n    }\n\n    _doColumnHeaderCapitalize (s) {\n        // capitalize\n        return s.charAt(0).toUpperCase() + s.slice(1);\n    }\n\n    _doColumnHeaderFnToString (f) {\n        // columnString(f) {\n        let s = String(f);\n        const i1 = s.indexOf('return ');\n        if (i1 >= 0) {\n            const i2 = s.lastIndexOf(';');\n            if (i2 >= 0) {\n                s = s.substring(i1 + 7, i2);\n                const i3 = s.indexOf('numberFormat');\n                if (i3 >= 0) {\n                    s = s.replace('numberFormat', '');\n                }\n            }\n        }\n        return s;\n    }\n\n    _renderSections () {\n        // The 'original' example uses all 'functions'.\n        // If all 'functions' are used, then don't remove/add a header, and leave\n        // the html alone. This preserves the functionality of earlier releases.\n        // A 2nd option is a string representing a field in the data.\n        // A third option is to supply an Object such as an array of 'information', and\n        // supply your own _doColumnHeaderFormat and _doColumnValueFormat functions to\n        // create what you need.\n        let bAllFunctions = true;\n        this._columns.forEach(f => {\n            bAllFunctions = bAllFunctions & (typeof f === 'function');\n        });\n\n        if (!bAllFunctions) {\n            // ensure one thead\n            let thead = this.selectAll('thead').data([0]);\n            thead.exit().remove();\n            thead = thead.enter()\n                .append('thead')\n                .merge(thead);\n\n            // with one tr\n            let headrow = thead.selectAll('tr').data([0]);\n            headrow.exit().remove();\n            headrow = headrow.enter()\n                .append('tr')\n                .merge(headrow);\n\n            // with a th for each column\n            const headcols = headrow.selectAll('th')\n                .data(this._columns);\n            headcols.exit().remove();\n            headcols.enter().append('th')\n                .merge(headcols)\n                .attr('class', HEAD_CSS_CLASS)\n                .html(d => (this._doColumnHeaderFormat(d)));\n        }\n\n        const sections = this.root().selectAll('tbody')\n            .data(this._nestEntries(), d => this.keyAccessor()(d));\n\n        const rowSection = sections\n            .enter()\n            .append('tbody');\n\n        if (this._showSections === true) {\n            rowSection\n                .append('tr')\n                .attr('class', SECTION_CSS_CLASS)\n                .append('td')\n                .attr('class', LABEL_CSS_CLASS)\n                .attr('colspan', this._columns.length)\n                .html(d => this.keyAccessor()(d));\n        }\n\n        sections.exit().remove();\n\n        return rowSection;\n    }\n\n    _nestEntries () {\n        let entries;\n        if (this._order === ascending) {\n            entries = this.dimension().bottom(this._size);\n        } else {\n            entries = this.dimension().top(this._size);\n        }\n\n        entries = entries.sort((a, b) => this._order(this._sortBy(a), this._sortBy(b))).slice(this._beginSlice, this._endSlice)\n\n        return compatNestHelper({\n            key: this.section(),\n            sortKeys: this._order,\n            entries\n        });\n    }\n\n    _renderRows (sections) {\n        const rows = sections.order()\n            .selectAll(`tr.${ROW_CSS_CLASS}`)\n            .data(d => d.values);\n\n        const rowEnter = rows.enter()\n            .append('tr')\n            .attr('class', ROW_CSS_CLASS);\n\n        this._columns.forEach((v, i) => {\n            rowEnter.append('td')\n                .attr('class', `${COLUMN_CSS_CLASS} _${i}`)\n                .html(d => this._doColumnValueFormat(v, d));\n        });\n\n        rows.exit().remove();\n\n        return rows;\n    }\n\n    _doRedraw () {\n        return this._doRender();\n    }\n\n    /**\n     * Get or set the section function for the data table. The section function takes a data row and\n     * returns the key to specify to {@link https://github.com/d3/d3-collection/blob/master/README.md#nest d3.nest}\n     * to split rows into sections. By default there will be only one section with no name.\n     *\n     * Set {@link DataTable#showSections showSections} to false to hide the section headers\n     *\n     * @example\n     * // section rows by the value of their field\n     * chart\n     *     .section(function(d) { return d.field; })\n     * @param {Function} section Function taking a row of data and returning the nest key.\n     * @returns {Function|DataTable}\n     */\n    section (section) {\n        if (!arguments.length) {\n            return this._section;\n        }\n        this._section = section;\n        return this;\n    }\n\n    /**\n     * Backward-compatible synonym for {@link DataTable#section section}.\n     *\n     * @param {Function} section Function taking a row of data and returning the nest key.\n     * @returns {Function|DataTable}\n     */\n    group (section) {\n        logger.warnOnce('consider using dataTable.section instead of dataTable.group for clarity');\n        if (!arguments.length) {\n            return this.section();\n        }\n        return this.section(section);\n    }\n\n    /**\n     * Get or set the table size which determines the number of rows displayed by the widget.\n     * @param {Number} [size=25]\n     * @returns {Number|DataTable}\n     */\n    size (size) {\n        if (!arguments.length) {\n            return this._size;\n        }\n        this._size = size;\n        return this;\n    }\n\n    /**\n     * Get or set the index of the beginning slice which determines which entries get displayed\n     * by the widget. Useful when implementing pagination.\n     *\n     * Note: the sortBy function will determine how the rows are ordered for pagination purposes.\n\n     * See the {@link http://dc-js.github.io/dc.js/examples/table-pagination.html table pagination example}\n     * to see how to implement the pagination user interface using `beginSlice` and `endSlice`.\n     * @param {Number} [beginSlice=0]\n     * @returns {Number|DataTable}\n     */\n    beginSlice (beginSlice) {\n        if (!arguments.length) {\n            return this._beginSlice;\n        }\n        this._beginSlice = beginSlice;\n        return this;\n    }\n\n    /**\n     * Get or set the index of the end slice which determines which entries get displayed by the\n     * widget. Useful when implementing pagination. See {@link DataTable#beginSlice `beginSlice`} for more information.\n     * @param {Number|undefined} [endSlice=undefined]\n     * @returns {Number|DataTable}\n     */\n    endSlice (endSlice) {\n        if (!arguments.length) {\n            return this._endSlice;\n        }\n        this._endSlice = endSlice;\n        return this;\n    }\n\n    /**\n     * Get or set column functions. The data table widget supports several methods of specifying the\n     * columns to display.\n     *\n     * The original method uses an array of functions to generate dynamic columns. Column functions\n     * are simple javascript functions with only one input argument `d` which represents a row in\n     * the data set. The return value of these functions will be used to generate the content for\n     * each cell. However, this method requires the HTML for the table to have a fixed set of column\n     * headers.\n     *\n     * <pre><code>chart.columns([\n     *     function(d) { return d.date; },\n     *     function(d) { return d.open; },\n     *     function(d) { return d.close; },\n     *     function(d) { return numberFormat(d.close - d.open); },\n     *     function(d) { return d.volume; }\n     * ]);\n     * </code></pre>\n     *\n     * In the second method, you can list the columns to read from the data without specifying it as\n     * a function, except where necessary (ie, computed columns).  Note the data element name is\n     * capitalized when displayed in the table header. You can also mix in functions as necessary,\n     * using the third `{label, format}` form, as shown below.\n     *\n     * <pre><code>chart.columns([\n     *     \"date\",    // d[\"date\"], ie, a field accessor; capitalized automatically\n     *     \"open\",    // ...\n     *     \"close\",   // ...\n     *     {\n     *         label: \"Change\",\n     *         format: function (d) {\n     *             return numberFormat(d.close - d.open);\n     *         }\n     *     },\n     *     \"volume\"   // d[\"volume\"], ie, a field accessor; capitalized automatically\n     * ]);\n     * </code></pre>\n     *\n     * In the third example, we specify all fields using the `{label, format}` method:\n     * <pre><code>chart.columns([\n     *     {\n     *         label: \"Date\",\n     *         format: function (d) { return d.date; }\n     *     },\n     *     {\n     *         label: \"Open\",\n     *         format: function (d) { return numberFormat(d.open); }\n     *     },\n     *     {\n     *         label: \"Close\",\n     *         format: function (d) { return numberFormat(d.close); }\n     *     },\n     *     {\n     *         label: \"Change\",\n     *         format: function (d) { return numberFormat(d.close - d.open); }\n     *     },\n     *     {\n     *         label: \"Volume\",\n     *         format: function (d) { return d.volume; }\n     *     }\n     * ]);\n     * </code></pre>\n     *\n     * You may wish to override the dataTable functions `_doColumnHeaderCapitalize` and\n     * `_doColumnHeaderFnToString`, which are used internally to translate the column information or\n     * function into a displayed header. The first one is used on the \"string\" column specifier; the\n     * second is used to transform a stringified function into something displayable. For the Stock\n     * example, the function for Change becomes the table header **d.close - d.open**.\n     *\n     * Finally, you can even specify a completely different form of column definition. To do this,\n     * override `_chart._doColumnHeaderFormat` and `_chart._doColumnValueFormat` Be aware that\n     * fields without numberFormat specification will be displayed just as they are stored in the\n     * data, unformatted.\n     * @param {Array<Function>} [columns=[]]\n     * @returns {Array<Function>}|DataTable}\n     */\n    columns (columns) {\n        if (!arguments.length) {\n            return this._columns;\n        }\n        this._columns = columns;\n        return this;\n    }\n\n    /**\n     * Get or set sort-by function. This function works as a value accessor at row level and returns a\n     * particular field to be sorted by.\n     * @example\n     * chart.sortBy(function(d) {\n     *     return d.date;\n     * });\n     * @param {Function} [sortBy=identity function]\n     * @returns {Function|DataTable}\n     */\n    sortBy (sortBy) {\n        if (!arguments.length) {\n            return this._sortBy;\n        }\n        this._sortBy = sortBy;\n        return this;\n    }\n\n    /**\n     * Get or set sort order. If the order is `d3.ascending`, the data table will use\n     * `dimension().bottom()` to fetch the data; otherwise it will use `dimension().top()`\n     * @see {@link https://github.com/d3/d3-array/blob/master/README.md#ascending d3.ascending}\n     * @see {@link https://github.com/d3/d3-array/blob/master/README.md#descending d3.descending}\n     * @example\n     * chart.order(d3.descending);\n     * @param {Function} [order=d3.ascending]\n     * @returns {Function|DataTable}\n     */\n    order (order) {\n        if (!arguments.length) {\n            return this._order;\n        }\n        this._order = order;\n        return this;\n    }\n\n    /**\n     * Get or set if section header rows will be shown.\n     * @example\n     * chart\n     *     .section([value], [name])\n     *     .showSections(true|false);\n     * @param {Boolean} [showSections=true]\n     * @returns {Boolean|DataTable}\n     */\n    showSections (showSections) {\n        if (!arguments.length) {\n            return this._showSections;\n        }\n        this._showSections = showSections;\n        return this;\n    }\n\n    /**\n     * Backward-compatible synonym for {@link DataTable#showSections showSections}.\n     * @param {Boolean} [showSections=true]\n     * @returns {Boolean|DataTable}\n     */\n    showGroups (showSections) {\n        logger.warnOnce('consider using dataTable.showSections instead of dataTable.showGroups for clarity');\n        if (!arguments.length) {\n            return this.showSections();\n        }\n        return this.showSections(showSections);\n    }\n}\n\nexport const dataTable = (parent, chartGroup) => new DataTable(parent, chartGroup);\n","import {geoPath, geoAlbersUsa} from 'd3-geo';\nimport {select} from 'd3-selection';\n\nimport {BaseMixin} from '../base/base-mixin';\nimport {ColorMixin} from '../base/color-mixin';\nimport {transition} from '../core/core';\nimport {logger} from '../core/logger';\nimport {events} from '../core/events';\nimport {utils} from '../core/utils';\nimport {adaptHandler} from '../core/d3compat';\n\n/**\n * The geo choropleth chart is designed as an easy way to create a crossfilter driven choropleth map\n * from GeoJson data. This chart implementation was inspired by\n * {@link http://bl.ocks.org/4060606 the great d3 choropleth example}.\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/vc/index.html US Venture Capital Landscape 2011}\n * @mixes ColorMixin\n * @mixes BaseMixin\n */\nexport class GeoChoroplethChart extends ColorMixin(BaseMixin) {\n    /**\n     * Create a Geo Choropleth Chart.\n     * @example\n     * // create a choropleth chart under '#us-chart' element using the default global chart group\n     * var chart1 = new GeoChoroplethChart('#us-chart');\n     * // create a choropleth chart under '#us-chart2' element using chart group A\n     * var chart2 = new CompositeChart('#us-chart2', 'chartGroupA');\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this.colorAccessor(d => d || 0);\n\n        this._geoPath = geoPath();\n        this._projectionFlag = undefined;\n        this._projection = undefined;\n\n        this._geoJsons = [];\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _doRender () {\n        this.resetSvg();\n        for (let layerIndex = 0; layerIndex < this._geoJsons.length; ++layerIndex) {\n            const states = this.svg().append('g')\n                .attr('class', `layer${layerIndex}`);\n\n            let regionG = states.selectAll(`g.${this._geoJson(layerIndex).name}`)\n                .data(this._geoJson(layerIndex).data);\n\n            regionG = regionG.enter()\n                .append('g')\n                .attr('class', this._geoJson(layerIndex).name)\n                .merge(regionG);\n\n            regionG\n                .append('path')\n                .classed('dc-tabbable', this._keyboardAccessible)\n                .attr('fill', 'white')\n                .attr('d', this._getGeoPath());\n\n            regionG.append('title');\n\n            this._plotData(layerIndex);\n        }\n        this._projectionFlag = false;\n    }\n\n    _plotData (layerIndex) {\n        const data = this._generateLayeredData();\n\n        if (this._isDataLayer(layerIndex)) {\n            const regionG = this._renderRegionG(layerIndex);\n\n            this._renderPaths(regionG, layerIndex, data);\n\n            this._renderTitles(regionG, layerIndex, data);\n        }\n    }\n\n    _generateLayeredData () {\n        const data = {};\n        const groupAll = this.data();\n        for (let i = 0; i < groupAll.length; ++i) {\n            data[this.keyAccessor()(groupAll[i])] = this.valueAccessor()(groupAll[i]);\n        }\n        return data;\n    }\n\n    _isDataLayer (layerIndex) {\n        return this._geoJson(layerIndex).keyAccessor;\n    }\n\n    _renderRegionG (layerIndex) {\n        const regionG = this.svg()\n            .selectAll(this._layerSelector(layerIndex))\n            .classed('selected', d => this._isSelected(layerIndex, d))\n            .classed('deselected', d => this._isDeselected(layerIndex, d))\n            .attr('class', d => {\n                const layerNameClass = this._geoJson(layerIndex).name;\n                const regionClass = utils.nameToId(this._geoJson(layerIndex).keyAccessor(d));\n                let baseClasses = `${layerNameClass} ${regionClass}`;\n                if (this._isSelected(layerIndex, d)) {\n                    baseClasses += ' selected';\n                }\n                if (this._isDeselected(layerIndex, d)) {\n                    baseClasses += ' deselected';\n                }\n                return baseClasses;\n            });\n        return regionG;\n    }\n\n    _layerSelector (layerIndex) {\n        return `g.layer${layerIndex} g.${this._geoJson(layerIndex).name}`;\n    }\n\n    _isSelected (layerIndex, d) {\n        return this.hasFilter() && this.hasFilter(this._getKey(layerIndex, d));\n    }\n\n    _isDeselected (layerIndex, d) {\n        return this.hasFilter() && !this.hasFilter(this._getKey(layerIndex, d));\n    }\n\n    _getKey (layerIndex, d) {\n        return this._geoJson(layerIndex).keyAccessor(d);\n    }\n\n    _geoJson (index) {\n        return this._geoJsons[index];\n    }\n\n    _renderPaths (regionG, layerIndex, data) {\n        const paths = regionG\n            .select('path')\n            .attr('fill', function () {\n                const currentFill = select(this).attr('fill');\n                if (currentFill) {\n                    return currentFill;\n                }\n                return 'none';\n            })\n            .on('click', adaptHandler(d => this.onClick(d, layerIndex)));\n\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible(this.onClick, layerIndex);\n        }\n\n        transition(paths, this.transitionDuration(),\n                   this.transitionDelay()).attr('fill', (d, i) => this.getColor(data[this._geoJson(layerIndex).keyAccessor(d)], i));\n    }\n\n    onClick (d, layerIndex) {\n        const selectedRegion = this._geoJson(layerIndex).keyAccessor(d);\n        events.trigger(() => {\n            this.filter(selectedRegion);\n            this.redrawGroup();\n        });\n    }\n\n    _renderTitles (regionG, layerIndex, data) {\n        if (this.renderTitle()) {\n            regionG.selectAll('title').text(d => {\n                const key = this._getKey(layerIndex, d);\n                const value = data[key];\n                return this.title()({key: key, value: value});\n            });\n        }\n    }\n\n    _doRedraw () {\n        for (let layerIndex = 0; layerIndex < this._geoJsons.length; ++layerIndex) {\n            this._plotData(layerIndex);\n            if (this._projectionFlag) {\n                this.svg().selectAll(`g.${this._geoJson(layerIndex).name} path`).attr('d', this._getGeoPath());\n            }\n        }\n        this._projectionFlag = false;\n    }\n\n    /**\n     * **mandatory**\n     *\n     * Use this function to insert a new GeoJson map layer. This function can be invoked multiple times\n     * if you have multiple GeoJson data layers to render on top of each other. If you overlay multiple\n     * layers with the same name the new overlay will override the existing one.\n     * @see {@link http://geojson.org/ GeoJSON}\n     * @see {@link https://github.com/topojson/topojson/wiki TopoJSON}\n     * @see {@link https://github.com/topojson/topojson-1.x-api-reference/blob/master/API-Reference.md#wiki-feature topojson.feature}\n     * @example\n     * // insert a layer for rendering US states\n     * chart.overlayGeoJson(statesJson.features, 'state', function(d) {\n     *      return d.properties.name;\n     * });\n     * @param {_geoJson} json - a geojson feed\n     * @param {String} name - name of the layer\n     * @param {Function} keyAccessor - accessor function used to extract 'key' from the GeoJson data. The key extracted by\n     * this function should match the keys returned by the crossfilter groups.\n     * @returns {GeoChoroplethChart}\n     */\n    overlayGeoJson (json, name, keyAccessor) {\n        for (let i = 0; i < this._geoJsons.length; ++i) {\n            if (this._geoJsons[i].name === name) {\n                this._geoJsons[i].data = json;\n                this._geoJsons[i].keyAccessor = keyAccessor;\n                return this;\n            }\n        }\n        this._geoJsons.push({name: name, data: json, keyAccessor: keyAccessor});\n        return this;\n    }\n\n    /**\n     * Gets or sets a custom geo projection function. See the available\n     * {@link https://github.com/d3/d3-geo/blob/master/README.md#projections d3 geo projection functions}.\n     *\n     * Starting version 3.0 it has been deprecated to rely on the default projection being\n     * {@link https://github.com/d3/d3-geo/blob/master/README.md#geoAlbersUsa d3.geoAlbersUsa()}. Please\n     * set it explicitly. {@link https://bl.ocks.org/mbostock/5557726\n     * Considering that `null` is also a valid value for projection}, if you need\n     * projection to be `null` please set it explicitly to `null`.\n     * @see {@link https://github.com/d3/d3-geo/blob/master/README.md#projections d3.projection}\n     * @see {@link https://github.com/d3/d3-geo-projection d3-geo-projection}\n     * @param {d3.projection} [projection=d3.geoAlbersUsa()]\n     * @returns {d3.projection|GeoChoroplethChart}\n     */\n    projection (projection) {\n        if (!arguments.length) {\n            return this._projection;\n        }\n\n        this._projection = projection;\n        this._projectionFlag = true;\n        return this;\n    }\n\n    _getGeoPath () {\n        if (this._projection === undefined) {\n            logger.warn('choropleth projection default of geoAlbers is deprecated,' +\n                ' in next version projection will need to be set explicitly');\n            return this._geoPath.projection(geoAlbersUsa());\n        }\n\n        return this._geoPath.projection(this._projection);\n    }\n\n    /**\n     * Returns all GeoJson layers currently registered with this chart. The returned array is a\n     * reference to this chart's internal data structure, so any modification to this array will also\n     * modify this chart's internal registration.\n     * @returns {Array<{name:String, data: Object, accessor: Function}>}\n     */\n    geoJsons () {\n        return this._geoJsons;\n    }\n\n    /**\n     * Returns the {@link https://github.com/d3/d3-geo/blob/master/README.md#paths d3.geoPath} object used to\n     * render the projection and features.  Can be useful for figuring out the bounding box of the\n     * feature set and thus a way to calculate scale and translation for the projection.\n     * @see {@link https://github.com/d3/d3-geo/blob/master/README.md#paths d3.geoPath}\n     * @returns {d3.geoPath}\n     */\n    geoPath () {\n        return this._geoPath;\n    }\n\n    /**\n     * Remove a GeoJson layer from this chart by name\n     * @param {String} name\n     * @returns {GeoChoroplethChart}\n     */\n    removeGeoJson (name) {\n        const geoJsons = [];\n\n        for (let i = 0; i < this._geoJsons.length; ++i) {\n            const layer = this._geoJsons[i];\n            if (layer.name !== name) {\n                geoJsons.push(layer);\n            }\n        }\n\n        this._geoJsons = geoJsons;\n\n        return this;\n    }\n}\n\nexport const geoChoroplethChart = (parent, chartGroup) => new GeoChoroplethChart(parent, chartGroup);\n","import {ascending} from 'd3-array';\nimport {scaleBand} from 'd3-scale';\n\nimport {transition} from '../core/core';\nimport {logger} from '../core/logger';\nimport {filters} from '../core/filters';\nimport {events} from '../core/events';\nimport {ColorMixin} from '../base/color-mixin';\nimport {MarginMixin} from '../base/margin-mixin';\nimport {adaptHandler} from '../core/d3compat';\n\nconst DEFAULT_BORDER_RADIUS = 6.75;\n\n/**\n * A heat map is matrix that represents the values of two dimensions of data using colors.\n * @mixes ColorMixin\n * @mixes MarginMixin\n * @mixes BaseMixin\n */\nexport class HeatMap extends ColorMixin(MarginMixin) {\n    /**\n     * Create a Heat Map\n     * @example\n     * // create a heat map under #chart-container1 element using the default global chart group\n     * var heatMap1 = new HeatMap('#chart-container1');\n     * // create a heat map under #chart-container2 element using chart group A\n     * var heatMap2 = new HeatMap('#chart-container2', 'chartGroupA');\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._chartBody = undefined;\n\n        this._cols = undefined;\n        this._rows = undefined;\n        this._colOrdering = ascending;\n        this._rowOrdering = ascending;\n        this._colScale = scaleBand();\n        this._rowScale = scaleBand();\n\n        this._xBorderRadius = DEFAULT_BORDER_RADIUS;\n        this._yBorderRadius = DEFAULT_BORDER_RADIUS;\n\n        this._mandatoryAttributes(['group']);\n        this.title(this.colorAccessor());\n\n        this._colsLabel = d => d;\n        this._rowsLabel = d => d;\n\n        this._xAxisOnClick = d => {\n            this._filterAxis(0, d);\n        };\n        this._yAxisOnClick = d => {\n            this._filterAxis(1, d);\n        };\n        this._boxOnClick = d => {\n            const filter = d.key;\n            events.trigger(() => {\n                this.filter(filters.TwoDimensionalFilter(filter));\n                this.redrawGroup();\n            });\n        };\n\n        this.anchor(parent, chartGroup);\n    }\n\n    /**\n     * Set or get the column label function. The chart class uses this function to render\n     * column labels on the X axis. It is passed the column name.\n     * @example\n     * // the default label function just returns the name\n     * chart.colsLabel(function(d) { return d; });\n     * @param  {Function} [labelFunction=function(d) { return d; }]\n     * @returns {Function|HeatMap}\n     */\n    colsLabel (labelFunction) {\n        if (!arguments.length) {\n            return this._colsLabel;\n        }\n        this._colsLabel = labelFunction;\n        return this;\n    }\n\n    /**\n     * Set or get the row label function. The chart class uses this function to render\n     * row labels on the Y axis. It is passed the row name.\n     * @example\n     * // the default label function just returns the name\n     * chart.rowsLabel(function(d) { return d; });\n     * @param  {Function} [labelFunction=function(d) { return d; }]\n     * @returns {Function|HeatMap}\n     */\n    rowsLabel (labelFunction) {\n        if (!arguments.length) {\n            return this._rowsLabel;\n        }\n        this._rowsLabel = labelFunction;\n        return this;\n    }\n\n    _filterAxis (axis, value) {\n        const cellsOnAxis = this.selectAll('.box-group').filter(d => d.key[axis] === value);\n        const unfilteredCellsOnAxis = cellsOnAxis.filter(d => !this.hasFilter(d.key));\n        events.trigger(() => {\n            const selection = unfilteredCellsOnAxis.empty() ? cellsOnAxis : unfilteredCellsOnAxis;\n            const filtersList = selection.data().map(kv => filters.TwoDimensionalFilter(kv.key));\n            this.filter([filtersList]);\n            this.redrawGroup();\n        });\n    }\n\n    filter (filter) {\n        const nonstandardFilter = f => {\n            logger.warnOnce('heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead');\n            return this._filter(filters.TwoDimensionalFilter(f));\n        };\n\n        if (!arguments.length) {\n            return super.filter();\n        }\n        if (filter !== null && filter.filterType !== 'TwoDimensionalFilter' &&\n            !(Array.isArray(filter) && Array.isArray(filter[0]) && filter[0][0].filterType === 'TwoDimensionalFilter')) {\n            return nonstandardFilter(filter);\n        }\n        return super.filter(filter);\n    }\n\n    /**\n     * Gets or sets the values used to create the rows of the heatmap, as an array. By default, all\n     * the values will be fetched from the data using the value accessor.\n     * @param  {Array<String|Number>} [rows]\n     * @returns {Array<String|Number>|HeatMap}\n     */\n\n    rows (rows) {\n        if (!arguments.length) {\n            return this._rows;\n        }\n        this._rows = rows;\n        return this;\n    }\n\n    /**\n     * Get or set a comparator to order the rows.\n     * Default is {@link https://github.com/d3/d3-array#ascending d3.ascending}.\n     * @param  {Function} [rowOrdering]\n     * @returns {Function|HeatMap}\n     */\n    rowOrdering (rowOrdering) {\n        if (!arguments.length) {\n            return this._rowOrdering;\n        }\n        this._rowOrdering = rowOrdering;\n        return this;\n    }\n\n    /**\n     * Gets or sets the keys used to create the columns of the heatmap, as an array. By default, all\n     * the values will be fetched from the data using the key accessor.\n     * @param  {Array<String|Number>} [cols]\n     * @returns {Array<String|Number>|HeatMap}\n     */\n    cols (cols) {\n        if (!arguments.length) {\n            return this._cols;\n        }\n        this._cols = cols;\n        return this;\n    }\n\n    /**\n     * Get or set a comparator to order the columns.\n     * Default is  {@link https://github.com/d3/d3-array#ascending d3.ascending}.\n     * @param  {Function} [colOrdering]\n     * @returns {Function|HeatMap}\n     */\n    colOrdering (colOrdering) {\n        if (!arguments.length) {\n            return this._colOrdering;\n        }\n        this._colOrdering = colOrdering;\n        return this;\n    }\n\n    _doRender () {\n        this.resetSvg();\n\n        this._chartBody = this.svg()\n            .append('g')\n            .attr('class', 'heatmap')\n            .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n\n        return this._doRedraw();\n    }\n\n    _doRedraw () {\n        const data = this.data();\n        let rows = this.rows() || data.map(this.valueAccessor()),\n            cols = this.cols() || data.map(this.keyAccessor());\n        if (this._rowOrdering) {\n            rows = rows.sort(this._rowOrdering);\n        }\n        if (this._colOrdering) {\n            cols = cols.sort(this._colOrdering);\n        }\n        rows = this._rowScale.domain(rows);\n        cols = this._colScale.domain(cols);\n\n        const rowCount = rows.domain().length,\n            colCount = cols.domain().length,\n            boxWidth = Math.floor(this.effectiveWidth() / colCount),\n            boxHeight = Math.floor(this.effectiveHeight() / rowCount);\n\n        cols.rangeRound([0, this.effectiveWidth()]);\n        rows.rangeRound([this.effectiveHeight(), 0]);\n\n        let boxes = this._chartBody.selectAll('g.box-group').data(this.data(),\n                                                                  (d, i) => `${this.keyAccessor()(d, i)}\\0${this.valueAccessor()(d, i)}`);\n\n        boxes.exit().remove();\n\n        const gEnter = boxes.enter().append('g')\n            .attr('class', 'box-group');\n\n        gEnter.append('rect')\n            .attr('class', 'heat-box')\n            .classed('dc-tabbable', this._keyboardAccessible)\n            .attr('fill', 'white')\n            .attr('x', (d, i) => cols(this.keyAccessor()(d, i)))\n            .attr('y', (d, i) => rows(this.valueAccessor()(d, i)))\n            .on('click', adaptHandler(this.boxOnClick()));\n\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible(this.boxOnClick);\n        }\n\n        boxes = gEnter.merge(boxes);\n\n        if (this.renderTitle()) {\n            gEnter.append('title');\n            boxes.select('title').text(this.title());\n        }\n\n        transition(boxes.select('rect'), this.transitionDuration(), this.transitionDelay())\n            .attr('x', (d, i) => cols(this.keyAccessor()(d, i)))\n            .attr('y', (d, i) => rows(this.valueAccessor()(d, i)))\n            .attr('rx', this._xBorderRadius)\n            .attr('ry', this._yBorderRadius)\n            .attr('fill', this.getColor)\n            .attr('width', boxWidth)\n            .attr('height', boxHeight);\n\n        let gCols = this._chartBody.select('g.cols');\n        if (gCols.empty()) {\n            gCols = this._chartBody.append('g').attr('class', 'cols axis');\n        }\n        let gColsText = gCols.selectAll('text').data(cols.domain());\n\n        gColsText.exit().remove();\n\n        gColsText = gColsText\n            .enter()\n            .append('text')\n            .attr('x', d => cols(d) + boxWidth / 2)\n            .style('text-anchor', 'middle')\n            .attr('y', this.effectiveHeight())\n            .attr('dy', 12)\n            .on('click', adaptHandler(this.xAxisOnClick()))\n            .text(this.colsLabel())\n            .merge(gColsText);\n\n        transition(gColsText, this.transitionDuration(), this.transitionDelay())\n            .text(this.colsLabel())\n            .attr('x', d => cols(d) + boxWidth / 2)\n            .attr('y', this.effectiveHeight());\n\n        let gRows = this._chartBody.select('g.rows');\n        if (gRows.empty()) {\n            gRows = this._chartBody.append('g').attr('class', 'rows axis');\n        }\n\n        let gRowsText = gRows.selectAll('text').data(rows.domain());\n\n        gRowsText.exit().remove();\n\n        gRowsText = gRowsText\n            .enter()\n            .append('text')\n            .style('text-anchor', 'end')\n            .attr('x', 0)\n            .attr('dx', -2)\n            .attr('y', d => rows(d) + boxHeight / 2)\n            .attr('dy', 6)\n            .on('click', adaptHandler(this.yAxisOnClick()))\n            .text(this.rowsLabel())\n            .merge(gRowsText);\n\n        transition(gRowsText, this.transitionDuration(), this.transitionDelay())\n            .text(this.rowsLabel())\n            .attr('y', d => rows(d) + boxHeight / 2);\n\n        if (this.hasFilter()) {\n            const chart = this;\n            this.selectAll('g.box-group').each(function (d) {\n                if (chart.isSelectedNode(d)) {\n                    chart.highlightSelected(this);\n                } else {\n                    chart.fadeDeselected(this);\n                }\n            });\n        } else {\n            const chart = this;\n            this.selectAll('g.box-group').each(function () {\n                chart.resetHighlight(this);\n            });\n        }\n        return this;\n    }\n\n    /**\n     * Gets or sets the handler that fires when an individual cell is clicked in the heatmap.\n     * By default, filtering of the cell will be toggled.\n     * @example\n     * // default box on click handler\n     * chart.boxOnClick(function (d) {\n     *     var filter = d.key;\n     *     events.trigger(function () {\n     *         _chart.filter(filter);\n     *         _chart.redrawGroup();\n     *     });\n     * });\n     * @param  {Function} [handler]\n     * @returns {Function|HeatMap}\n     */\n    boxOnClick (handler) {\n        if (!arguments.length) {\n            return this._boxOnClick;\n        }\n        this._boxOnClick = handler;\n        return this;\n    }\n\n    /**\n     * Gets or sets the handler that fires when a column tick is clicked in the x axis.\n     * By default, if any cells in the column are unselected, the whole column will be selected,\n     * otherwise the whole column will be unselected.\n     * @param  {Function} [handler]\n     * @returns {Function|HeatMap}\n     */\n    xAxisOnClick (handler) {\n        if (!arguments.length) {\n            return this._xAxisOnClick;\n        }\n        this._xAxisOnClick = handler;\n        return this;\n    }\n\n    /**\n     * Gets or sets the handler that fires when a row tick is clicked in the y axis.\n     * By default, if any cells in the row are unselected, the whole row will be selected,\n     * otherwise the whole row will be unselected.\n     * @param  {Function} [handler]\n     * @returns {Function|HeatMap}\n     */\n    yAxisOnClick (handler) {\n        if (!arguments.length) {\n            return this._yAxisOnClick;\n        }\n        this._yAxisOnClick = handler;\n        return this;\n    }\n\n    /**\n     * Gets or sets the X border radius.  Set to 0 to get full rectangles.\n     * @param  {Number} [xBorderRadius=6.75]\n     * @returns {Number|HeatMap}\n     */\n    xBorderRadius (xBorderRadius) {\n        if (!arguments.length) {\n            return this._xBorderRadius;\n        }\n        this._xBorderRadius = xBorderRadius;\n        return this;\n    }\n\n    /**\n     * Gets or sets the Y border radius.  Set to 0 to get full rectangles.\n     * @param  {Number} [yBorderRadius=6.75]\n     * @returns {Number|HeatMap}\n     */\n    yBorderRadius (yBorderRadius) {\n        if (!arguments.length) {\n            return this._yBorderRadius;\n        }\n        this._yBorderRadius = yBorderRadius;\n        return this;\n    }\n\n    isSelectedNode (d) {\n        return this.hasFilter(d.key);\n    }\n}\n\nexport const heatMap = (parent, chartGroup) => new HeatMap(parent, chartGroup);\n","import {select} from 'd3-selection';\nimport {event} from 'd3-selection';\n\nimport {pluck, utils} from '../core/utils';\nimport {adaptHandler} from '../core/d3compat';\nimport {constants} from '../core/constants';\n\n/**\n * htmlLegend is a attachable widget that can be added to other dc charts to render horizontal/vertical legend\n * labels.\n * @example\n * chart.legend(HtmlLegend().container(legendContainerElement).horizontal(false))\n * @returns {HtmlLegend}\n */\nexport class HtmlLegend {\n    constructor () {\n        this._htmlLegendDivCssClass = 'dc-html-legend';\n        this._legendItemCssClassHorizontal = 'dc-legend-item-horizontal';\n        this._legendItemCssClassVertical = 'dc-legend-item-vertical';\n        this._parent = undefined;\n        this._container = undefined;\n        this._legendText = pluck('name');\n        this._maxItems = undefined;\n        this._horizontal = false;\n        this._legendItemClass = undefined;\n        this._highlightSelected = false;\n        this._keyboardAccessible = false;\n    }\n\n    parent (p) {\n        if (!arguments.length) {\n            return this._parent;\n        }\n        this._parent = p;\n        return this;\n    }\n\n    render () {\n        this._defaultLegendItemCssClass = this._horizontal ? this._legendItemCssClassHorizontal : this._legendItemCssClassVertical;\n        this._container.select(`div.${this._htmlLegendDivCssClass}`).remove();\n\n        const container = this._container.append('div').attr('class', this._htmlLegendDivCssClass);\n        container.attr('style', `max-width:${this._container.nodes()[0].style.width}`);\n\n        let legendables = this._parent.legendables();\n        const filters = this._parent.filters();\n\n        if (this._maxItems !== undefined) {\n            legendables = legendables.slice(0, this._maxItems);\n        }\n\n        const legendItemClassName = this._legendItemClass ? this._legendItemClass : this._defaultLegendItemCssClass;\n\n        const itemEnter = container.selectAll(`div.${legendItemClassName}`)\n            .data(legendables).enter()\n            .append('div')\n            .classed(legendItemClassName, true)\n            .on('mouseover', adaptHandler(d => this._parent.legendHighlight(d)))\n            .on('mouseout', adaptHandler(d => this._parent.legendReset(d)))\n            .on('click', adaptHandler(d => this._parent.legendToggle(d)));\n\n        if (this._highlightSelected) {\n            itemEnter.classed(constants.SELECTED_CLASS, d => filters.indexOf(d.name) !== -1);\n        }\n\n        itemEnter.append('span')\n            .attr('class', 'dc-legend-item-color')\n            .style('background-color', pluck('color'));\n\n        itemEnter.append('span')\n            .attr('class', 'dc-legend-item-label')\n            .classed('dc-tabbable', this._keyboardAccessible)\n            .attr('title', this._legendText)\n            .text(this._legendText);\n\n        if (this._keyboardAccessible) {\n            this._makeLegendKeyboardAccessible();\n        }\n    }\n\n    /**\n     * Set the container selector for the legend widget. Required.\n     * @param {String} [container]\n     * @return {String|HtmlLegend}\n     */\n    container (container) {\n        if (!arguments.length) {\n            return this._container;\n        }\n        this._container = select(container);\n        return this;\n    }\n\n    /**\n     * This can be optionally used to override class for legenditem and just use this class style.\n     * This is helpful for overriding the style of a particular chart rather than overriding\n     * the style for all charts.\n     *\n     * Setting this will disable the highlighting of selected items also.\n     * @param {String} [legendItemClass]\n     * @return {String|HtmlLegend}\n     */\n    legendItemClass (legendItemClass) {\n        if (!arguments.length) {\n            return this._legendItemClass;\n        }\n        this._legendItemClass = legendItemClass;\n        return this;\n    }\n\n    /**\n     * This can be optionally used to enable highlighting legends for the selections/filters for the\n     * chart.\n     * @param {String} [highlightSelected]\n     * @return {String|HtmlLegend}\n     */\n    highlightSelected (highlightSelected) {\n        if (!arguments.length) {\n            return this._highlightSelected;\n        }\n        this._highlightSelected = highlightSelected;\n        return this;\n    }\n\n    /**\n     * Display the legend horizontally instead of vertically\n     * @param {String} [horizontal]\n     * @return {String|HtmlLegend}\n     */\n    horizontal (horizontal) {\n        if (!arguments.length) {\n            return this._horizontal;\n        }\n        this._horizontal = horizontal;\n        return this;\n    }\n\n    /**\n     * Set or get the legend text function. The legend widget uses this function to render the legend\n     * text for each item. If no function is specified the legend widget will display the names\n     * associated with each group.\n     * @param  {Function} [legendText]\n     * @returns {Function|HtmlLegend}\n     * @example\n     * // default legendText\n     * legend.legendText(pluck('name'))\n     *\n     * // create numbered legend items\n     * chart.legend(new HtmlLegend().legendText(function(d, i) { return i + '. ' + d.name; }))\n     *\n     * // create legend displaying group counts\n     * chart.legend(new HtmlLegend().legendText(function(d) { return d.name + ': ' d.data; }))\n     */\n    legendText (legendText) {\n        if (!arguments.length) {\n            return this._legendText;\n        }\n        this._legendText = legendText;\n        return this;\n    }\n\n    /**\n     * Maximum number of legend items to display\n     * @param  {Number} [maxItems]\n     * @return {HtmlLegend}\n     */\n    maxItems (maxItems) {\n        if (!arguments.length) {\n            return this._maxItems;\n        }\n        this._maxItems = utils.isNumber(maxItems) ? maxItems : undefined;\n        return this;\n    }\n\n    /**\n     * If set, individual legend items will be focusable from keyboard and on pressing Enter or Space\n     * will behave as if clicked on.\n     * \n     * If `svgDescription` on the parent chart has not been explicitly set, will also set the default \n     * SVG description text to the class constructor name, like BarChart or HeatMap, and make the entire\n     * SVG focusable.\n     * @param {Boolean} [keyboardAccessible=false]\n     * @returns {Boolean|HtmlLegend}\n     */\n    keyboardAccessible (keyboardAccessible) {\n        if (!arguments.length) {\n            return this._keyboardAccessible;\n        }\n        this._keyboardAccessible = keyboardAccessible;\n        return this;\n    }\n\n    _makeLegendKeyboardAccessible () {\n\n        if (!this._parent._svgDescription) {\n\n            this._parent.svg().append('desc')\n                .attr('id', `desc-id-${this._parent.__dcFlag__}`)\n                .html(`${this._parent.svgDescription()}`);\n\n            this._parent.svg()\n                .attr('tabindex', '0')\n                .attr('role', 'img')\n                .attr('aria-labelledby', `desc-id-${this._parent.__dcFlag__}`);\n        }\n\n        const tabElements = this.container()\n            .selectAll('.dc-legend-item-label.dc-tabbable')\n            .attr('tabindex', 0);\n\n        tabElements\n            .on('keydown', d => {\n                // trigger only if d is an object\n                if (event.keyCode === 13 && typeof d === 'object') {\n                    d.chart.legendToggle(d)\n                } \n                // special case for space key press - prevent scrolling\n                if (event.keyCode === 32 && typeof d === 'object') {\n                    d.chart.legendToggle(d)\n                    event.preventDefault();            \n                }\n            })\n            .on('focus', d => {\n                this._parent.legendHighlight(d);\n            })\n            .on('blur', d => {\n                this._parent.legendReset(d);\n            });\n    }\n}\n\nexport const htmlLegend = () => new HtmlLegend();\n","import {pluck, utils} from '../core/utils';\nimport {adaptHandler} from '../core/d3compat';\nimport {constants} from '../core/constants';\n\nconst LABEL_GAP = 2;\n\n/**\n * Legend is a attachable widget that can be added to other dc charts to render horizontal legend\n * labels.\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n * - {@link http://dc-js.github.com/dc.js/crime/index.html Canadian City Crime Stats}\n * @example\n * chart.legend(new Legend().x(400).y(10).itemHeight(13).gap(5))\n * @returns {Legend}\n */\nexport class Legend {\n    constructor () {\n        this._parent = undefined;\n        this._x = 0;\n        this._y = 0;\n        this._itemHeight = 12;\n        this._gap = 5;\n        this._horizontal = false;\n        this._legendWidth = 560;\n        this._itemWidth = 70;\n        this._autoItemWidth = false;\n        this._legendText = pluck('name');\n        this._maxItems = undefined;\n        this._highlightSelected = false;\n        this._keyboardAccessible = false;\n\n        this._g = undefined;\n    }\n\n    parent (p) {\n        if (!arguments.length) {\n            return this._parent;\n        }\n        this._parent = p;\n        return this;\n    }\n\n    /**\n     * Set or get x coordinate for legend widget.\n     * @param  {Number} [x=0]\n     * @returns {Number|Legend}\n     */\n    x (x) {\n        if (!arguments.length) {\n            return this._x;\n        }\n        this._x = x;\n        return this;\n    }\n\n    /**\n     * Set or get y coordinate for legend widget.\n     * @param  {Number} [y=0]\n     * @returns {Number|Legend}\n     */\n    y (y) {\n        if (!arguments.length) {\n            return this._y;\n        }\n        this._y = y;\n        return this;\n    }\n\n    /**\n     * Set or get gap between legend items.\n     * @param  {Number} [gap=5]\n     * @returns {Number|Legend}\n     */\n    gap (gap) {\n        if (!arguments.length) {\n            return this._gap;\n        }\n        this._gap = gap;\n        return this;\n    }\n\n    /**\n     * This can be optionally used to enable highlighting legends for the selections/filters for the\n     * chart.\n     * @param {String} [highlightSelected]\n     * @return {String|dc.legend}\n     **/\n    highlightSelected (highlightSelected) {\n        if (!arguments.length) {\n            return this._highlightSelected;\n        }\n        this._highlightSelected = highlightSelected;\n        return this;\n    }\n\n    /**\n     * Set or get legend item height.\n     * @param  {Number} [itemHeight=12]\n     * @returns {Number|Legend}\n     */\n    itemHeight (itemHeight) {\n        if (!arguments.length) {\n            return this._itemHeight;\n        }\n        this._itemHeight = itemHeight;\n        return this;\n    }\n\n    /**\n     * Position legend horizontally instead of vertically.\n     * @param  {Boolean} [horizontal=false]\n     * @returns {Boolean|Legend}\n     */\n    horizontal (horizontal) {\n        if (!arguments.length) {\n            return this._horizontal;\n        }\n        this._horizontal = horizontal;\n        return this;\n    }\n\n    /**\n     * Maximum width for horizontal legend.\n     * @param  {Number} [legendWidth=500]\n     * @returns {Number|Legend}\n     */\n    legendWidth (legendWidth) {\n        if (!arguments.length) {\n            return this._legendWidth;\n        }\n        this._legendWidth = legendWidth;\n        return this;\n    }\n\n    /**\n     * Legend item width for horizontal legend.\n     * @param  {Number} [itemWidth=70]\n     * @returns {Number|Legend}\n     */\n    itemWidth (itemWidth) {\n        if (!arguments.length) {\n            return this._itemWidth;\n        }\n        this._itemWidth = itemWidth;\n        return this;\n    }\n\n    /**\n     * Turn automatic width for legend items on or off. If true, {@link Legend#itemWidth itemWidth} is ignored.\n     * This setting takes into account the {@link Legend#gap gap}.\n     * @param  {Boolean} [autoItemWidth=false]\n     * @returns {Boolean|Legend}\n     */\n    autoItemWidth (autoItemWidth) {\n        if (!arguments.length) {\n            return this._autoItemWidth;\n        }\n        this._autoItemWidth = autoItemWidth;\n        return this;\n    }\n\n    /**\n     * Set or get the legend text function. The legend widget uses this function to render the legend\n     * text for each item. If no function is specified the legend widget will display the names\n     * associated with each group.\n     * @param  {Function} [legendText]\n     * @returns {Function|Legend}\n     * @example\n     * // default legendText\n     * legend.legendText(pluck('name'))\n     *\n     * // create numbered legend items\n     * chart.legend(new Legend().legendText(function(d, i) { return i + '. ' + d.name; }))\n     *\n     * // create legend displaying group counts\n     * chart.legend(new Legend().legendText(function(d) { return d.name + ': ' d.data; }))\n     */\n    legendText (legendText) {\n        if (!arguments.length) {\n            return this._legendText;\n        }\n        this._legendText = legendText;\n        return this;\n    }\n\n    /**\n     * Maximum number of legend items to display\n     * @param  {Number} [maxItems]\n     * @return {Legend}\n     */\n    maxItems (maxItems) {\n        if (!arguments.length) {\n            return this._maxItems;\n        }\n        this._maxItems = utils.isNumber(maxItems) ? maxItems : undefined;\n        return this;\n    }\n\n    /**\n     * If set, individual legend items will be focusable from keyboard and on pressing Enter or Space\n     * will behave as if clicked on.\n     * \n     * If `svgDescription` on the parent chart has not been explicitly set, will also set the default \n     * SVG description text to the class constructor name, like BarChart or HeatMap, and make the entire\n     * SVG focusable.\n     * @param {Boolean} [keyboardAccessible=false]\n     * @returns {Boolean|Legend}\n     */\n    keyboardAccessible (keyboardAccessible) {\n        if (!arguments.length) {\n            return this._keyboardAccessible;\n        }\n        this._keyboardAccessible = keyboardAccessible;\n        return this;\n    }\n\n    // Implementation methods\n\n    _legendItemHeight () {\n        return this._gap + this._itemHeight;\n    }\n\n    _makeLegendKeyboardAccessible () {\n\n        if (!this._parent._svgDescription) {\n\n            this._parent.svg().append('desc')\n                .attr('id', `desc-id-${this._parent.__dcFlag__}`)\n                .html(`${this._parent.svgDescription()}`);\n\n            this._parent.svg()\n                .attr('tabindex', '0')\n                .attr('role', 'img')\n                .attr('aria-labelledby', `desc-id-${this._parent.__dcFlag__}`);\n        }\n\n        const tabElements = this._parent.svg()\n            .selectAll('.dc-legend .dc-tabbable')\n            .attr('tabindex', 0);\n\n        tabElements\n            .on('keydown', adaptHandler((d, event) => {\n                // trigger only if d is an object\n                if (event.keyCode === 13 && typeof d === 'object') {\n                    d.chart.legendToggle(d)\n                } \n                // special case for space key press - prevent scrolling\n                if (event.keyCode === 32 && typeof d === 'object') {\n                    d.chart.legendToggle(d)\n                    event.preventDefault();            \n                }\n            }))\n            .on('focus', adaptHandler(d => {\n                this._parent.legendHighlight(d);\n            }))\n            .on('blur', adaptHandler(d => {\n                this._parent.legendReset(d);\n            }));\n    }\n\n    render () {\n        this._parent.svg().select('g.dc-legend').remove();\n        this._g = this._parent.svg().append('g')\n            .attr('class', 'dc-legend')\n            .attr('transform', `translate(${this._x},${this._y})`);\n        let legendables = this._parent.legendables();\n        const filters = this._parent.filters();\n\n        if (this._maxItems !== undefined) {\n            legendables = legendables.slice(0, this._maxItems);\n        }\n\n        const itemEnter = this._g.selectAll('g.dc-legend-item')\n            .data(legendables)\n            .enter()\n            .append('g')\n            .attr('class', 'dc-legend-item')\n            .on('mouseover', adaptHandler(d => {\n                this._parent.legendHighlight(d);\n            }))\n            .on('mouseout', adaptHandler(d => {\n                this._parent.legendReset(d);\n            }))\n            .on('click', adaptHandler(d => {\n                d.chart.legendToggle(d);\n            }));\n\n        if (this._highlightSelected) {\n            itemEnter.classed(constants.SELECTED_CLASS,\n                              d => filters.indexOf(d.name) !== -1);\n        }\n\n\n        this._g.selectAll('g.dc-legend-item')\n            .classed('fadeout', d => d.chart.isLegendableHidden(d));\n\n        if (legendables.some(pluck('dashstyle'))) {\n            itemEnter\n                .append('line')\n                .attr('x1', 0)\n                .attr('y1', this._itemHeight / 2)\n                .attr('x2', this._itemHeight)\n                .attr('y2', this._itemHeight / 2)\n                .attr('stroke-width', 2)\n                .attr('stroke-dasharray', pluck('dashstyle'))\n                .attr('stroke', pluck('color'));\n        } else {\n            itemEnter\n                .append('rect')\n                .attr('width', this._itemHeight)\n                .attr('height', this._itemHeight)\n                .attr('fill', d => d ? d.color : 'blue');\n        }\n\n        {\n            const self = this;\n\n            itemEnter.append('text')\n                .text(self._legendText)\n                .classed('dc-tabbable', this._keyboardAccessible)\n                .attr('x', self._itemHeight + LABEL_GAP)\n                .attr('y', function () {\n                    return self._itemHeight / 2 + (this.clientHeight ? this.clientHeight : 13) / 2 - 2;\n                });\n\n            if (this._keyboardAccessible) {\n                this._makeLegendKeyboardAccessible();\n            }\n        }\n\n        let cumulativeLegendTextWidth = 0;\n        let row = 0;\n\n        {\n            const self = this;\n\n            itemEnter.attr('transform', function (d, i) {\n                if (self._horizontal) {\n                    const itemWidth = self._autoItemWidth === true ? this.getBBox().width + self._gap : self._itemWidth;\n                    if ((cumulativeLegendTextWidth + itemWidth) > self._legendWidth && cumulativeLegendTextWidth > 0) {\n                        ++row;\n                        cumulativeLegendTextWidth = 0;\n                    }\n                    const translateBy = `translate(${cumulativeLegendTextWidth},${row * self._legendItemHeight()})`;\n                    cumulativeLegendTextWidth += itemWidth;\n                    return translateBy;\n                } else {\n                    return `translate(0,${i * self._legendItemHeight()})`;\n                }\n            });\n        }\n    }\n\n}\n\nexport const legend = () => new Legend();\n","import {\n    area,\n    curveBasis,\n    curveBasisClosed,\n    curveBasisOpen,\n    curveBundle,\n    curveCardinal,\n    curveCardinalClosed,\n    curveCardinalOpen,\n    curveLinear,\n    curveLinearClosed,\n    curveMonotoneX,\n    curveStep,\n    curveStepAfter,\n    curveStepBefore,\n    line\n} from 'd3-shape';\nimport {select} from 'd3-selection';\n\nimport {logger} from '../core/logger';\nimport {pluck, utils} from '../core/utils';\nimport {StackMixin} from '../base/stack-mixin';\nimport {transition} from '../core/core';\n\nconst DEFAULT_DOT_RADIUS = 5;\nconst TOOLTIP_G_CLASS = 'dc-tooltip';\nconst DOT_CIRCLE_CLASS = 'dot';\nconst Y_AXIS_REF_LINE_CLASS = 'yRef';\nconst X_AXIS_REF_LINE_CLASS = 'xRef';\nconst DEFAULT_DOT_OPACITY = 1e-6;\nconst LABEL_PADDING = 3;\n\n/**\n * Concrete line/area chart implementation.\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n * - {@link http://dc-js.github.com/dc.js/crime/index.html Canadian City Crime Stats}\n * @mixes StackMixin\n * @mixes CoordinateGridMixin\n */\nexport class LineChart extends StackMixin {\n    /**\n     * Create a Line Chart.\n     * @example\n     * // create a line chart under #chart-container1 element using the default global chart group\n     * var chart1 = new LineChart('#chart-container1');\n     * // create a line chart under #chart-container2 element using chart group A\n     * var chart2 = new LineChart('#chart-container2', 'chartGroupA');\n     * // create a sub-chart under a composite parent chart\n     * var chart3 = new LineChart(compositeChart);\n     * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector}\n     * specifying a dom block element such as a div; or a dom element or d3 selection.  If the line\n     * chart is a sub-chart in a {@link CompositeChart Composite Chart} then pass in the parent\n     * composite chart instance instead.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._renderArea = false;\n        this._dotRadius = DEFAULT_DOT_RADIUS;\n        this._dataPointRadius = null;\n        this._dataPointFillOpacity = DEFAULT_DOT_OPACITY;\n        this._dataPointStrokeOpacity = DEFAULT_DOT_OPACITY;\n        this._curve = null;\n        this._interpolate = null; // d3.curveLinear;  // deprecated in 3.0\n        this._tension = null;  // deprecated in 3.0\n        this._defined = undefined;\n        this._dashStyle = undefined;\n        this._xyTipsOn = true;\n\n        this.transitionDuration(500);\n        this.transitionDelay(0);\n        this._rangeBandPadding(1);\n\n        this.label(d => utils.printSingleValue(d.y0 + d.y), false);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    plotData () {\n        const chartBody = this.chartBodyG();\n        let layersList = chartBody.select('g.stack-list');\n\n        if (layersList.empty()) {\n            layersList = chartBody.append('g').attr('class', 'stack-list');\n        }\n\n        let layers = layersList.selectAll('g.stack').data(this.data());\n\n        const layersEnter = layers\n            .enter()\n            .append('g')\n            .attr('class', (d, i) => `stack _${i}`);\n\n        layers = layersEnter.merge(layers);\n\n        this._drawLine(layersEnter, layers);\n\n        this._drawArea(layersEnter, layers);\n\n        this._drawDots(chartBody, layers);\n\n        if (this.renderLabel()) {\n            this._drawLabels(layers);\n        }\n    }\n\n    /**\n     * Gets or sets the curve factory to use for lines and areas drawn, allowing e.g. step\n     * functions, splines, and cubic interpolation. Typically you would use one of the interpolator functions\n     * provided by {@link https://github.com/d3/d3-shape/blob/master/README.md#curves d3 curves}.\n     *\n     * Replaces the use of {@link LineChart#interpolate} and {@link LineChart#tension}\n     * in dc.js < 3.0\n     *\n     * This is passed to\n     * {@link https://github.com/d3/d3-shape/blob/master/README.md#line_curve line.curve} and\n     * {@link https://github.com/d3/d3-shape/blob/master/README.md#area_curve area.curve}.\n     * @example\n     * // default\n     * chart\n     *     .curve(d3.curveLinear);\n     * // Add tension to curves that support it\n     * chart\n     *     .curve(d3.curveCardinal.tension(0.5));\n     * // You can use some specialized variation like\n     * // https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline\n     * chart\n     *     .curve(d3.curveCatmullRom.alpha(0.5));\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#line_curve line.curve}\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#area_curve area.curve}\n     * @param  {d3.curve} [curve=d3.curveLinear]\n     * @returns {d3.curve|LineChart}\n     */\n    curve (curve) {\n        if (!arguments.length) {\n            return this._curve;\n        }\n        this._curve = curve;\n        return this;\n    }\n\n    /**\n     * Gets or sets the interpolator to use for lines drawn, by string name, allowing e.g. step\n     * functions, splines, and cubic interpolation.\n     *\n     * Possible values are: 'linear', 'linear-closed', 'step', 'step-before', 'step-after', 'basis',\n     * 'basis-open', 'basis-closed', 'bundle', 'cardinal', 'cardinal-open', 'cardinal-closed', and\n     * 'monotone'.\n     *\n     * This function exists for backward compatibility. Use {@link LineChart#curve}\n     * which is generic and provides more options.\n     * Value set through `.curve` takes precedence over `.interpolate` and `.tension`.\n     * @deprecated since version 3.0 use {@link LineChart#curve} instead\n     * @see {@link LineChart#curve}\n     * @param  {d3.curve} [interpolate=d3.curveLinear]\n     * @returns {d3.curve|LineChart}\n     */\n    interpolate (interpolate) {\n        logger.warnOnce('dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead');\n        if (!arguments.length) {\n            return this._interpolate;\n        }\n        this._interpolate = interpolate;\n        return this;\n    }\n\n    /**\n     * Gets or sets the tension to use for lines drawn, in the range 0 to 1.\n     *\n     * Passed to the {@link https://github.com/d3/d3-shape/blob/master/README.md#curves d3 curve function}\n     * if it provides a `.tension` function. Example:\n     * {@link https://github.com/d3/d3-shape/blob/master/README.md#curveCardinal_tension curveCardinal.tension}.\n     *\n     * This function exists for backward compatibility. Use {@link LineChart#curve}\n     * which is generic and provides more options.\n     * Value set through `.curve` takes precedence over `.interpolate` and `.tension`.\n     * @deprecated since version 3.0 use {@link LineChart#curve} instead\n     * @see {@link LineChart#curve}\n     * @param  {Number} [tension=0]\n     * @returns {Number|LineChart}\n     */\n    tension (tension) {\n        logger.warnOnce('dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead');\n        if (!arguments.length) {\n            return this._tension;\n        }\n        this._tension = tension;\n        return this;\n    }\n\n    /**\n     * Gets or sets a function that will determine discontinuities in the line which should be\n     * skipped: the path will be broken into separate subpaths if some points are undefined.\n     * This function is passed to\n     * {@link https://github.com/d3/d3-shape/blob/master/README.md#line_defined line.defined}\n     *\n     * Note: crossfilter will sometimes coerce nulls to 0, so you may need to carefully write\n     * custom reduce functions to get this to work, depending on your data. See\n     * {@link https://github.com/dc-js/dc.js/issues/615#issuecomment-49089248 this GitHub comment}\n     * for more details and an example.\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#line_defined line.defined}\n     * @param  {Function} [defined]\n     * @returns {Function|LineChart}\n     */\n    defined (defined) {\n        if (!arguments.length) {\n            return this._defined;\n        }\n        this._defined = defined;\n        return this;\n    }\n\n    /**\n     * Set the line's d3 dashstyle. This value becomes the 'stroke-dasharray' of line. Defaults to empty\n     * array (solid line).\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray stroke-dasharray}\n     * @example\n     * // create a Dash Dot Dot Dot\n     * chart.dashStyle([3,1,1,1]);\n     * @param  {Array<Number>} [dashStyle=[]]\n     * @returns {Array<Number>|LineChart}\n     */\n    dashStyle (dashStyle) {\n        if (!arguments.length) {\n            return this._dashStyle;\n        }\n        this._dashStyle = dashStyle;\n        return this;\n    }\n\n    /**\n     * Get or set render area flag. If the flag is set to true then the chart will render the area\n     * beneath each line and the line chart effectively becomes an area chart.\n     * @param  {Boolean} [renderArea=false]\n     * @returns {Boolean|LineChart}\n     */\n    renderArea (renderArea) {\n        if (!arguments.length) {\n            return this._renderArea;\n        }\n        this._renderArea = renderArea;\n        return this;\n    }\n\n    _getColor (d, i) {\n        return this.getColor.call(d, d.values, i);\n    }\n\n    // To keep it backward compatible, this covers multiple cases\n    // See https://github.com/dc-js/dc.js/issues/1376\n    // It will be removed when interpolate and tension are removed.\n    _getCurveFactory () {\n        let curve = null;\n\n        // _curve takes precedence\n        if (this._curve) {\n            return this._curve;\n        }\n\n        // Approximate the D3v3 behavior\n        if (typeof this._interpolate === 'function') {\n            curve = this._interpolate;\n        } else {\n            // If _interpolate is string\n            const mapping = {\n                'linear': curveLinear,\n                'linear-closed': curveLinearClosed,\n                'step': curveStep,\n                'step-before': curveStepBefore,\n                'step-after': curveStepAfter,\n                'basis': curveBasis,\n                'basis-open': curveBasisOpen,\n                'basis-closed': curveBasisClosed,\n                'bundle': curveBundle,\n                'cardinal': curveCardinal,\n                'cardinal-open': curveCardinalOpen,\n                'cardinal-closed': curveCardinalClosed,\n                'monotone': curveMonotoneX\n            };\n            curve = mapping[this._interpolate];\n        }\n\n        // Default value\n        if (!curve) {\n            curve = curveLinear;\n        }\n\n        if (this._tension !== null) {\n            if (typeof curve.tension !== 'function') {\n                logger.warn('tension was specified but the curve/interpolate does not support it.');\n            } else {\n                curve = curve.tension(this._tension);\n            }\n        }\n        return curve;\n    }\n\n    _drawLine (layersEnter, layers) {\n        const _line = line()\n            .x(d => this.x()(d.x))\n            .y(d => this.y()(d.y + d.y0))\n            .curve(this._getCurveFactory());\n        if (this._defined) {\n            _line.defined(this._defined);\n        }\n\n        const path = layersEnter.append('path')\n            .attr('class', 'line')\n            .attr('stroke', (d, i) => this._getColor(d, i));\n        if (this._dashStyle) {\n            path.attr('stroke-dasharray', this._dashStyle);\n        }\n\n        transition(layers.select('path.line'), this.transitionDuration(), this.transitionDelay())\n        //.ease('linear')\n            .attr('stroke', (d, i) => this._getColor(d, i))\n            .attr('d', d => this._safeD(_line(d.values)));\n    }\n\n    _drawArea (layersEnter, layers) {\n        if (this._renderArea) {\n            const _area = area()\n                .x(d => this.x()(d.x))\n                .y1(d => this.y()(d.y + d.y0))\n                .y0(d => this.y()(d.y0))\n                .curve(this._getCurveFactory());\n            if (this._defined) {\n                _area.defined(this._defined);\n            }\n\n            layersEnter.append('path')\n                .attr('class', 'area')\n                .attr('fill', (d, i) => this._getColor(d, i))\n                .attr('d', d => this._safeD(_area(d.values)));\n\n            transition(layers.select('path.area'), this.transitionDuration(), this.transitionDelay())\n            //.ease('linear')\n                .attr('fill', (d, i) => this._getColor(d, i))\n                .attr('d', d => this._safeD(_area(d.values)));\n        }\n    }\n\n    _safeD (d) {\n        return (!d || d.indexOf('NaN') >= 0) ? 'M0,0' : d;\n    }\n\n    _drawDots (chartBody, layers) {\n        if (this.xyTipsOn() === 'always' || (!(this.brushOn() || this.parentBrushOn()) && this.xyTipsOn())) {\n            const tooltipListClass = `${TOOLTIP_G_CLASS}-list`;\n            let tooltips = chartBody.select(`g.${tooltipListClass}`);\n\n            if (tooltips.empty()) {\n                tooltips = chartBody.append('g').attr('class', tooltipListClass);\n            }\n\n            layers.each((data, layerIndex) => {\n                let points = data.values;\n                if (this._defined) {\n                    points = points.filter(this._defined);\n                }\n\n                let g = tooltips.select(`g.${TOOLTIP_G_CLASS}._${layerIndex}`);\n                if (g.empty()) {\n                    g = tooltips.append('g').attr('class', `${TOOLTIP_G_CLASS} _${layerIndex}`);\n                }\n\n                this._createRefLines(g);\n\n                const dots = g.selectAll(`circle.${DOT_CIRCLE_CLASS}`)\n                    .data(points, pluck('x'));\n\n                const chart = this;\n                const dotsEnterModify = dots\n                    .enter()\n                    .append('circle')\n                    .attr('class', DOT_CIRCLE_CLASS)\n                    .classed('dc-tabbable', this._keyboardAccessible)\n                    .attr('cx', d => utils.safeNumber(this.x()(d.x)))\n                    .attr('cy', d => utils.safeNumber(this.y()(d.y + d.y0)))\n                    .attr('r', this._getDotRadius())\n                    .style('fill-opacity', this._dataPointFillOpacity)\n                    .style('stroke-opacity', this._dataPointStrokeOpacity)\n                    .attr('fill', this.getColor)\n                    .attr('stroke', this.getColor)\n                    .on('mousemove', function () {\n                        const dot = select(this);\n                        chart._showDot(dot);\n                        chart._showRefLines(dot, g);\n                    })\n                    .on('mouseout', function () {\n                        const dot = select(this);\n                        chart._hideDot(dot);\n                        chart._hideRefLines(g);\n                    })\n                    .merge(dots);\n\n                // special case for on-focus for line chart and its dots\n                if (this._keyboardAccessible) {\n\n                    this._svg.selectAll('.dc-tabbable')\n                        .attr('tabindex', 0)\n                        .on('focus', function () {\n                            const dot = select(this);\n                            chart._showDot(dot);\n                            chart._showRefLines(dot, g);\n                        })\n                        .on('blur', function () {\n                            const dot = select(this);\n                            chart._hideDot(dot);\n                            chart._hideRefLines(g);\n                        });\n                }\n\n                dotsEnterModify.call(dot => this._doRenderTitle(dot, data));\n\n                transition(dotsEnterModify, this.transitionDuration())\n                    .attr('cx', d => utils.safeNumber(this.x()(d.x)))\n                    .attr('cy', d => utils.safeNumber(this.y()(d.y + d.y0)))\n                    .attr('fill', this.getColor);\n\n                dots.exit().remove();\n            });\n        }\n    }\n\n    _drawLabels (layers) {\n        const chart = this;\n        layers.each(function (data, layerIndex) {\n            const layer = select(this);\n            const labels = layer.selectAll('text.lineLabel')\n                .data(data.values, pluck('x'));\n\n            const labelsEnterModify = labels\n                .enter()\n                .append('text')\n                .attr('class', 'lineLabel')\n                .attr('text-anchor', 'middle')\n                .merge(labels);\n\n            transition(labelsEnterModify, chart.transitionDuration())\n                .attr('x', d => utils.safeNumber(chart.x()(d.x)))\n                .attr('y', d => {\n                    const y = chart.y()(d.y + d.y0) - LABEL_PADDING;\n                    return utils.safeNumber(y);\n                })\n                .text(d => chart.label()(d));\n\n            transition(labels.exit(), chart.transitionDuration())\n                .attr('height', 0)\n                .remove();\n        });\n    }\n\n    _createRefLines (g) {\n        const yRefLine = g.select(`path.${Y_AXIS_REF_LINE_CLASS}`).empty() ?\n            g.append('path').attr('class', Y_AXIS_REF_LINE_CLASS) : g.select(`path.${Y_AXIS_REF_LINE_CLASS}`);\n        yRefLine.style('display', 'none').attr('stroke-dasharray', '5,5');\n\n        const xRefLine = g.select(`path.${X_AXIS_REF_LINE_CLASS}`).empty() ?\n            g.append('path').attr('class', X_AXIS_REF_LINE_CLASS) : g.select(`path.${X_AXIS_REF_LINE_CLASS}`);\n        xRefLine.style('display', 'none').attr('stroke-dasharray', '5,5');\n    }\n\n    _showDot (dot) {\n        dot.style('fill-opacity', 0.8);\n        dot.style('stroke-opacity', 0.8);\n        dot.attr('r', this._dotRadius);\n        return dot;\n    }\n\n    _showRefLines (dot, g) {\n        const x = dot.attr('cx');\n        const y = dot.attr('cy');\n        const yAxisX = (this._yAxisX() - this.margins().left);\n        const yAxisRefPathD = `M${yAxisX} ${y}L${x} ${y}`;\n        const xAxisRefPathD = `M${x} ${this.yAxisHeight()}L${x} ${y}`;\n        g.select(`path.${Y_AXIS_REF_LINE_CLASS}`).style('display', '').attr('d', yAxisRefPathD);\n        g.select(`path.${X_AXIS_REF_LINE_CLASS}`).style('display', '').attr('d', xAxisRefPathD);\n    }\n\n    _getDotRadius () {\n        return this._dataPointRadius || this._dotRadius;\n    }\n\n    _hideDot (dot) {\n        dot.style('fill-opacity', this._dataPointFillOpacity)\n            .style('stroke-opacity', this._dataPointStrokeOpacity)\n            .attr('r', this._getDotRadius());\n    }\n\n    _hideRefLines (g) {\n        g.select(`path.${Y_AXIS_REF_LINE_CLASS}`).style('display', 'none');\n        g.select(`path.${X_AXIS_REF_LINE_CLASS}`).style('display', 'none');\n    }\n\n    _doRenderTitle (dot, d) {\n        if (this.renderTitle()) {\n            dot.select('title').remove();\n            dot.append('title').text(pluck('data', this.title(d.name)));\n        }\n    }\n\n    /**\n     * Turn on/off the mouseover behavior of an individual data point which renders a circle and x/y axis\n     * dashed lines back to each respective axis.  This is ignored if the chart\n     * {@link CoordinateGridMixin#brushOn brush} is on\n     * @param  {Boolean} [xyTipsOn=false]\n     * @returns {Boolean|LineChart}\n     */\n    xyTipsOn (xyTipsOn) {\n        if (!arguments.length) {\n            return this._xyTipsOn;\n        }\n        this._xyTipsOn = xyTipsOn;\n        return this;\n    }\n\n    /**\n     * Get or set the radius (in px) for dots displayed on the data points.\n     * @param  {Number} [dotRadius=5]\n     * @returns {Number|LineChart}\n     */\n    dotRadius (dotRadius) {\n        if (!arguments.length) {\n            return this._dotRadius;\n        }\n        this._dotRadius = dotRadius;\n        return this;\n    }\n\n    /**\n     * Always show individual dots for each datapoint.\n     *\n     * If `options` is falsy, it disables data point rendering. If no `options` are provided, the\n     * current `options` values are instead returned.\n     * @example\n     * chart.renderDataPoints({radius: 2, fillOpacity: 0.8, strokeOpacity: 0.0})\n     * @param  {{fillOpacity: Number, strokeOpacity: Number, radius: Number}} [options={fillOpacity: 0.8, strokeOpacity: 0.0, radius: 2}]\n     * @returns {{fillOpacity: Number, strokeOpacity: Number, radius: Number}|LineChart}\n     */\n    renderDataPoints (options) {\n        if (!arguments.length) {\n            return {\n                fillOpacity: this._dataPointFillOpacity,\n                strokeOpacity: this._dataPointStrokeOpacity,\n                radius: this._dataPointRadius\n            };\n        } else if (!options) {\n            this._dataPointFillOpacity = DEFAULT_DOT_OPACITY;\n            this._dataPointStrokeOpacity = DEFAULT_DOT_OPACITY;\n            this._dataPointRadius = null;\n        } else {\n            this._dataPointFillOpacity = options.fillOpacity || 0.8;\n            this._dataPointStrokeOpacity = options.strokeOpacity || 0.0;\n            this._dataPointRadius = options.radius || 2;\n        }\n        return this;\n    }\n\n    _colorFilter (color, dashstyle, inv) {\n        return function () {\n            const item = select(this);\n            const match = (item.attr('stroke') === color &&\n                item.attr('stroke-dasharray') === ((dashstyle instanceof Array) ?\n                    dashstyle.join(',') : null)) || item.attr('fill') === color;\n            return inv ? !match : match;\n        };\n    }\n\n    legendHighlight (d) {\n        if (!this.isLegendableHidden(d)) {\n            this.g().selectAll('path.line, path.area')\n                .classed('highlight', this._colorFilter(d.color, d.dashstyle))\n                .classed('fadeout', this._colorFilter(d.color, d.dashstyle, true));\n        }\n    }\n\n    legendReset () {\n        this.g().selectAll('path.line, path.area')\n            .classed('highlight', false)\n            .classed('fadeout', false);\n    }\n\n    legendables () {\n        const legendables = super.legendables();\n        if (!this._dashStyle) {\n            return legendables;\n        }\n        return legendables.map(l => {\n            l.dashstyle = this._dashStyle;\n            return l;\n        });\n    }\n}\n\nexport const lineChart = (parent, chartGroup) => new LineChart(parent, chartGroup);\n","import {format} from 'd3-format';\nimport {easeQuad} from 'd3-ease';\nimport {interpolateNumber} from 'd3-interpolate';\n\nimport {BaseMixin} from '../base/base-mixin';\n\nconst SPAN_CLASS = 'number-display';\n\n/**\n * A display of a single numeric value.\n *\n * Unlike other charts, you do not need to set a dimension. Instead a group object must be provided and\n * a valueAccessor that returns a single value.\n *\n * If the group is a {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#crossfilter_groupAll groupAll}\n * then its `.value()` will be displayed. This is the recommended usage.\n *\n * However, if it is given an ordinary group, the `numberDisplay` will show the last bin's value, after\n * sorting with the {@link https://dc-js.github.io/dc.js/docs/html/dc.baseMixin.html#ordering__anchor ordering}\n * function. `numberDisplay` defaults the `ordering` function to sorting by value, so this will display\n * the largest value if the values are numeric.\n * @mixes BaseMixin\n */\nexport class NumberDisplay extends BaseMixin {\n    /**\n     * Create a Number Display widget.\n     *\n     * @example\n     * // create a number display under #chart-container1 element using the default global chart group\n     * var display1 = new NumberDisplay('#chart-container1');\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._formatNumber = format('.2s');\n        this._html = {one: '', some: '', none: ''};\n        this._lastValue = undefined;\n        this._ariaLiveRegion = false;\n\n        // dimension not required\n        this._mandatoryAttributes(['group']);\n\n        // default to ordering by value, to emulate old group.top(1) behavior when multiple groups\n        this.ordering(kv => kv.value);\n\n        this.data(group => {\n            const valObj = group.value ? group.value() : this._maxBin(group.all());\n            return this.valueAccessor()(valObj);\n        });\n\n        this.transitionDuration(250); // good default\n        this.transitionDelay(0);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    /**\n     * Gets or sets an optional object specifying HTML templates to use depending on the number\n     * displayed.  The text `%number` will be replaced with the current value.\n     * - one: HTML template to use if the number is 1\n     * - zero: HTML template to use if the number is 0\n     * - some: HTML template to use otherwise\n     * @example\n     * numberWidget.html({\n     *      one:'%number record',\n     *      some:'%number records',\n     *      none:'no records'})\n     * @param {{one:String, some:String, none:String}} [html={one: '', some: '', none: ''}]\n     * @returns {{one:String, some:String, none:String}|NumberDisplay}\n     */\n    html (html) {\n        if (!arguments.length) {\n            return this._html;\n        }\n        if (html.none) {\n            this._html.none = html.none;//if none available\n        } else if (html.one) {\n            this._html.none = html.one;//if none not available use one\n        } else if (html.some) {\n            this._html.none = html.some;//if none and one not available use some\n        }\n        if (html.one) {\n            this._html.one = html.one;//if one available\n        } else if (html.some) {\n            this._html.one = html.some;//if one not available use some\n        }\n        if (html.some) {\n            this._html.some = html.some;//if some available\n        } else if (html.one) {\n            this._html.some = html.one;//if some not available use one\n        }\n        return this;\n    }\n\n    /**\n     * Calculate and return the underlying value of the display.\n     * @returns {Number}\n     */\n    value () {\n        return this.data();\n    }\n\n    _maxBin (all) {\n        if (!all.length) {\n            return null;\n        }\n        const sorted = this._computeOrderedGroups(all);\n        return sorted[sorted.length - 1];\n    }\n\n    _doRender () {\n        const newValue = this.value();\n        let span = this.selectAll(`.${SPAN_CLASS}`);\n\n        if (span.empty()) {\n            span = span.data([0])\n                .enter()\n                .append('span')\n                .attr('class', SPAN_CLASS)\n                .classed('dc-tabbable', this._keyboardAccessible)\n                .merge(span);\n\n            if (this._keyboardAccessible) {\n                span.attr('tabindex', '0');\n            }\n\n            if (this._ariaLiveRegion) {\n                this.transitionDuration(0);\n                span.attr('aria-live', 'polite');\n            }\n        }\n\n        {\n            const chart = this;\n            span.transition()\n                .duration(chart.transitionDuration())\n                .delay(chart.transitionDelay())\n                .ease(easeQuad)\n                .tween('text', function () {\n                    // [XA] don't try and interpolate from Infinity, else this breaks.\n                    const interpStart = isFinite(chart._lastValue) ? chart._lastValue : 0;\n                    const interp = interpolateNumber(interpStart || 0, newValue);\n                    chart._lastValue = newValue;\n\n                    // need to save it in D3v4\n                    const node = this;\n                    return t => {\n                        let html = null;\n                        const num = chart.formatNumber()(interp(t));\n                        if (newValue === 0 && (chart._html.none !== '')) {\n                            html = chart._html.none;\n                        } else if (newValue === 1 && (chart._html.one !== '')) {\n                            html = chart._html.one;\n                        } else if (chart._html.some !== '') {\n                            html = chart._html.some;\n                        }\n                        node.innerHTML = html ? html.replace('%number', num) : num;\n                    };\n                });\n        }\n    }\n\n    _doRedraw () {\n        return this._doRender();\n    }\n\n    /**\n     * Get or set a function to format the value for the display.\n     * @see {@link https://github.com/d3/d3-format/blob/master/README.md#format d3.format}\n     * @param {Function} [formatter=d3.format('.2s')]\n     * @returns {Function|NumberDisplay}\n     */\n    formatNumber (formatter) {\n        if (!arguments.length) {\n            return this._formatNumber;\n        }\n        this._formatNumber = formatter;\n        return this;\n    }\n\n    /**\n     * If set, the Number Display widget will have its aria-live attribute set to 'polite' which will\n     * notify screen readers when the widget changes its value. Note that setting this method will also\n     * disable the default transition between the old and the new values. This is to avoid change\n     * notifications spoken out before the new value finishes re-drawing. It is also advisable to check\n     * if the widget has appropriately set accessibility description or label. \n     * @param {Boolean} [ariaLiveRegion=false]\n     * @returns {Boolean|NumberDisplay}\n     */\n    ariaLiveRegion (ariaLiveRegion) {\n        if (!arguments.length) {\n            return this._ariaLiveRegion;\n        }\n        this._ariaLiveRegion = ariaLiveRegion;\n        return this;\n    }\n\n}\n\nexport const numberDisplay = (parent, chartGroup) => new NumberDisplay(parent, chartGroup);\n","import {min, sum} from 'd3-array';\nimport {arc, pie} from 'd3-shape';\nimport {select} from 'd3-selection';\nimport {interpolate} from 'd3-interpolate';\n\nimport {CapMixin} from '../base/cap-mixin';\nimport {ColorMixin} from '../base/color-mixin';\nimport {BaseMixin} from '../base/base-mixin';\nimport {transition} from '../core/core';\nimport {adaptHandler} from '../core/d3compat';\n\nconst DEFAULT_MIN_ANGLE_FOR_LABEL = 0.5;\n\n/**\n * The pie chart implementation is usually used to visualize a small categorical distribution.  The pie\n * chart uses keyAccessor to determine the slices, and valueAccessor to calculate the size of each\n * slice relative to the sum of all values. Slices are ordered by {@link BaseMixin#ordering ordering}\n * which defaults to sorting by key.\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n * @mixes CapMixin\n * @mixes ColorMixin\n * @mixes BaseMixin\n */\nexport class PieChart extends CapMixin(ColorMixin(BaseMixin)) {\n    /**\n     * Create a Pie Chart\n     *\n     * @example\n     * // create a pie chart under #chart-container1 element using the default global chart group\n     * var chart1 = new PieChart('#chart-container1');\n     * // create a pie chart under #chart-container2 element using chart group A\n     * var chart2 = new PieChart('#chart-container2', 'chartGroupA');\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._sliceCssClass = 'pie-slice';\n        this._labelCssClass = 'pie-label';\n        this._sliceGroupCssClass = 'pie-slice-group';\n        this._labelGroupCssClass = 'pie-label-group';\n        this._emptyCssClass = 'empty-chart';\n        this._emptyTitle = 'empty';\n\n        this._radius = undefined;\n        this._givenRadius = undefined; // specified radius, if any\n        this._innerRadius = 0;\n        this._externalRadiusPadding = 0;\n\n\n        this._g = undefined;\n        this._cx = undefined;\n        this._cy = undefined;\n        this._minAngleForLabel = DEFAULT_MIN_ANGLE_FOR_LABEL;\n        this._externalLabelRadius = undefined;\n        this._drawPaths = false;\n\n        this.colorAccessor(d => this.cappedKeyAccessor(d));\n\n        this.title(d => `${this.cappedKeyAccessor(d)}: ${this.cappedValueAccessor(d)}`);\n\n        this.label(d => this.cappedKeyAccessor(d));\n        this.renderLabel(true);\n\n        this.transitionDuration(350);\n        this.transitionDelay(0);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    /**\n     * Get or set the maximum number of slices the pie chart will generate. The top slices are determined by\n     * value from high to low. Other slices exceeding the cap will be rolled up into one single *Others* slice.\n     * @param {Number} [cap]\n     * @returns {Number|PieChart}\n     */\n    slicesCap (cap) {\n        return this.cap(cap)\n    }\n\n    _doRender () {\n        this.resetSvg();\n\n        this._g = this.svg()\n            .append('g')\n            .attr('transform', `translate(${this.cx()},${this.cy()})`);\n\n        this._g.append('g').attr('class', this._sliceGroupCssClass);\n        this._g.append('g').attr('class', this._labelGroupCssClass);\n\n        this._drawChart();\n\n        return this;\n    }\n\n    _drawChart () {\n        // set radius from chart size if none given, or if given radius is too large\n        const maxRadius = min([this.width(), this.height()]) / 2;\n        this._radius = this._givenRadius && this._givenRadius < maxRadius ? this._givenRadius : maxRadius;\n\n        const arcs = this._buildArcs();\n\n        const pieLayout = this._pieLayout();\n        let pieData;\n        // if we have data...\n        if (sum(this.data(), d => this.cappedValueAccessor(d))) {\n            pieData = pieLayout(this.data());\n            this._g.classed(this._emptyCssClass, false);\n        } else {\n            // otherwise we'd be getting NaNs, so override\n            // note: abuse others for its ignoring the value accessor\n            pieData = pieLayout([{key: this._emptyTitle, value: 1, others: [this._emptyTitle]}]);\n            this._g.classed(this._emptyCssClass, true);\n        }\n\n        if (this._g) {\n            const slices = this._g.select(`g.${this._sliceGroupCssClass}`)\n                .selectAll(`g.${this._sliceCssClass}`)\n                .data(pieData);\n\n            const labels = this._g.select(`g.${this._labelGroupCssClass}`)\n                .selectAll(`text.${this._labelCssClass}`)\n                .data(pieData);\n\n            this._removeElements(slices, labels);\n\n            this._createElements(slices, labels, arcs, pieData);\n\n            this._updateElements(pieData, arcs);\n\n            this._highlightFilter();\n\n            transition(this._g, this.transitionDuration(), this.transitionDelay())\n                .attr('transform', `translate(${this.cx()},${this.cy()})`);\n        }\n    }\n\n    _createElements (slices, labels, arcs, pieData) {\n        const slicesEnter = this._createSliceNodes(slices);\n\n        this._createSlicePath(slicesEnter, arcs);\n\n        this._createTitles(slicesEnter);\n\n        this._createLabels(labels, pieData, arcs);\n    }\n\n    _createSliceNodes (slices) {\n        return slices\n            .enter()\n            .append('g')\n            .attr('class', (d, i) => `${this._sliceCssClass} _${i}`)\n            .classed('dc-tabbable', this._keyboardAccessible);\n    }\n\n    _createSlicePath (slicesEnter, arcs) {\n        const slicePath = slicesEnter.append('path')\n            .attr('fill', (d, i) => this._fill(d, i))\n            .on('click', adaptHandler(d => this._onClick(d)))\n            .attr('d', (d, i) => this._safeArc(d, i, arcs));\n\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible(this._onClick);\n        }\n\n        const tranNodes = transition(slicePath, this.transitionDuration(), this.transitionDelay());\n        if (tranNodes.attrTween) {\n            const chart = this;\n            tranNodes.attrTween('d', function (d) {\n                return chart._tweenPie(d, this);\n            });\n        }\n    }\n\n    _createTitles (slicesEnter) {\n        if (this.renderTitle()) {\n            slicesEnter.append('title').text(d => this.title()(d.data));\n        }\n    }\n\n    _applyLabelText (labels) {\n        labels\n            .text(d => {\n                const data = d.data;\n                if ((this._sliceHasNoData(data) || this._sliceTooSmall(d)) && !this._isSelectedSlice(d)) {\n                    return '';\n                }\n                return this.label()(d.data);\n            });\n    }\n\n    _positionLabels (labels, arcs) {\n        this._applyLabelText(labels);\n        transition(labels, this.transitionDuration(), this.transitionDelay())\n            .attr('transform', d => this._labelPosition(d, arcs))\n            .attr('text-anchor', 'middle');\n    }\n\n    _highlightSlice (i, whether) {\n        this.select(`g.pie-slice._${i}`)\n            .classed('highlight', whether);\n    }\n\n    _createLabels (labels, pieData, arcs) {\n        if (this.renderLabel()) {\n            const labelsEnter = labels\n                .enter()\n                .append('text')\n                .attr('class', (d, i) => {\n                    let classes = `${this._sliceCssClass} ${this._labelCssClass} _${i}`;\n                    if (this._externalLabelRadius) {\n                        classes += ' external';\n                    }\n                    return classes;\n                })\n                .on('click', adaptHandler(d => this._onClick(d)))\n                .on('mouseover', adaptHandler(d => {\n                    this._highlightSlice(d.index, true);\n                }))\n                .on('mouseout', adaptHandler(d => {\n                    this._highlightSlice(d.index, false);\n                }));\n            this._positionLabels(labelsEnter, arcs);\n            if (this._externalLabelRadius && this._drawPaths) {\n                this._updateLabelPaths(pieData, arcs);\n            }\n        }\n    }\n\n    _updateLabelPaths (pieData, arcs) {\n        let polyline = this._g.selectAll(`polyline.${this._sliceCssClass}`)\n            .data(pieData);\n\n        polyline.exit().remove();\n\n        polyline = polyline\n            .enter()\n            .append('polyline')\n            .attr('class', (d, i) => `pie-path _${i} ${this._sliceCssClass}`)\n            .on('click', adaptHandler(d => this._onClick(d)))\n            .on('mouseover', adaptHandler(d => {\n                this._highlightSlice(d.index, true);\n            }))\n            .on('mouseout', adaptHandler(d => {\n                this._highlightSlice(d.index, false);\n            }))\n            .merge(polyline);\n\n        const arc2 = arc()\n            .outerRadius(this._radius - this._externalRadiusPadding + this._externalLabelRadius)\n            .innerRadius(this._radius - this._externalRadiusPadding);\n        const tranNodes = transition(polyline, this.transitionDuration(), this.transitionDelay());\n        // this is one rare case where d3.selection differs from d3.transition\n        if (tranNodes.attrTween) {\n            tranNodes\n                .attrTween('points', function (d) {\n                    let current = this._current || d;\n                    current = {startAngle: current.startAngle, endAngle: current.endAngle};\n                    const _interpolate = interpolate(current, d);\n                    this._current = _interpolate(0);\n                    return t => {\n                        const d2 = _interpolate(t);\n                        return [arcs.centroid(d2), arc2.centroid(d2)];\n                    };\n                });\n        } else {\n            tranNodes.attr('points', d => [arcs.centroid(d), arc2.centroid(d)]);\n        }\n        tranNodes.style('visibility', d => d.endAngle - d.startAngle < 0.0001 ? 'hidden' : 'visible');\n\n    }\n\n    _updateElements (pieData, arcs) {\n        this._updateSlicePaths(pieData, arcs);\n        this._updateLabels(pieData, arcs);\n        this._updateTitles(pieData);\n    }\n\n    _updateSlicePaths (pieData, arcs) {\n        const slicePaths = this._g.selectAll(`g.${this._sliceCssClass}`)\n            .data(pieData)\n            .select('path')\n            .attr('d', (d, i) => this._safeArc(d, i, arcs));\n        const tranNodes = transition(slicePaths, this.transitionDuration(), this.transitionDelay());\n        if (tranNodes.attrTween) {\n            const chart = this;\n            tranNodes.attrTween('d', function (d) {\n                return chart._tweenPie(d, this);\n            });\n        }\n        tranNodes.attr('fill', (d, i) => this._fill(d, i));\n    }\n\n    _updateLabels (pieData, arcs) {\n        if (this.renderLabel()) {\n            const labels = this._g.selectAll(`text.${this._labelCssClass}`)\n                .data(pieData);\n            this._positionLabels(labels, arcs);\n            if (this._externalLabelRadius && this._drawPaths) {\n                this._updateLabelPaths(pieData, arcs);\n            }\n        }\n    }\n\n    _updateTitles (pieData) {\n        if (this.renderTitle()) {\n            this._g.selectAll(`g.${this._sliceCssClass}`)\n                .data(pieData)\n                .select('title')\n                .text(d => this.title()(d.data));\n        }\n    }\n\n    _removeElements (slices, labels) {\n        slices.exit().remove();\n        labels.exit().remove();\n    }\n\n    _highlightFilter () {\n        const chart = this;\n        if (this.hasFilter()) {\n            this.selectAll(`g.${this._sliceCssClass}`).each(function (d) {\n                if (chart._isSelectedSlice(d)) {\n                    chart.highlightSelected(this);\n                } else {\n                    chart.fadeDeselected(this);\n                }\n            });\n        } else {\n            this.selectAll(`g.${this._sliceCssClass}`).each(function () {\n                chart.resetHighlight(this);\n            });\n        }\n    }\n\n    /**\n     * Get or set the external radius padding of the pie chart. This will force the radius of the\n     * pie chart to become smaller or larger depending on the value.\n     * @param {Number} [externalRadiusPadding=0]\n     * @returns {Number|PieChart}\n     */\n    externalRadiusPadding (externalRadiusPadding) {\n        if (!arguments.length) {\n            return this._externalRadiusPadding;\n        }\n        this._externalRadiusPadding = externalRadiusPadding;\n        return this;\n    }\n\n    /**\n     * Get or set the inner radius of the pie chart. If the inner radius is greater than 0px then the\n     * pie chart will be rendered as a doughnut chart.\n     * @param {Number} [innerRadius=0]\n     * @returns {Number|PieChart}\n     */\n    innerRadius (innerRadius) {\n        if (!arguments.length) {\n            return this._innerRadius;\n        }\n        this._innerRadius = innerRadius;\n        return this;\n    }\n\n    /**\n     * Get or set the outer radius. If the radius is not set, it will be half of the minimum of the\n     * chart width and height.\n     * @param {Number} [radius]\n     * @returns {Number|PieChart}\n     */\n    radius (radius) {\n        if (!arguments.length) {\n            return this._givenRadius;\n        }\n        this._givenRadius = radius;\n        return this;\n    }\n\n    /**\n     * Get or set center x coordinate position. Default is center of svg.\n     * @param {Number} [cx]\n     * @returns {Number|PieChart}\n     */\n    cx (cx) {\n        if (!arguments.length) {\n            return (this._cx || this.width() / 2);\n        }\n        this._cx = cx;\n        return this;\n    }\n\n    /**\n     * Get or set center y coordinate position. Default is center of svg.\n     * @param {Number} [cy]\n     * @returns {Number|PieChart}\n     */\n    cy (cy) {\n        if (!arguments.length) {\n            return (this._cy || this.height() / 2);\n        }\n        this._cy = cy;\n        return this;\n    }\n\n    _buildArcs () {\n        return arc()\n            .outerRadius(this._radius - this._externalRadiusPadding)\n            .innerRadius(this._innerRadius);\n    }\n\n    _isSelectedSlice (d) {\n        return this.hasFilter(this.cappedKeyAccessor(d.data));\n    }\n\n    _doRedraw () {\n        this._drawChart();\n        return this;\n    }\n\n    /**\n     * Get or set the minimal slice angle for label rendering. Any slice with a smaller angle will not\n     * display a slice label.\n     * @param {Number} [minAngleForLabel=0.5]\n     * @returns {Number|PieChart}\n     */\n    minAngleForLabel (minAngleForLabel) {\n        if (!arguments.length) {\n            return this._minAngleForLabel;\n        }\n        this._minAngleForLabel = minAngleForLabel;\n        return this;\n    }\n\n    _pieLayout () {\n        return pie().sort(null).value(d => this.cappedValueAccessor(d));\n    }\n\n    _sliceTooSmall (d) {\n        const angle = (d.endAngle - d.startAngle);\n        return isNaN(angle) || angle < this._minAngleForLabel;\n    }\n\n    _sliceHasNoData (d) {\n        return this.cappedValueAccessor(d) === 0;\n    }\n\n    _isOffCanvas (current) {\n        return !current || isNaN(current.startAngle) || isNaN(current.endAngle);\n    }\n\n    _fill (d, i) {\n        return this.getColor(d.data, i);\n    }\n\n    _onClick (d) {\n        if (this._g.attr('class') !== this._emptyCssClass) {\n            this.onClick(d.data);\n        }\n    }\n\n    _safeArc (d, i, _arc) {\n        let path = _arc(d, i);\n        if (path.indexOf('NaN') >= 0) {\n            path = 'M0,0';\n        }\n        return path;\n    }\n\n    /**\n     * Title to use for the only slice when there is no data.\n     * @param {String} [title]\n     * @returns {String|PieChart}\n     */\n    emptyTitle (title) {\n        if (arguments.length === 0) {\n            return this._emptyTitle;\n        }\n        this._emptyTitle = title;\n        return this;\n    }\n\n    /**\n     * Position slice labels offset from the outer edge of the chart.\n     *\n     * The argument specifies the extra radius to be added for slice labels.\n     * @param {Number} [externalLabelRadius]\n     * @returns {Number|PieChart}\n     */\n    externalLabels (externalLabelRadius) {\n        if (arguments.length === 0) {\n            return this._externalLabelRadius;\n        } else if (externalLabelRadius) {\n            this._externalLabelRadius = externalLabelRadius;\n        } else {\n            this._externalLabelRadius = undefined;\n        }\n\n        return this;\n    }\n\n    /**\n     * Get or set whether to draw lines from pie slices to their labels.\n     *\n     * @param {Boolean} [drawPaths]\n     * @returns {Boolean|PieChart}\n     */\n    drawPaths (drawPaths) {\n        if (arguments.length === 0) {\n            return this._drawPaths;\n        }\n        this._drawPaths = drawPaths;\n        return this;\n    }\n\n    _labelPosition (d, _arc) {\n        let centroid;\n        if (this._externalLabelRadius) {\n            centroid = arc()\n                .outerRadius(this._radius - this._externalRadiusPadding + this._externalLabelRadius)\n                .innerRadius(this._radius - this._externalRadiusPadding + this._externalLabelRadius)\n                .centroid(d);\n        } else {\n            centroid = _arc.centroid(d);\n        }\n        if (isNaN(centroid[0]) || isNaN(centroid[1])) {\n            return 'translate(0,0)';\n        } else {\n            return `translate(${centroid})`;\n        }\n    }\n\n    legendables () {\n        return this.data().map((d, i) => {\n            const legendable = {name: d.key, data: d.value, others: d.others, chart: this};\n            legendable.color = this.getColor(d, i);\n            return legendable;\n        });\n    }\n\n    legendHighlight (d) {\n        this._highlightSliceFromLegendable(d, true);\n    }\n\n    legendReset (d) {\n        this._highlightSliceFromLegendable(d, false);\n    }\n\n    legendToggle (d) {\n        this.onClick({key: d.name, others: d.others});\n    }\n\n    _highlightSliceFromLegendable (legendable, highlighted) {\n        this.selectAll('g.pie-slice').each(function (d) {\n            if (legendable.name === d.data.key) {\n                select(this).classed('highlight', highlighted);\n            }\n        });\n    }\n\n    _tweenPie (b, element) {\n        b.innerRadius = this._innerRadius;\n        let current = element._current;\n        if (this._isOffCanvas(current)) {\n            current = {startAngle: 0, endAngle: 0};\n        } else {\n            // only interpolate startAngle & endAngle, not the whole data object\n            current = {startAngle: current.startAngle, endAngle: current.endAngle};\n        }\n        const i = interpolate(current, b);\n        element._current = i(0);\n        return t => this._safeArc(i(t), 0, this._buildArcs());\n    }\n\n\n}\n\nexport const pieChart = (parent, chartGroup) => new PieChart(parent, chartGroup);\n","import {extent} from 'd3-array';\nimport {axisBottom} from 'd3-axis';\nimport {scaleLinear} from 'd3-scale';\n\nimport {CapMixin} from '../base/cap-mixin';\nimport {MarginMixin} from '../base/margin-mixin';\nimport {ColorMixin} from '../base/color-mixin';\nimport {transition} from '../core/core';\nimport {adaptHandler} from '../core/d3compat';\n\n/**\n * Concrete row chart implementation.\n *\n * Examples:\n * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n * @mixes CapMixin\n * @mixes MarginMixin\n * @mixes ColorMixin\n * @mixes BaseMixin\n */\nexport class RowChart extends CapMixin(ColorMixin(MarginMixin)) {\n    /**\n     * Create a Row Chart.\n     * @example\n     * // create a row chart under #chart-container1 element using the default global chart group\n     * var chart1 = new RowChart('#chart-container1');\n     * // create a row chart under #chart-container2 element using chart group A\n     * var chart2 = new RowChart('#chart-container2', 'chartGroupA');\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._g = undefined;\n\n        this._labelOffsetX = 10;\n        this._labelOffsetY = 15;\n        this._hasLabelOffsetY = false;\n        this._dyOffset = '0.35em'; // this helps center labels https://github.com/d3/d3-3.x-api-reference/blob/master/SVG-Shapes.md#svg_text\n        this._titleLabelOffsetX = 2;\n\n        this._gap = 5;\n\n        this._fixedBarHeight = false;\n        this._rowCssClass = 'row';\n        this._titleRowCssClass = 'titlerow';\n        this._renderTitleLabel = false;\n\n        this._x = undefined;\n\n        this._elasticX = undefined;\n\n        this._xAxis = axisBottom();\n\n        this._rowData = undefined;\n\n        this.rowsCap = this.cap;\n\n        this.title(d => `${this.cappedKeyAccessor(d)}: ${this.cappedValueAccessor(d)}`);\n\n        this.label(d => this.cappedKeyAccessor(d));\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _calculateAxisScale () {\n        if (!this._x || this._elasticX) {\n            const _extent = extent(this._rowData, d => this.cappedValueAccessor(d));\n            if (_extent[0] > 0) {\n                _extent[0] = 0;\n            }\n            if (_extent[1] < 0) {\n                _extent[1] = 0;\n            }\n            this._x = scaleLinear().domain(_extent)\n                .range([0, this.effectiveWidth()]);\n        }\n        this._xAxis.scale(this._x);\n    }\n\n    _drawAxis () {\n        let axisG = this._g.select('g.axis');\n\n        this._calculateAxisScale();\n\n        if (axisG.empty()) {\n            axisG = this._g.append('g').attr('class', 'axis');\n        }\n        axisG.attr('transform', `translate(0, ${this.effectiveHeight()})`);\n\n        transition(axisG, this.transitionDuration(), this.transitionDelay())\n            .call(this._xAxis);\n    }\n\n    _doRender () {\n        this.resetSvg();\n\n        this._g = this.svg()\n            .append('g')\n            .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n\n        this._drawChart();\n\n        return this;\n    }\n\n    /**\n     * Gets or sets the x scale. The x scale can be any d3\n     * {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}.\n     * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n     * @param {d3.scale} [scale]\n     * @returns {d3.scale|RowChart}\n     */\n    x (scale) {\n        if (!arguments.length) {\n            return this._x;\n        }\n        this._x = scale;\n        return this;\n    }\n\n    _drawGridLines () {\n        this._g.selectAll('g.tick')\n            .select('line.grid-line')\n            .remove();\n\n        this._g.selectAll('g.tick')\n            .append('line')\n            .attr('class', 'grid-line')\n            .attr('x1', 0)\n            .attr('y1', 0)\n            .attr('x2', 0)\n            .attr('y2', () => -this.effectiveHeight());\n    }\n\n    _drawChart () {\n        this._rowData = this.data();\n\n        this._drawAxis();\n        this._drawGridLines();\n\n        let rows = this._g.selectAll(`g.${this._rowCssClass}`)\n            .data(this._rowData);\n\n        this._removeElements(rows);\n        rows = this._createElements(rows)\n            .merge(rows);\n        this._updateElements(rows);\n    }\n\n    _createElements (rows) {\n        const rowEnter = rows.enter()\n            .append('g')\n            .attr('class', (d, i) => `${this._rowCssClass} _${i}`);\n\n        rowEnter.append('rect').attr('width', 0);\n\n        this._createLabels(rowEnter);\n\n        return rowEnter;\n    }\n\n    _removeElements (rows) {\n        rows.exit().remove();\n    }\n\n    _rootValue () {\n        const root = this._x(0);\n        return (root === -Infinity || root !== root) ? this._x(1) : root;\n    }\n\n    _updateElements (rows) {\n        const n = this._rowData.length;\n\n        let height;\n        if (!this._fixedBarHeight) {\n            height = (this.effectiveHeight() - (n + 1) * this._gap) / n;\n        } else {\n            height = this._fixedBarHeight;\n        }\n\n        // vertically align label in center unless they override the value via property setter\n        if (!this._hasLabelOffsetY) {\n            this._labelOffsetY = height / 2;\n        }\n\n        const rect = rows.attr('transform', (d, i) => `translate(0,${(i + 1) * this._gap + i * height})`).select('rect')\n            .attr('height', height)\n            .attr('fill', this.getColor)\n            .on('click', adaptHandler(d => this._onClick(d)))\n            .classed('dc-tabbable', this._keyboardAccessible)\n            .classed('deselected', d => (this.hasFilter()) ? !this._isSelectedRow(d) : false)\n            .classed('selected', d => (this.hasFilter()) ? this._isSelectedRow(d) : false);\n\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible(adaptHandler(d => this._onClick(d)));\n        }\n\n        transition(rect, this.transitionDuration(), this.transitionDelay())\n            .attr('width', d => Math.abs(this._rootValue() - this._x(this.cappedValueAccessor(d))))\n            .attr('transform', d => this._translateX(d));\n\n        this._createTitles(rows);\n        this._updateLabels(rows);\n    }\n\n    _createTitles (rows) {\n        if (this.renderTitle()) {\n            rows.select('title').remove();\n            rows.append('title').text(this.title());\n        }\n    }\n\n    _createLabels (rowEnter) {\n        if (this.renderLabel()) {\n            rowEnter.append('text')\n                .on('click', adaptHandler(d => this._onClick(d)));\n        }\n        if (this.renderTitleLabel()) {\n            rowEnter.append('text')\n                .attr('class', this._titleRowCssClass)\n                .on('click', adaptHandler(d => this._onClick(d)));\n        }\n    }\n\n    _updateLabels (rows) {\n        if (this.renderLabel()) {\n            const lab = rows.select('text')\n                .attr('x', this._labelOffsetX)\n                .attr('y', this._labelOffsetY)\n                .attr('dy', this._dyOffset)\n                .on('click', adaptHandler(d => this._onClick(d)))\n                .attr('class', (d, i) => `${this._rowCssClass} _${i}`)\n                .text(d => this.label()(d));\n            transition(lab, this.transitionDuration(), this.transitionDelay())\n                .attr('transform', d => this._translateX(d));\n        }\n        if (this.renderTitleLabel()) {\n            const titlelab = rows.select(`.${this._titleRowCssClass}`)\n                .attr('x', this.effectiveWidth() - this._titleLabelOffsetX)\n                .attr('y', this._labelOffsetY)\n                .attr('dy', this._dyOffset)\n                .attr('text-anchor', 'end')\n                .on('click', adaptHandler(d => this._onClick(d)))\n                .attr('class', (d, i) => `${this._titleRowCssClass} _${i}`)\n                .text(d => this.title()(d));\n            transition(titlelab, this.transitionDuration(), this.transitionDelay())\n                .attr('transform', d => this._translateX(d));\n        }\n    }\n\n    /**\n     * Turn on/off Title label rendering (values) using SVG style of text-anchor 'end'.\n     * @param {Boolean} [renderTitleLabel=false]\n     * @returns {Boolean|RowChart}\n     */\n    renderTitleLabel (renderTitleLabel) {\n        if (!arguments.length) {\n            return this._renderTitleLabel;\n        }\n        this._renderTitleLabel = renderTitleLabel;\n        return this;\n    }\n\n    _onClick (d) {\n        this.onClick(d);\n    }\n\n    _translateX (d) {\n        const x = this._x(this.cappedValueAccessor(d)),\n            x0 = this._rootValue(),\n            s = x > x0 ? x0 : x;\n        return `translate(${s},0)`;\n    }\n\n    _doRedraw () {\n        this._drawChart();\n        return this;\n    }\n\n    /**\n     * Get or sets the x axis for the row chart instance.\n     * See the {@link https://github.com/d3/d3-axis/blob/master/README.md d3.axis}\n     * documention for more information.\n     * @param {d3.axis} [xAxis]\n     * @example\n     * // customize x axis tick format\n     * chart.xAxis().tickFormat(function (v) {return v + '%';});\n     * // customize x axis tick values\n     * chart.xAxis().tickValues([0, 100, 200, 300]);\n     * // use a top-oriented axis. Note: position of the axis and grid lines will need to\n     * // be set manually, see https://dc-js.github.io/dc.js/examples/row-top-axis.html\n     * chart.xAxis(d3.axisTop())\n     * @returns {d3.axis|RowChart}\n     */\n    xAxis (xAxis) {\n        if (!arguments.length) {\n            return this._xAxis;\n        }\n        this._xAxis = xAxis;\n        return this;\n    }\n\n    /**\n     * Get or set the fixed bar height. Default is [false] which will auto-scale bars.\n     * For example, if you want to fix the height for a specific number of bars (useful in TopN charts)\n     * you could fix height as follows (where count = total number of bars in your TopN and gap is\n     * your vertical gap space).\n     * @example\n     * chart.fixedBarHeight( chartheight - (count + 1) * gap / count);\n     * @param {Boolean|Number} [fixedBarHeight=false]\n     * @returns {Boolean|Number|RowChart}\n     */\n    fixedBarHeight (fixedBarHeight) {\n        if (!arguments.length) {\n            return this._fixedBarHeight;\n        }\n        this._fixedBarHeight = fixedBarHeight;\n        return this;\n    }\n\n    /**\n     * Get or set the vertical gap space between rows on a particular row chart instance.\n     * @param {Number} [gap=5]\n     * @returns {Number|RowChart}\n     */\n    gap (gap) {\n        if (!arguments.length) {\n            return this._gap;\n        }\n        this._gap = gap;\n        return this;\n    }\n\n    /**\n     * Get or set the elasticity on x axis. If this attribute is set to true, then the x axis will rescale to auto-fit the\n     * data range when filtered.\n     * @param {Boolean} [elasticX]\n     * @returns {Boolean|RowChart}\n     */\n    elasticX (elasticX) {\n        if (!arguments.length) {\n            return this._elasticX;\n        }\n        this._elasticX = elasticX;\n        return this;\n    }\n\n    /**\n     * Get or set the x offset (horizontal space to the top left corner of a row) for labels on a particular row chart.\n     * @param {Number} [labelOffsetX=10]\n     * @returns {Number|RowChart}\n     */\n    labelOffsetX (labelOffsetX) {\n        if (!arguments.length) {\n            return this._labelOffsetX;\n        }\n        this._labelOffsetX = labelOffsetX;\n        return this;\n    }\n\n    /**\n     * Get or set the y offset (vertical space to the top left corner of a row) for labels on a particular row chart.\n     * @param {Number} [labelOffsety=15]\n     * @returns {Number|RowChart}\n     */\n    labelOffsetY (labelOffsety) {\n        if (!arguments.length) {\n            return this._labelOffsetY;\n        }\n        this._labelOffsetY = labelOffsety;\n        this._hasLabelOffsetY = true;\n        return this;\n    }\n\n    /**\n     * Get of set the x offset (horizontal space between right edge of row and right edge or text.\n     * @param {Number} [titleLabelOffsetX=2]\n     * @returns {Number|RowChart}\n     */\n    titleLabelOffsetX (titleLabelOffsetX) {\n        if (!arguments.length) {\n            return this._titleLabelOffsetX;\n        }\n        this._titleLabelOffsetX = titleLabelOffsetX;\n        return this;\n    }\n\n    _isSelectedRow (d) {\n        return this.hasFilter(this.cappedKeyAccessor(d));\n    }\n}\n\nexport const rowChart = (parent, chartGroup) => new RowChart(parent, chartGroup);\n","import {symbol} from 'd3-shape';\nimport {select} from 'd3-selection';\nimport {brush} from 'd3-brush';\nimport {ascending} from 'd3-array'\n\nimport {CoordinateGridMixin} from '../base/coordinate-grid-mixin';\nimport {optionalTransition, transition} from '../core/core';\nimport {filters} from '../core/filters';\nimport {constants} from '../core/constants';\nimport {events} from '../core/events';\n\n/**\n * A scatter plot chart\n *\n * Examples:\n * - {@link http://dc-js.github.io/dc.js/examples/scatter.html Scatter Chart}\n * - {@link http://dc-js.github.io/dc.js/examples/multi-scatter.html Multi-Scatter Chart}\n * @mixes CoordinateGridMixin\n */\nexport class ScatterPlot extends CoordinateGridMixin {\n    /**\n     * Create a Scatter Plot.\n     * @example\n     * // create a scatter plot under #chart-container1 element using the default global chart group\n     * var chart1 = new ScatterPlot('#chart-container1');\n     * // create a scatter plot under #chart-container2 element using chart group A\n     * var chart2 = new ScatterPlot('#chart-container2', 'chartGroupA');\n     * // create a sub-chart under a composite parent chart\n     * var chart3 = new ScatterPlot(compositeChart);\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._symbol = symbol();\n\n        this._existenceAccessor = d => d.value;\n\n        const originalKeyAccessor = this.keyAccessor();\n        this.keyAccessor(d => originalKeyAccessor(d)[0]);\n        this.valueAccessor(d => originalKeyAccessor(d)[1]);\n        this.colorAccessor(() => this._groupName);\n\n        // this basically just counteracts the setting of its own key/value accessors\n        // see https://github.com/dc-js/dc.js/issues/702\n        this.title(d => `${this.keyAccessor()(d)},${this.valueAccessor()(d)}: ${this.existenceAccessor()(d)}`);\n\n        this._highlightedSize = 7;\n        this._symbolSize = 5;\n        this._excludedSize = 3;\n        this._excludedColor = null;\n        this._excludedOpacity = 1.0;\n        this._emptySize = 0;\n        this._emptyOpacity = 0;\n        this._nonemptyOpacity = 1;\n        this._emptyColor = null;\n        this._filtered = [];\n        this._canvas = null;\n        this._context = null;\n        this._useCanvas = false;\n\n\n        // Use a 2 dimensional brush\n        this.brush(brush());\n\n        this._symbol.size((d, i) => this._elementSize(d, i));\n\n        this.anchor(parent, chartGroup);\n    }\n\n    // Calculates element radius for canvas plot to be comparable to D3 area based symbol sizes\n    _canvasElementSize (d, isFiltered) {\n        if (!this._existenceAccessor(d)) {\n            return this._emptySize / Math.sqrt(Math.PI);\n        } else if (isFiltered) {\n            return this._symbolSize / Math.sqrt(Math.PI);\n        } else {\n            return this._excludedSize / Math.sqrt(Math.PI);\n        }\n    }\n\n    _elementSize (d, i) {\n        if (!this._existenceAccessor(d)) {\n            return Math.pow(this._emptySize, 2);\n        } else if (this._filtered[i]) {\n            return Math.pow(this._symbolSize, 2);\n        } else {\n            return Math.pow(this._excludedSize, 2);\n        }\n    }\n\n    _locator (d) {\n        return `translate(${this.x()(this.keyAccessor()(d))},${ \n            this.y()(this.valueAccessor()(d))})`;\n    }\n\n    filter (filter) {\n        if (!arguments.length) {\n            return super.filter();\n        }\n\n        return super.filter(filters.RangedTwoDimensionalFilter(filter));\n    }\n\n    /**\n     * Method that replaces original resetSvg and appropriately inserts canvas\n     * element along with svg element and sets their CSS properties appropriately\n     * so they are overlapped on top of each other.\n     * Remove the chart's SVGElements from the dom and recreate the container SVGElement.\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/SVGElement SVGElement}\n     * @returns {SVGElement}\n     */\n    resetSvg () {\n        if (!this._useCanvas) {\n            return super.resetSvg();\n        } else {\n            super.resetSvg(); // Perform original svgReset inherited from baseMixin\n            this.select('canvas').remove(); // remove old canvas\n\n            const svgSel = this.svg();\n            const rootSel = this.root();\n\n            // Set root node to relative positioning and svg to absolute\n            rootSel.style('position', 'relative');\n            svgSel.style('position', 'relative');\n\n            // Check if SVG element already has any extra top/left CSS offsets\n            const svgLeft = isNaN(parseInt(svgSel.style('left'), 10)) ? 0 : parseInt(svgSel.style('left'), 10);\n            const svgTop = isNaN(parseInt(svgSel.style('top'), 10)) ? 0 : parseInt(svgSel.style('top'), 10);\n            const width = this.effectiveWidth();\n            const height = this.effectiveHeight();\n            const margins = this.margins(); // {top: 10, right: 130, bottom: 42, left: 42}\n\n            // Add the canvas element such that it perfectly overlaps the plot area of the scatter plot SVG\n            const devicePixelRatio = window.devicePixelRatio || 1;\n            this._canvas = this.root().append('canvas')\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('width', (width) * devicePixelRatio)\n                .attr('height', (height) * devicePixelRatio)\n                .style('width', `${width}px`)\n                .style('height', `${height}px`)\n                .style('position', 'absolute')\n                .style('top', `${margins.top + svgTop}px`)\n                .style('left', `${margins.left + svgLeft}px`)\n                .style('z-index', -1) // Place behind SVG\n                .style('pointer-events', 'none'); // Disable pointer events on canvas so SVG can capture brushing\n\n            // Define canvas context and set clipping path\n            this._context = this._canvas.node().getContext('2d');\n            this._context.scale(devicePixelRatio, devicePixelRatio);\n            this._context.rect(0, 0, width, height);\n            this._context.clip(); // Setup clipping path\n            this._context.imageSmoothingQuality = 'high';\n\n            return this.svg(); // Respect original return param for this.resetSvg;\n        }\n    }\n\n    _resizeCanvas () {\n        const width = this.effectiveWidth();\n        const height = this.effectiveHeight();\n\n        const devicePixelRatio = window.devicePixelRatio || 1;\n        this._canvas\n            .attr('width', (width) * devicePixelRatio)\n            .attr('height', (height) * devicePixelRatio)\n            .style('width', `${width}px`)\n            .style('height', `${height}px`);\n        this._context.scale(devicePixelRatio, devicePixelRatio);\n    }\n\n\n    /**\n     * Set or get whether to use canvas backend for plotting scatterPlot. Note that the\n     * canvas backend does not currently support\n     * {@link ScatterPlot#customSymbol customSymbol} or\n     * {@link ScatterPlot#symbol symbol} methods and is limited to always plotting\n     * with filled circles. Symbols are drawn with\n     * {@link ScatterPlot#symbolSize symbolSize} radius. By default, the SVG backend\n     * is used when `useCanvas` is set to `false`.\n     * @param {Boolean} [useCanvas=false]\n     * @return {Boolean|d3.selection}\n     */\n    useCanvas (useCanvas) {\n        if (!arguments.length) {\n            return this._useCanvas;\n        }\n        this._useCanvas = useCanvas;\n        return this;\n    }\n\n    /**\n     * Set or get canvas element. You should usually only ever use the get method as\n     * dc.js will handle canvas element generation.  Provides valid canvas only when\n     * {@link ScatterPlot#useCanvas useCanvas} is set to `true`\n     * @param {CanvasElement|d3.selection} [canvasElement]\n     * @return {CanvasElement|d3.selection}\n     */\n    canvas (canvasElement) {\n        if (!arguments.length) {\n            return this._canvas;\n        }\n        this._canvas = canvasElement;\n        return this;\n    }\n\n    /**\n     * Get canvas 2D context. Provides valid context only when\n     * {@link ScatterPlot#useCanvas useCanvas} is set to `true`\n     * @return {CanvasContext}\n     */\n    context () {\n        return this._context;\n    }\n\n    /*eslint complexity: [2,11] */\n    // Plots data on canvas element. If argument provided, assumes legend is\n    // currently being highlighted and modifies opacity/size of symbols accordingly\n    // @param {Object} [legendHighlightDatum] - Datum provided to legendHighlight method\n    _plotOnCanvas (legendHighlightDatum) {\n        this._resizeCanvas();\n        const context = this.context();\n        context.clearRect(0, 0, (context.canvas.width + 2) * 1, (context.canvas.height + 2) * 1);\n        const data = this.data();\n\n        // Draw the data on canvas\n        data.forEach((d, i) => {\n            const isFiltered = !this.filter() || this.filter().isFiltered([d.key[0], d.key[1]]);\n            // Calculate opacity for current data point\n            let cOpacity = 1;\n            if (!this._existenceAccessor(d)) {\n                cOpacity = this._emptyOpacity;\n            } else if (isFiltered) {\n                cOpacity = this._nonemptyOpacity;\n            } else {\n                cOpacity = this.excludedOpacity();\n            }\n            // Calculate color for current data point\n            let cColor = null;\n            if (this._emptyColor && !this._existenceAccessor(d)) {\n                cColor = this._emptyColor;\n            } else if (this.excludedColor() && !isFiltered) {\n                cColor = this.excludedColor();\n            } else {\n                cColor = this.getColor(d);\n            }\n            let cSize = this._canvasElementSize(d, isFiltered);\n\n            // Adjust params for data points if legend is highlighted\n            if (legendHighlightDatum) {\n                const isHighlighted = (cColor === legendHighlightDatum.color);\n                // Calculate opacity for current data point\n                const fadeOutOpacity = 0.1; // TODO: Make this programmatically setable\n                if (!isHighlighted) { // Fade out non-highlighted colors + highlighted colors outside filter\n                    cOpacity = fadeOutOpacity;\n                }\n                if (isHighlighted) { // Set size for highlighted color data points\n                    cSize = this._highlightedSize / Math.sqrt(Math.PI);\n                }\n            }\n\n            // Draw point on canvas\n            context.save();\n            context.globalAlpha = cOpacity;\n            context.beginPath();\n            context.arc(this.x()(this.keyAccessor()(d)), this.y()(this.valueAccessor()(d)), cSize, 0, 2 * Math.PI, true);\n            context.fillStyle = cColor;\n            context.fill();\n            // context.lineWidth = 0.5; // Commented out code to add stroke around scatter points if desired\n            // context.strokeStyle = '#333';\n            // context.stroke();\n            context.restore();\n        });\n    }\n\n    _plotOnSVG () {\n\n        const data = this.data();\n\n        if (this._keyboardAccessible) {\n            // sort based on the x value (key)\n            data.sort((a, b) => ascending(this.keyAccessor()(a), this.keyAccessor()(b)));\n        }\n\n        let symbols = this.chartBodyG().selectAll('path.symbol')\n            .data(data);\n\n        transition(symbols.exit(), this.transitionDuration(), this.transitionDelay())\n            .attr('opacity', 0).remove();\n\n        symbols = symbols\n            .enter()\n            .append('path')\n            .attr('class', 'symbol')\n            .classed('dc-tabbable', this._keyboardAccessible)\n            .attr('opacity', 0)\n            .attr('fill', this.getColor)\n            .attr('transform', d => this._locator(d))\n            .merge(symbols);\n\n        // no click handler - just tabindex for reading out of tooltips\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible();\n            symbols.order();\n        }\n\n        symbols.call(s => this._renderTitles(s, data));\n\n        symbols.each((d, i) => {\n            this._filtered[i] = !this.filter() || this.filter().isFiltered([this.keyAccessor()(d), this.valueAccessor()(d)]);\n        });\n\n        transition(symbols, this.transitionDuration(), this.transitionDelay())\n            .attr('opacity', (d, i) => {\n                if (!this._existenceAccessor(d)) {\n                    return this._emptyOpacity;\n                } else if (this._filtered[i]) {\n                    return this._nonemptyOpacity;\n                } else {\n                    return this.excludedOpacity();\n                }\n            })\n            .attr('fill', (d, i) => {\n                if (this._emptyColor && !this._existenceAccessor(d)) {\n                    return this._emptyColor;\n                } else if (this.excludedColor() && !this._filtered[i]) {\n                    return this.excludedColor();\n                } else {\n                    return this.getColor(d);\n                }\n            })\n            .attr('transform', d => this._locator(d))\n            .attr('d', this._symbol);\n    }\n\n    plotData () {\n        if (this._useCanvas) {\n            this._plotOnCanvas();\n        } else {\n            this._plotOnSVG();\n        }\n    }\n\n    _renderTitles (_symbol, _d) {\n        if (this.renderTitle()) {\n            _symbol.selectAll('title').remove();\n            _symbol.append('title').text(d => this.title()(d));\n        }\n    }\n\n    /**\n     * Get or set the existence accessor.  If a point exists, it is drawn with\n     * {@link ScatterPlot#symbolSize symbolSize} radius and\n     * opacity 1; if it does not exist, it is drawn with\n     * {@link ScatterPlot#emptySize emptySize} radius and opacity 0. By default,\n     * the existence accessor checks if the reduced value is truthy.\n     * @see {@link ScatterPlot#symbolSize symbolSize}\n     * @see {@link ScatterPlot#emptySize emptySize}\n     * @example\n     * // default accessor\n     * chart.existenceAccessor(function (d) { return d.value; });\n     * @param {Function} [accessor]\n     * @returns {Function|ScatterPlot}\n     */\n    existenceAccessor (accessor) {\n        if (!arguments.length) {\n            return this._existenceAccessor;\n        }\n        this._existenceAccessor = accessor;\n        return this;\n    }\n\n    /**\n     * Get or set the symbol type used for each point. By default the symbol is a circle (d3.symbolCircle).\n     * Type can be a constant or an accessor.\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_type symbol.type}\n     * @example\n     * // Circle type\n     * chart.symbol(d3.symbolCircle);\n     * // Square type\n     * chart.symbol(d3.symbolSquare);\n     * @param {Function} [type=d3.symbolCircle]\n     * @returns {Function|ScatterPlot}\n     */\n    symbol (type) {\n        if (!arguments.length) {\n            return this._symbol.type();\n        }\n        this._symbol.type(type);\n        return this;\n    }\n\n    /**\n     * Get or set the symbol generator. By default `ScatterPlot` will use\n     * {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol d3.symbol()}\n     * to generate symbols. `ScatterPlot` will set the\n     * {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size symbol size accessor}\n     * on the symbol generator.\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol d3.symbol}\n     * @see {@link https://stackoverflow.com/questions/25332120/create-additional-d3-js-symbols Create additional D3.js symbols}\n     * @param {String|Function} [customSymbol=d3.symbol()]\n     * @returns {String|Function|ScatterPlot}\n     */\n    customSymbol (customSymbol) {\n        if (!arguments.length) {\n            return this._symbol;\n        }\n        this._symbol = customSymbol;\n        this._symbol.size((d, i) => this._elementSize(d, i));\n        return this;\n    }\n\n    /**\n     * Set or get radius for symbols.\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size d3.symbol.size}\n     * @param {Number} [symbolSize=3]\n     * @returns {Number|ScatterPlot}\n     */\n    symbolSize (symbolSize) {\n        if (!arguments.length) {\n            return this._symbolSize;\n        }\n        this._symbolSize = symbolSize;\n        return this;\n    }\n\n    /**\n     * Set or get radius for highlighted symbols.\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size d3.symbol.size}\n     * @param {Number} [highlightedSize=5]\n     * @returns {Number|ScatterPlot}\n     */\n    highlightedSize (highlightedSize) {\n        if (!arguments.length) {\n            return this._highlightedSize;\n        }\n        this._highlightedSize = highlightedSize;\n        return this;\n    }\n\n    /**\n     * Set or get size for symbols excluded from this chart's filter. If null, no\n     * special size is applied for symbols based on their filter status.\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size d3.symbol.size}\n     * @param {Number} [excludedSize=null]\n     * @returns {Number|ScatterPlot}\n     */\n    excludedSize (excludedSize) {\n        if (!arguments.length) {\n            return this._excludedSize;\n        }\n        this._excludedSize = excludedSize;\n        return this;\n    }\n\n    /**\n     * Set or get color for symbols excluded from this chart's filter. If null, no\n     * special color is applied for symbols based on their filter status.\n     * @param {Number} [excludedColor=null]\n     * @returns {Number|ScatterPlot}\n     */\n    excludedColor (excludedColor) {\n        if (!arguments.length) {\n            return this._excludedColor;\n        }\n        this._excludedColor = excludedColor;\n        return this;\n    }\n\n    /**\n     * Set or get opacity for symbols excluded from this chart's filter.\n     * @param {Number} [excludedOpacity=1.0]\n     * @returns {Number|ScatterPlot}\n     */\n    excludedOpacity (excludedOpacity) {\n        if (!arguments.length) {\n            return this._excludedOpacity;\n        }\n        this._excludedOpacity = excludedOpacity;\n        return this;\n    }\n\n    /**\n     * Set or get radius for symbols when the group is empty.\n     * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size d3.symbol.size}\n     * @param {Number} [emptySize=0]\n     * @returns {Number|ScatterPlot}\n     */\n    emptySize (emptySize) {\n        if (!arguments.length) {\n            return this._emptySize;\n        }\n        this._emptySize = emptySize;\n        return this;\n    }\n\n    hiddenSize (emptySize) {\n        if (!arguments.length) {\n            return this.emptySize();\n        }\n        return this.emptySize(emptySize);\n    }\n\n    /**\n     * Set or get color for symbols when the group is empty. If null, just use the\n     * {@link ColorMixin#colors colorMixin.colors} color scale zero value.\n     * @param {String} [emptyColor=null]\n     * @return {String}\n     * @return {ScatterPlot}/\n     */\n    emptyColor (emptyColor) {\n        if (!arguments.length) {\n            return this._emptyColor;\n        }\n        this._emptyColor = emptyColor;\n        return this;\n    }\n\n    /**\n     * Set or get opacity for symbols when the group is empty.\n     * @param {Number} [emptyOpacity=0]\n     * @return {Number}\n     * @return {ScatterPlot}\n     */\n    emptyOpacity (emptyOpacity) {\n        if (!arguments.length) {\n            return this._emptyOpacity;\n        }\n        this._emptyOpacity = emptyOpacity;\n        return this;\n    }\n\n    /**\n     * Set or get opacity for symbols when the group is not empty.\n     * @param {Number} [nonemptyOpacity=1]\n     * @return {Number}\n     * @return {ScatterPlot}\n     */\n    nonemptyOpacity (nonemptyOpacity) {\n        if (!arguments.length) {\n            return this._emptyOpacity;\n        }\n        this._nonemptyOpacity = nonemptyOpacity;\n        return this;\n    }\n\n    legendables () {\n        return [{chart: this, name: this._groupName, color: this.getColor()}];\n    }\n\n    legendHighlight (d) {\n        if (this._useCanvas) {\n            this._plotOnCanvas(d); // Supply legend datum to plotOnCanvas\n        } else {\n            this._resizeSymbolsWhere(s => s.attr('fill') === d.color, this._highlightedSize);\n            this.chartBodyG().selectAll('.chart-body path.symbol').filter(function () {\n                return select(this).attr('fill') !== d.color;\n            }).classed('fadeout', true);\n        }\n    }\n\n    legendReset (d) {\n        if (this._useCanvas) {\n            this._plotOnCanvas(d); // Supply legend datum to plotOnCanvas\n        } else {\n            this._resizeSymbolsWhere(s => s.attr('fill') === d.color, this._symbolSize);\n            this.chartBodyG().selectAll('.chart-body path.symbol').filter(function () {\n                return select(this).attr('fill') !== d.color;\n            }).classed('fadeout', false);\n        }\n    }\n\n    _resizeSymbolsWhere (condition, size) {\n        const symbols = this.chartBodyG().selectAll('.chart-body path.symbol').filter(function () {\n            return condition(select(this));\n        });\n        const oldSize = this._symbol.size();\n        this._symbol.size(Math.pow(size, 2));\n        transition(symbols, this.transitionDuration(), this.transitionDelay()).attr('d', this._symbol);\n        this._symbol.size(oldSize);\n    }\n    createBrushHandlePaths () {\n        // no handle paths for poly-brushes\n    }\n\n    extendBrush (brushSelection) {\n        if (this.round()) {\n            brushSelection[0] = brushSelection[0].map(this.round());\n            brushSelection[1] = brushSelection[1].map(this.round());\n        }\n        return brushSelection;\n    }\n\n    brushIsEmpty (brushSelection) {\n        return !brushSelection || brushSelection[0][0] >= brushSelection[1][0] || brushSelection[0][1] >= brushSelection[1][1];\n    }\n\n    _brushing (evt) {\n        if (this._ignoreBrushEvents) {\n            return;\n        }\n\n        let brushSelection = evt.selection;\n\n        // Testing with pixels is more reliable\n        let brushIsEmpty = this.brushIsEmpty(brushSelection);\n\n        if (brushSelection) {\n            brushSelection = brushSelection.map(point => point.map((coord, i) => {\n                const scale = i === 0 ? this.x() : this.y();\n                return scale.invert(coord);\n            }));\n\n            brushSelection = this.extendBrush(brushSelection);\n\n            // The rounding process might have made brushSelection empty, so we need to recheck\n            brushIsEmpty = brushIsEmpty && this.brushIsEmpty(brushSelection);\n        }\n\n        this.redrawBrush(brushSelection, false);\n\n        const ranged2DFilter = brushIsEmpty ? null : filters.RangedTwoDimensionalFilter(brushSelection);\n\n        events.trigger(() => {\n            this.replaceFilter(ranged2DFilter);\n            this.redrawGroup();\n        }, constants.EVENT_DELAY);\n    }\n\n    redrawBrush (brushSelection, doTransition) {\n        // override default x axis brush from parent chart\n        this._gBrush = this.gBrush();\n\n        if (this.brushOn() && this._gBrush) {\n            if (this.resizing()) {\n                this.setBrushExtents(doTransition);\n            }\n\n            if (!brushSelection) {\n                this._withoutBrushEvents(() => {\n                    this._gBrush\n                        .call(this.brush().move, brushSelection);\n                });\n            } else {\n                brushSelection = brushSelection.map(point => point.map((coord, i) => {\n                    const scale = i === 0 ? this.x() : this.y();\n                    return scale(coord);\n                }));\n\n                const gBrush =\n                    optionalTransition(doTransition, this.transitionDuration(), this.transitionDelay())(this._gBrush);\n\n                this._withoutBrushEvents(() => {\n                    gBrush\n                        .call(this.brush().move, brushSelection);\n                });\n            }\n        }\n\n        this.fadeDeselectedArea(brushSelection);\n    }\n}\n\nexport const scatterPlot = (parent, chartGroup) => new ScatterPlot(parent, chartGroup);\n","import {events} from '../core/events';\nimport {BaseMixin} from '../base/base-mixin';\nimport {logger} from '../core/logger';\nimport {adaptHandler} from '../core/d3compat';\n\nconst SELECT_CSS_CLASS = 'dc-select-menu';\nconst OPTION_CSS_CLASS = 'dc-select-option';\n\n/**\n * The select menu is a simple widget designed to filter a dimension by selecting an option from\n * an HTML `<select/>` menu. The menu can be optionally turned into a multiselect.\n * @mixes BaseMixin\n */\nexport class SelectMenu extends BaseMixin {\n    /**\n     * Create a Select Menu.\n     * @example\n     * // create a select menu under #select-container using the default global chart group\n     * var select = new SelectMenu('#select-container')\n     *                .dimension(states)\n     *                .group(stateGroup);\n     * // the option text can be set via the title() function\n     * // by default the option text is '`key`: `value`'\n     * select.title(function (d){\n     *     return 'STATE: ' + d.key;\n     * })\n     * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n     * [d3 single selector](https://github.com/mbostock/d3/wiki/Selections#selecting-elements) specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this widget should be placed in.\n     * Interaction with the widget will only trigger events and redraws within its group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._select = undefined;\n        this._promptText = 'Select all';\n        this._multiple = false;\n        this._promptValue = null;\n        this._numberVisible = null;\n\n        this.data(group => group.all().filter(this._filterDisplayed));\n\n        this._filterDisplayed = d => this.valueAccessor()(d) > 0;\n\n        this._order = (a, b) => {\n            if (this.keyAccessor()(a) > this.keyAccessor()(b)) {\n                return 1;\n            }\n            if (this.keyAccessor()(a) < this.keyAccessor()(b)) {\n                return -1;\n            }\n            return 0;\n        };\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _doRender () {\n        this.select('select').remove();\n        this._select = this.root().append('select')\n            .classed(SELECT_CSS_CLASS, true);\n        this._select.append('option').text(this._promptText).attr('value', '');\n\n        this._doRedraw();\n        return this;\n    }\n\n    _doRedraw () {\n        this._setAttributes();\n        this._renderOptions();\n        // select the option(s) corresponding to current filter(s)\n        if (this.hasFilter() && this._multiple) {\n            this._select.selectAll('option')\n                .property('selected', d => typeof d !== 'undefined' && this.filters().indexOf(String(this.keyAccessor()(d))) >= 0);\n        } else if (this.hasFilter()) {\n            this._select.property('value', this.filter());\n        } else {\n            this._select.property('value', '');\n        }\n        return this;\n    }\n\n    _renderOptions () {\n        const options = this._select.selectAll(`option.${OPTION_CSS_CLASS}`)\n            .data(this.data(), d => this.keyAccessor()(d));\n\n        options.exit().remove();\n\n        options.enter()\n            .append('option')\n            .classed(OPTION_CSS_CLASS, true)\n            .attr('value', d => this.keyAccessor()(d))\n            .merge(options)\n            .text(this.title());\n\n        this._select.selectAll(`option.${OPTION_CSS_CLASS}`).sort(this._order);\n\n        this._select.on('change', adaptHandler((d, evt) => this._onChange(d, evt)));\n    }\n\n    _onChange (_d, evt) {\n        let values;\n\n        const target = evt.target;\n\n        if (target.selectedOptions) {\n            const selectedOptions = Array.prototype.slice.call(target.selectedOptions);\n            values = selectedOptions.map(d => d.value);\n        } else { // IE and other browsers do not support selectedOptions\n            // adapted from this polyfill: https://gist.github.com/brettz9/4212217\n            const options = [].slice.call(evt.target.options);\n            values = options.filter(option => option.selected).map(option => option.value);\n        }\n        // console.log(values);\n        // check if only prompt option is selected\n        if (values.length === 1 && values[0] === '') {\n            values = this._promptValue || null;\n        } else if (!this._multiple && values.length === 1) {\n            values = values[0];\n        }\n        this.onChange(values);\n    }\n\n    onChange (val) {\n        if (val && this._multiple) {\n            this.replaceFilter([val]);\n        } else if (val) {\n            this.replaceFilter(val);\n        } else {\n            this.filterAll();\n        }\n        events.trigger(() => {\n            this.redrawGroup();\n        });\n    }\n\n    _setAttributes () {\n        if (this._multiple) {\n            this._select.attr('multiple', true);\n        } else {\n            this._select.attr('multiple', null);\n        }\n        if (this._numberVisible !== null) {\n            this._select.attr('size', this._numberVisible);\n        } else {\n            this._select.attr('size', null);\n        }\n    }\n\n    /**\n     * Get or set the function that controls the ordering of option tags in the\n     * select menu. By default options are ordered by the group key in ascending\n     * order.\n     * @param {Function} [order]\n     * @returns {Function|SelectMenu}\n     * @example\n     * // order by the group's value\n     * chart.order(function (a,b) {\n     *     return a.value > b.value ? 1 : b.value > a.value ? -1 : 0;\n     * });\n     */\n    order (order) {\n        if (!arguments.length) {\n            return this._order;\n        }\n        this._order = order;\n        return this;\n    }\n\n    /**\n     * Get or set the text displayed in the options used to prompt selection.\n     * @param {String} [promptText='Select all']\n     * @returns {String|SelectMenu}\n     * @example\n     * chart.promptText('All states');\n     */\n    promptText (promptText) {\n        if (!arguments.length) {\n            return this._promptText;\n        }\n        this._promptText = promptText;\n        return this;\n    }\n\n    /**\n     * Get or set the function that filters option tags prior to display. By default options\n     * with a value of < 1 are not displayed.\n     * @param {function} [filterDisplayed]\n     * @returns {Function|SelectMenu}\n     * @example\n     * // display all options override the `filterDisplayed` function:\n     * chart.filterDisplayed(function () {\n     *     return true;\n     * });\n     */\n    filterDisplayed (filterDisplayed) {\n        if (!arguments.length) {\n            return this._filterDisplayed;\n        }\n        this._filterDisplayed = filterDisplayed;\n        return this;\n    }\n\n    /**\n     * Controls the type of select menu. Setting it to true converts the underlying\n     * HTML tag into a multiple select.\n     * @param {boolean} [multiple=false]\n     * @returns {boolean|SelectMenu}\n     * @example\n     * chart.multiple(true);\n     */\n    multiple (multiple) {\n        if (!arguments.length) {\n            return this._multiple;\n        }\n        this._multiple = multiple;\n\n        return this;\n    }\n\n    /**\n     * Controls the default value to be used for\n     * [dimension.filter](https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension_filter)\n     * when only the prompt value is selected. If `null` (the default), no filtering will occur when\n     * just the prompt is selected.\n     * @param {?*} [promptValue=null]\n     * @returns {*|SelectMenu}\n     */\n    promptValue (promptValue) {\n        if (!arguments.length) {\n            return this._promptValue;\n        }\n        this._promptValue = promptValue;\n\n        return this;\n    }\n\n    /**\n     * Controls the number of items to show in the select menu, when `.multiple()` is true. This\n     * controls the [`size` attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#Attributes) of\n     * the `select` element. If `null` (the default), uses the browser's default height.\n     * @param {?number} [numberVisible=null]\n     * @returns {number|SelectMenu}\n     * @example\n     * chart.numberVisible(10);\n     */\n    numberVisible (numberVisible) {\n        if (!arguments.length) {\n            return this._numberVisible;\n        }\n        this._numberVisible = numberVisible;\n\n        return this;\n    }\n\n    size (numberVisible) {\n        logger.warnOnce('selectMenu.size is ambiguous - use selectMenu.numberVisible instead');\n        if (!arguments.length) {\n            return this.numberVisible();\n        }\n        return this.numberVisible(numberVisible);\n    }\n}\n\nexport const selectMenu = (parent, chartGroup) => new SelectMenu(parent, chartGroup);\n","import {ascending} from 'd3-array';\n\nimport {CompositeChart} from './composite-chart';\nimport {lineChart} from './line-chart';\nimport {utils} from '../core/utils';\nimport {compatNestHelper} from '../core/d3compat';\n\n/**\n * A series chart is a chart that shows multiple series of data overlaid on one chart, where the\n * series is specified in the data. It is a specialization of Composite Chart and inherits all\n * composite features other than recomposing the chart.\n *\n * Examples:\n * - {@link http://dc-js.github.io/dc.js/examples/series.html Series Chart}\n * @mixes CompositeChart\n */\nexport class SeriesChart extends CompositeChart {\n    /**\n     * Create a Series Chart.\n     * @example\n     * // create a series chart under #chart-container1 element using the default global chart group\n     * var seriesChart1 = new SeriesChart(\"#chart-container1\");\n     * // create a series chart under #chart-container2 element using chart group A\n     * var seriesChart2 = new SeriesChart(\"#chart-container2\", \"chartGroupA\");\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super(parent, chartGroup);\n\n        this._keySort = (a, b) => ascending(this.keyAccessor()(a), this.keyAccessor()(b));\n\n        this._charts = {};\n        this._chartFunction = lineChart;\n        this._chartGroup = chartGroup;\n        this._seriesAccessor = undefined;\n        this._seriesSort = ascending;\n        this._valueSort = this._keySort;\n\n        this._mandatoryAttributes().push('seriesAccessor', 'chart');\n        this.shareColors(true);\n    }\n\n    _compose (subChartArray) {\n        super.compose(subChartArray);\n    }\n\n    compose (subChartArray) {\n        throw new Error('Not supported for this chart type');\n    }\n\n    _preprocessData () {\n        const keep = [];\n        let childrenChanged;\n\n        const nesting = compatNestHelper({\n            key: this._seriesAccessor,\n            sortKeys: this._seriesSort,\n            sortValues: this._valueSort,\n            entries: this.data()\n        });\n\n        const children =\n            nesting.map((sub, i) => {\n                const subChart = this._charts[sub.key] || this._chartFunction(this, this._chartGroup , sub.key, i);\n                if (!this._charts[sub.key]) {\n                    childrenChanged = true;\n                }\n                this._charts[sub.key] = subChart;\n                keep.push(sub.key);\n                return subChart\n                    .dimension(this.dimension())\n                    .group({\n                        all: typeof sub.values === 'function' ? sub.values : utils.constant(sub.values)\n                    }, sub.key)\n                    .keyAccessor(this.keyAccessor())\n                    .valueAccessor(this.valueAccessor())\n                    .brushOn(false);\n            });\n        // this works around the fact compositeChart doesn't really\n        // have a removal interface\n        Object.keys(this._charts)\n            .filter(c => keep.indexOf(c) === -1)\n            .forEach(c => {\n                this._clearChart(c);\n                childrenChanged = true;\n            });\n        this._compose(children);\n        if (childrenChanged && this.legend()) {\n            this.legend().render();\n        }\n    }\n\n    _clearChart (c) {\n        if (this._charts[c].g()) {\n            this._charts[c].g().remove();\n        }\n        delete this._charts[c];\n    }\n\n    _resetChildren () {\n        Object.keys(this._charts).map(this._clearChart.bind(this));\n        this._charts = {};\n    }\n\n    /**\n     * Get or set the chart function, which generates the child charts.\n     * @example\n     * // put curve on the line charts used for the series\n     * chart.chart(function(c) { return new LineChart(c).curve(d3.curveBasis); })\n     * // do a scatter series chart\n     * chart.chart(anchor => new ScatterPlot(anchor))\n     * @param {Function} [chartFunction= (anchor) =>  new LineChart(anchor)]\n     * @returns {Function|SeriesChart}\n     */\n    chart (chartFunction) {\n        if (!arguments.length) {\n            return this._chartFunction;\n        }\n        this._chartFunction = chartFunction;\n        this._resetChildren();\n        return this;\n    }\n\n    /**\n     * **mandatory**\n     *\n     * Get or set accessor function for the displayed series. Given a datum, this function\n     * should return the series that datum belongs to.\n     * @example\n     * // simple series accessor\n     * chart.seriesAccessor(function(d) { return \"Expt: \" + d.key[0]; })\n     * @param {Function} [accessor]\n     * @returns {Function|SeriesChart}\n     */\n    seriesAccessor (accessor) {\n        if (!arguments.length) {\n            return this._seriesAccessor;\n        }\n        this._seriesAccessor = accessor;\n        this._resetChildren();\n        return this;\n    }\n\n    /**\n     * Get or set a function to sort the list of series by, given series values.\n     * @see {@link https://github.com/d3/d3-array/blob/master/README.md#ascending d3.ascending}\n     * @see {@link https://github.com/d3/d3-array/blob/master/README.md#descending d3.descending}\n     * @example\n     * chart.seriesSort(d3.descending);\n     * @param {Function} [sortFunction=d3.ascending]\n     * @returns {Function|SeriesChart}\n     */\n    seriesSort (sortFunction) {\n        if (!arguments.length) {\n            return this._seriesSort;\n        }\n        this._seriesSort = sortFunction;\n        this._resetChildren();\n        return this;\n    }\n\n    /**\n     * Get or set a function to sort each series values by. By default this is the key accessor which,\n     * for example, will ensure a lineChart series connects its points in increasing key/x order,\n     * rather than haphazardly.\n     * @see {@link https://github.com/d3/d3-array/blob/master/README.md#ascending d3.ascending}\n     * @see {@link https://github.com/d3/d3-array/blob/master/README.md#descending d3.descending}\n     * @example\n     * // Default value sort\n     * _chart.valueSort(function keySort (a, b) {\n     *     return d3.ascending(_chart.keyAccessor()(a), _chart.keyAccessor()(b));\n     * });\n     * @param {Function} [sortFunction]\n     * @returns {Function|SeriesChart}\n     */\n    valueSort (sortFunction) {\n        if (!arguments.length) {\n            return this._valueSort;\n        }\n        this._valueSort = sortFunction;\n        this._resetChildren();\n        return this;\n    }\n\n}\n\nexport const seriesChart = (parent, chartGroup) => new SeriesChart(parent, chartGroup);\n","import {hierarchy, partition} from 'd3-hierarchy';\nimport {ascending, min, sum} from 'd3-array';\nimport {arc} from 'd3-shape';\nimport {select} from 'd3-selection';\nimport {interpolate} from 'd3-interpolate';\n\nimport {transition} from '../core/core';\nimport {filters} from '../core/filters';\nimport {utils, pluck} from '../core/utils';\nimport {adaptHandler} from '../core/d3compat';\nimport {events} from '../core/events';\nimport {ColorMixin} from '../base/color-mixin';\nimport {BaseMixin} from '../base/base-mixin';\nimport {constants} from '../core/constants';\nimport {BadArgumentException} from '../core/bad-argument-exception';\n\nconst DEFAULT_MIN_ANGLE_FOR_LABEL = 0.5;\n\n/**\n * The sunburst chart implementation is usually used to visualize a small tree distribution.  The sunburst\n * chart uses keyAccessor to determine the slices, and valueAccessor to calculate the size of each\n * slice relative to the sum of all values. Slices are ordered by {@link BaseMixin#ordering ordering} which defaults to sorting\n * by key.\n *\n * The keys used in the sunburst chart should be arrays, representing paths in the tree.\n *\n * When filtering, the sunburst chart creates instances of {@link Filters.HierarchyFilter HierarchyFilter}.\n *\n * @mixes CapMixin\n * @mixes ColorMixin\n * @mixes BaseMixin\n */\nexport class SunburstChart extends ColorMixin(BaseMixin) {\n    /**\n     * Create a Sunburst Chart\n     * @example\n     * // create a sunburst chart under #chart-container1 element using the default global chart group\n     * var chart1 = new SunburstChart('#chart-container1');\n     * // create a sunburst chart under #chart-container2 element using chart group A\n     * var chart2 = new SunburstChart('#chart-container2', 'chartGroupA');\n     *\n     * @param {String|node|d3.selection} parent - Any valid\n     * {@link https://github.com/d3/d3-3.x-api-reference/blob/master/Selections.md#selecting-elements d3 single selector} specifying\n     * a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._sliceCssClass = 'pie-slice';\n        this._emptyCssClass = 'empty-chart';\n        this._emptyTitle = 'empty';\n\n        this._radius = undefined;\n        this._givenRadius = undefined; // given radius, if any\n        this._innerRadius = 0;\n        this._ringSizes = null;\n\n        this._g = undefined;\n        this._cx = undefined;\n        this._cy = undefined;\n        this._minAngleForLabel = DEFAULT_MIN_ANGLE_FOR_LABEL;\n        this._externalLabelRadius = undefined;\n\n        this.colorAccessor(d => this.keyAccessor()(d));\n\n        // override cap mixin\n        this.ordering(pluck('key'));\n\n        this.title(d => `${this.keyAccessor()(d)}: ${this._extendedValueAccessor(d)}`);\n\n        this.label(d => this.keyAccessor()(d));\n        this.renderLabel(true);\n\n        this.transitionDuration(350);\n\n        this.anchor(parent, chartGroup);\n    }\n\n    // Handle cases if value corresponds to generated parent nodes\n    _extendedValueAccessor (d) {\n        if (d.path) {\n            return d.value;\n        }\n        return this.valueAccessor()(d);\n    }\n\n    _scaleRadius (ringIndex, y) {\n        if (ringIndex === 0) {\n            return this._innerRadius;\n        } else {\n            const customRelativeRadius = sum(this.ringSizes().relativeRingSizes.slice(0, ringIndex));\n            const scaleFactor = (ringIndex * (1 / this.ringSizes().relativeRingSizes.length)) /\n                  customRelativeRadius;\n            const standardRadius = (y - this.ringSizes().rootOffset) /\n                  (1 - this.ringSizes().rootOffset) * (this._radius - this._innerRadius);\n            return this._innerRadius + standardRadius / scaleFactor;\n        }\n    }\n\n    _doRender () {\n        this.resetSvg();\n\n        this._g = this.svg()\n            .append('g')\n            .attr('transform', `translate(${this.cx()},${this.cy()})`);\n\n        this._drawChart();\n\n        return this;\n    }\n\n    _drawChart () {\n        // set radius from chart size if none given, or if given radius is too large\n        const maxRadius = min([this.width(), this.height()]) / 2;\n        this._radius = this._givenRadius && this._givenRadius < maxRadius ? this._givenRadius : maxRadius;\n\n        const arcs = this._buildArcs();\n\n        let partitionedNodes, cdata;\n        // if we have data...\n        if (sum(this.data(), this.valueAccessor())) {\n            cdata = utils.toHierarchy(this.data(), this.valueAccessor());\n            partitionedNodes = this._partitionNodes(cdata);\n            // First one is the root, which is not needed\n            partitionedNodes.nodes.shift();\n            this._g.classed(this._emptyCssClass, false);\n        } else {\n            // otherwise we'd be getting NaNs, so override\n            // note: abuse others for its ignoring the value accessor\n            cdata = utils.toHierarchy([], d => d.value);\n            partitionedNodes = this._partitionNodes(cdata);\n            this._g.classed(this._emptyCssClass, true);\n        }\n        this.ringSizes().rootOffset = partitionedNodes.rootOffset;\n        this.ringSizes().relativeRingSizes = partitionedNodes.relativeRingSizes;\n\n        if (this._g) {\n            const slices = this._g.selectAll(`g.${this._sliceCssClass}`)\n                .data(partitionedNodes.nodes);\n            this._createElements(slices, arcs, partitionedNodes.nodes);\n\n            this._updateElements(partitionedNodes.nodes, arcs);\n\n            this._removeElements(slices);\n\n            this._highlightFilter();\n\n            transition(this._g, this.transitionDuration(), this.transitionDelay())\n                .attr('transform', `translate(${this.cx()},${this.cy()})`);\n        }\n    }\n\n    _createElements (slices, arcs, sunburstData) {\n        const slicesEnter = this._createSliceNodes(slices);\n\n        this._createSlicePath(slicesEnter, arcs);\n        this._createTitles(slicesEnter);\n        this._createLabels(sunburstData, arcs);\n    }\n\n    _createSliceNodes (slices) {\n        return slices\n            .enter()\n            .append('g')\n            .attr('class', (d, i) => `${this._sliceCssClass\n            } _${i} ${\n                this._sliceCssClass}-level-${d.depth}`);\n    }\n\n    _createSlicePath (slicesEnter, arcs) {\n        const slicePath = slicesEnter.append('path')\n            .attr('fill', (d, i) => this._fill(d, i))\n            .on('click', adaptHandler(d => this.onClick(d)))\n            .classed('dc-tabbable', this._keyboardAccessible)\n            .attr('d', d => this._safeArc(arcs, d));\n\n        if (this._keyboardAccessible) {\n            this._makeKeyboardAccessible(this.onClick);\n        }\n\n        const tranNodes = transition(slicePath, this.transitionDuration());\n        if (tranNodes.attrTween) {\n            const chart = this;\n            tranNodes.attrTween('d', function (d) {\n                return chart._tweenSlice(d, this);\n            });\n        }\n    }\n\n    _createTitles (slicesEnter) {\n        if (this.renderTitle()) {\n            slicesEnter.append('title').text(d => this.title()(d));\n        }\n    }\n\n    _positionLabels (labelsEnter, arcs) {\n        transition(labelsEnter, this.transitionDuration())\n            .attr('transform', d => this._labelPosition(d, arcs))\n            .attr('text-anchor', 'middle')\n            .text(d => {\n                // position label...\n                if (this._sliceHasNoData(d) || this._sliceTooSmall(d)) {\n                    return '';\n                }\n                return this.label()(d);\n            });\n    }\n\n    _createLabels (sunburstData, arcs) {\n        if (this.renderLabel()) {\n            const labels = this._g.selectAll(`text.${this._sliceCssClass}`)\n                .data(sunburstData);\n\n            labels.exit().remove();\n\n            const labelsEnter = labels\n                .enter()\n                .append('text')\n                .attr('class', (d, i) => {\n                    let classes = `${this._sliceCssClass} _${i}`;\n                    if (this._externalLabelRadius) {\n                        classes += ' external';\n                    }\n                    return classes;\n                })\n                .on('click', adaptHandler(d => this.onClick(d)));\n            this._positionLabels(labelsEnter, arcs);\n        }\n    }\n\n    _updateElements (sunburstData, arcs) {\n        this._updateSlicePaths(sunburstData, arcs);\n        this._updateLabels(sunburstData, arcs);\n        this._updateTitles(sunburstData);\n    }\n\n    _updateSlicePaths (sunburstData, arcs) {\n        const slicePaths = this._g.selectAll(`g.${this._sliceCssClass}`)\n            .data(sunburstData)\n            .select('path')\n            .attr('d', (d, i) => this._safeArc(arcs, d));\n        const tranNodes = transition(slicePaths, this.transitionDuration());\n        if (tranNodes.attrTween) {\n            const chart = this;\n            tranNodes.attrTween('d', function (d) {\n                return chart._tweenSlice(d, this);\n            });\n        }\n        tranNodes.attr('fill', (d, i) => this._fill(d, i));\n    }\n\n    _updateLabels (sunburstData, arcs) {\n        if (this.renderLabel()) {\n            const labels = this._g.selectAll(`text.${this._sliceCssClass}`)\n                .data(sunburstData);\n            this._positionLabels(labels, arcs);\n        }\n    }\n\n    _updateTitles (sunburstData) {\n        if (this.renderTitle()) {\n            this._g.selectAll(`g.${this._sliceCssClass}`)\n                .data(sunburstData)\n                .select('title')\n                .text(d => this.title()(d));\n        }\n    }\n\n    _removeElements (slices) {\n        slices.exit().remove();\n    }\n\n    _highlightFilter () {\n        const chart = this;\n        if (chart.hasFilter()) {\n            chart.selectAll(`g.${chart._sliceCssClass}`).each(function (d) {\n                if (chart._isSelectedSlice(d)) {\n                    chart.highlightSelected(this);\n                } else {\n                    chart.fadeDeselected(this);\n                }\n            });\n        } else {\n            chart.selectAll(`g.${chart._sliceCssClass}`).each(function (d) {\n                chart.resetHighlight(this);\n            });\n        }\n    }\n\n    /**\n     * Get or set the inner radius of the sunburst chart. If the inner radius is greater than 0px then the\n     * sunburst chart will be rendered as a doughnut chart. Default inner radius is 0px.\n     * @param {Number} [innerRadius=0]\n     * @returns {Number|SunburstChart}\n     */\n    innerRadius (innerRadius) {\n        if (!arguments.length) {\n            return this._innerRadius;\n        }\n        this._innerRadius = innerRadius;\n        return this;\n    }\n\n    /**\n     * Get or set the outer radius. If the radius is not set, it will be half of the minimum of the\n     * chart width and height.\n     * @param {Number} [radius]\n     * @returns {Number|SunburstChart}\n     */\n    radius (radius) {\n        if (!arguments.length) {\n            return this._givenRadius;\n        }\n        this._givenRadius = radius;\n        return this;\n    }\n\n    /**\n     * Get or set center x coordinate position. Default is center of svg.\n     * @param {Number} [cx]\n     * @returns {Number|SunburstChart}\n     */\n    cx (cx) {\n        if (!arguments.length) {\n            return (this._cx || this.width() / 2);\n        }\n        this._cx = cx;\n        return this;\n    }\n\n    /**\n     * Get or set center y coordinate position. Default is center of svg.\n     * @param {Number} [cy]\n     * @returns {Number|SunburstChart}\n     */\n    cy (cy) {\n        if (!arguments.length) {\n            return (this._cy || this.height() / 2);\n        }\n        this._cy = cy;\n        return this;\n    }\n\n    /**\n     * Get or set the minimal slice angle for label rendering. Any slice with a smaller angle will not\n     * display a slice label.\n     * @param {Number} [minAngleForLabel=0.5]\n     * @returns {Number|SunburstChart}\n     */\n    minAngleForLabel (minAngleForLabel) {\n        if (!arguments.length) {\n            return this._minAngleForLabel;\n        }\n        this._minAngleForLabel = minAngleForLabel;\n        return this;\n    }\n\n    /**\n     * Title to use for the only slice when there is no data.\n     * @param {String} [title]\n     * @returns {String|SunburstChart}\n     */\n    emptyTitle (title) {\n        if (arguments.length === 0) {\n            return this._emptyTitle;\n        }\n        this._emptyTitle = title;\n        return this;\n    }\n\n    /**\n     * Position slice labels offset from the outer edge of the chart.\n     *\n     * The argument specifies the extra radius to be added for slice labels.\n     * @param {Number} [externalLabelRadius]\n     * @returns {Number|SunburstChart}\n     */\n    externalLabels (externalLabelRadius) {\n        if (arguments.length === 0) {\n            return this._externalLabelRadius;\n        } else if (externalLabelRadius) {\n            this._externalLabelRadius = externalLabelRadius;\n        } else {\n            this._externalLabelRadius = undefined;\n        }\n\n        return this;\n    }\n\n    /**\n     * Constructs the default RingSizes parameter for {@link SunburstChart#ringSizes ringSizes()},\n     * which makes the rings narrower as they get farther away from the center.\n     *\n     * Can be used as a parameter to ringSizes() to reset the default behavior, or modified for custom ring sizes.\n     *\n     * @example\n     *   var chart = new dc.SunburstChart(...);\n     *   chart.ringSizes(chart.defaultRingSizes())\n     * @returns {RingSizes}\n     */\n    defaultRingSizes () {\n        return {\n            partitionDy: () => this._radius * this._radius,\n            scaleInnerRadius: d => d.data.path && d.data.path.length === 1 ?\n                this._innerRadius :\n                Math.sqrt(d.y0),\n            scaleOuterRadius: d => Math.sqrt(d.y1),\n            relativeRingSizesFunction: () => []\n        };\n    }\n\n    /**\n     * Constructs a RingSizes parameter for {@link SunburstChart#ringSizes ringSizes()}\n     * that will make the chart rings equally wide.\n     *\n     * @example\n     *   var chart = new dc.SunburstChart(...);\n     *   chart.ringSizes(chart.equalRingSizes())\n     * @returns {RingSizes}\n     */\n    equalRingSizes () {\n        return this.relativeRingSizes(\n            ringCount => {\n                const result = [];\n                for (let i = 0; i < ringCount; i++) {\n                    result.push(1 / ringCount);\n                }\n                return result;\n            }\n        );\n    }\n\n    /**\n     * Constructs a RingSizes parameter for {@link SunburstChart#ringSizes ringSizes()} using the given function\n     * to determine each rings width.\n     *\n     * * The function must return an array containing portion values for each ring/level of the chart.\n     * * The length of the array must match the number of rings of the chart at runtime, which is provided as the only\n     *   argument.\n     * * The sum of all portions from the array must be 1 (100%).\n     *\n     * @example\n     * // specific relative portions (the number of rings (3) is known in this case)\n     * chart.ringSizes(chart.relativeRingSizes(function (ringCount) {\n     *     return [.1, .3, .6];\n     * });\n     * @param {Function} [relativeRingSizesFunction]\n     * @returns {RingSizes}\n     */\n    relativeRingSizes (relativeRingSizesFunction) {\n        function assertPortionsArray (relativeSizes, numberOfRings) {\n            if (!Array.isArray(relativeSizes)) {\n                throw new BadArgumentException('relativeRingSizes function must return an array');\n            }\n\n            const portionsSum = sum(relativeSizes);\n            if (Math.abs(portionsSum - 1) > constants.NEGLIGIBLE_NUMBER) {\n                throw new BadArgumentException(\n                    `relativeRingSizes : portions must add up to 1, but sum was ${portionsSum}`);\n            }\n\n            if (relativeSizes.length !== numberOfRings) {\n                throw new BadArgumentException(\n                    `relativeRingSizes : number of values must match number of rings (${\n                        numberOfRings}) but was ${relativeSizes.length}`);\n            }\n        }\n        return {\n            partitionDy: () => 1,\n            scaleInnerRadius: d => this._scaleRadius(d.data.path.length - 1, d.y0),\n            scaleOuterRadius: d => this._scaleRadius(d.data.path.length, d.y1),\n            relativeRingSizesFunction: ringCount => {\n                const result = relativeRingSizesFunction(ringCount);\n                assertPortionsArray(result, ringCount);\n                return result;\n            }\n        };\n    }\n\n    /**\n     * Get or set the strategy to use for sizing the charts rings.\n     *\n     * There are three strategies available\n     * * {@link SunburstChart#defaultRingSizes `defaultRingSizes`}: the rings get narrower farther away from the center\n     * * {@link SunburstChart#relativeRingSizes `relativeRingSizes`}: set the ring sizes as portions of 1\n     * * {@link SunburstChart#equalRingSizes `equalRingSizes`}: the rings are equally wide\n     *\n     * You can modify the returned strategy, or create your own, for custom ring sizing.\n     *\n     * RingSizes is a duck-typed interface that must support the following methods:\n     * * `partitionDy()`: used for\n     *   {@link https://github.com/d3/d3-hierarchy/blob/v1.1.9/README.md#partition_size `d3.partition.size`}\n     * * `scaleInnerRadius(d)`: takes datum and returns radius for\n     *    {@link https://github.com/d3/d3-shape/blob/v1.3.7/README.md#arc_innerRadius `d3.arc.innerRadius`}\n     * * `scaleOuterRadius(d)`: takes datum and returns radius for\n     *    {@link https://github.com/d3/d3-shape/blob/v1.3.7/README.md#arc_outerRadius `d3.arc.outerRadius`}\n     * * `relativeRingSizesFunction(ringCount)`: takes ring count and returns an array of portions that\n     *   must add up to 1\n     *\n     * @example\n     * // make rings equally wide\n     * chart.ringSizes(chart.equalRingSizes())\n     * // reset to default behavior\n     * chart.ringSizes(chart.defaultRingSizes()))\n     * @param {RingSizes} ringSizes\n     * @returns {Object|SunburstChart}\n     */\n    ringSizes (ringSizes) {\n        if (!arguments.length) {\n            if (!this._ringSizes) {\n                this._ringSizes = this.defaultRingSizes();\n            }\n            return this._ringSizes;\n        }\n        this._ringSizes = ringSizes;\n        return this;\n    }\n\n    _buildArcs () {\n        return arc()\n            .startAngle(d => d.x0)\n            .endAngle(d => d.x1)\n            .innerRadius(d => this.ringSizes().scaleInnerRadius(d))\n            .outerRadius(d => this.ringSizes().scaleOuterRadius(d));\n    }\n\n    _isSelectedSlice (d) {\n        return this._isPathFiltered(d.path);\n    }\n\n    _isPathFiltered (path) {\n        for (let i = 0; i < this.filters().length; i++) {\n            const currentFilter = this.filters()[i];\n            if (currentFilter.isFiltered(path)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    // returns all filters that are a parent or child of the path\n    _filtersForPath (path) {\n        const pathFilter = filters.HierarchyFilter(path);\n        const filtersList = [];\n        for (let i = 0; i < this.filters().length; i++) {\n            const currentFilter = this.filters()[i];\n            if (currentFilter.isFiltered(path) || pathFilter.isFiltered(currentFilter)) {\n                filtersList.push(currentFilter);\n            }\n        }\n        return filtersList;\n    }\n\n    _doRedraw () {\n        this._drawChart();\n        return this;\n    }\n\n    _partitionNodes (data) {\n        const getSortable = function (d) {\n            return {'key': d.data.key, 'value': d.value};\n        };\n        const _hierarchy = hierarchy(data)\n            .sum(d => d.children ? 0 : this._extendedValueAccessor(d))\n            .sort((a, b) => ascending(this.ordering()(getSortable(a)), this.ordering()(getSortable(b))));\n\n        const _partition = partition()\n              .size([2 * Math.PI, this.ringSizes().partitionDy()]);\n\n        _partition(_hierarchy);\n\n        // In D3v4 the returned data is slightly different, change it enough to suit our purposes.\n        const nodes = _hierarchy.descendants().map(d => {\n            d.key = d.data.key;\n            d.path = d.data.path;\n            return d;\n        });\n\n        const relativeSizes = this.ringSizes().relativeRingSizesFunction(_hierarchy.height);\n\n        return {\n            nodes,\n            rootOffset: _hierarchy.y1,\n            relativeRingSizes: relativeSizes\n        };\n    }\n\n    _sliceTooSmall (d) {\n        const angle = d.x1 - d.x0;\n        return isNaN(angle) || angle < this._minAngleForLabel;\n    }\n\n    _sliceHasNoData (d) {\n        return this._extendedValueAccessor(d) === 0;\n    }\n\n    _isOffCanvas (d) {\n        return !d || isNaN(d.x0) || isNaN(d.y0);\n    }\n\n    _fill (d, i) {\n        return this.getColor(d.data, i);\n    }\n\n    onClick (d) {\n        if (this._g.attr('class') === this._emptyCssClass) {\n            return;\n        }\n\n        // Must be better way to handle this, in legends we need to access `d.key`\n        const path = d.path || d.key;\n        const filter = filters.HierarchyFilter(path);\n\n        // filters are equal to parents or children of the path.\n        const filtersList = this._filtersForPath(path);\n        let exactMatch = false;\n        // clear out any filters that cover the path filtered.\n        for (let j = filtersList.length - 1; j >= 0; j--) {\n            const currentFilter = filtersList[j];\n            if (utils.arraysIdentical(currentFilter, path)) {\n                exactMatch = true;\n            }\n            this.filter(filtersList[j]);\n        }\n        events.trigger(() => {\n            // if it is a new filter - put it in.\n            if (!exactMatch) {\n                this.filter(filter);\n            }\n            this.redrawGroup();\n        });\n    }\n\n    _safeArc (_arc, d) {\n        let path = _arc(d);\n        if (path.indexOf('NaN') >= 0) {\n            path = 'M0,0';\n        }\n        return path;\n    }\n\n    _labelPosition (d, _arc) {\n        let centroid;\n        if (this._externalLabelRadius) {\n            centroid = arc()\n                .outerRadius(this._radius + this._externalLabelRadius)\n                .innerRadius(this._radius + this._externalLabelRadius)\n                .centroid(d);\n        } else {\n            centroid = _arc.centroid(d);\n        }\n        if (isNaN(centroid[0]) || isNaN(centroid[1])) {\n            return 'translate(0,0)';\n        } else {\n            return `translate(${centroid})`;\n        }\n    }\n\n    legendables () {\n        return this.data().map((d, i) => {\n            const legendable = {name: d.key, data: d.value, others: d.others, chart: this};\n            legendable.color = this.getColor(d, i);\n            return legendable;\n        });\n    }\n\n    legendHighlight (d) {\n        this._highlightSliceFromLegendable(d, true);\n    }\n\n    legendReset (d) {\n        this._highlightSliceFromLegendable(d, false);\n    }\n\n    legendToggle (d) {\n        this.onClick({key: d.name, others: d.others});\n    }\n\n    _highlightSliceFromLegendable (legendable, highlighted) {\n        this.selectAll('g.pie-slice').each(function (d) {\n            if (legendable.name === d.key) {\n                select(this).classed('highlight', highlighted);\n            }\n        });\n    }\n\n    _tweenSlice (d, element) {\n        let current = element._current;\n        if (this._isOffCanvas(current)) {\n            current = {x0: 0, x1: 0, y0: 0, y1: 0};\n        }\n        const tweenTarget = {\n            x0: d.x0,\n            x1: d.x1,\n            y0: d.y0,\n            y1: d.y1\n        };\n        const i = interpolate(current, tweenTarget);\n        element._current = i(0);\n        return t => this._safeArc(this._buildArcs(), Object.assign({}, d, i(t)));\n    }\n}\n\nexport const sunburstChart = (parent, chartGroup) => new SunburstChart(parent, chartGroup);\n","import {BaseMixin} from '../base/base-mixin';\nimport {constants} from '../core/constants';\nimport {events} from '../core/events';\n\nconst INPUT_CSS_CLASS = 'dc-text-filter-input';\n\n/**\n * Text Filter Widget\n *\n * The text filter widget is a simple widget designed to display an input field allowing to filter\n * data that matches the text typed.\n * As opposed to the other charts, this doesn't display any result and doesn't update its display,\n * it's just to input an filter other charts.\n *\n * @mixes BaseMixin\n */\nexport class TextFilterWidget extends BaseMixin {\n    /**\n     * Create Text Filter widget\n     * @example\n     *\n     * var data = [{\"firstName\":\"John\",\"lastName\":\"Coltrane\"}{\"firstName\":\"Miles\",lastName:\"Davis\"}]\n     * var ndx = crossfilter(data);\n     * var dimension = ndx.dimension(function(d) {\n     *     return d.lastName.toLowerCase() + ' ' + d.firstName.toLowerCase();\n     * });\n     *\n     * new TextFilterWidget('#search')\n     *     .dimension(dimension);\n     *     // you don't need the group() function\n     *\n     * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n     * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector}\n     * specifying a dom block element such as a div; or a dom element or d3 selection.\n     * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n     * Interaction with a chart will only trigger events and redraws within the chart's group.\n     */\n    constructor (parent, chartGroup) {\n        super();\n\n        this._normalize = s => s.toLowerCase();\n\n        this._filterFunctionFactory = query => {\n            query = this._normalize(query);\n            return d => this._normalize(d).indexOf(query) !== -1;\n        };\n\n        this._placeHolder = 'search';\n\n        this.group(() => {\n            throw 'the group function on textFilterWidget should never be called, please report the issue';\n        });\n\n        this.anchor(parent, chartGroup);\n    }\n\n    _doRender () {\n        this.select('input').remove();\n\n        this._input = this.root().append('input')\n            .classed(INPUT_CSS_CLASS, true);\n\n        const chart = this;\n        this._input.on('input', function () {\n            chart.dimension().filterFunction(chart._filterFunctionFactory(this.value));\n            events.trigger(() => {\n                chart.redrawGroup();\n            }, constants.EVENT_DELAY);\n        });\n\n        this._doRedraw();\n\n        return this;\n    }\n\n    _doRedraw () {\n        this.root().selectAll('input')\n            .attr('placeholder', this._placeHolder);\n\n        return this;\n    }\n\n    /**\n     * This function will be called on values before calling the filter function.\n     * @example\n     * // This is the default\n     * chart.normalize(function (s) {\n     *   return s.toLowerCase();\n     * });\n     * @param {function} [normalize]\n     * @returns {TextFilterWidget|function}\n     */\n    normalize (normalize) {\n        if (!arguments.length) {\n            return this._normalize;\n        }\n        this._normalize = normalize;\n        return this;\n    }\n\n    /**\n     * Placeholder text in the search box.\n     * @example\n     * // This is the default\n     * chart.placeHolder('type to filter');\n     * @param {function} [placeHolder='search']\n     * @returns {TextFilterWidget|string}\n     */\n    placeHolder (placeHolder) {\n        if (!arguments.length) {\n            return this._placeHolder;\n        }\n        this._placeHolder = placeHolder;\n        return this;\n    }\n\n    /**\n     * This function will be called with the search text, it needs to return a function that will be used to\n     * filter the data. The default function checks presence of the search text.\n     * @example\n     * // This is the default\n     * function (query) {\n     *     query = _normalize(query);\n     *     return function (d) {\n     *         return _normalize(d).indexOf(query) !== -1;\n     *     };\n     * };\n     * @param {function} [filterFunctionFactory]\n     * @returns {TextFilterWidget|function}\n     */\n    filterFunctionFactory (filterFunctionFactory) {\n        if (!arguments.length) {\n            return this._filterFunctionFactory;\n        }\n        this._filterFunctionFactory = filterFunctionFactory;\n        return this;\n    }\n}\n\nexport const textFilterWidget = (parent, chartGroup) => new TextFilterWidget(parent, chartGroup);\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","\"use strict\";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var _Reveal=require(\"./Reveal\");Object.defineProperty(exports,\"default\",{enumerable:!0,get:function(){return _interopRequireDefault(_Reveal).default}});var _Fade=require(\"./Fade\");Object.defineProperty(exports,\"Fade\",{enumerable:!0,get:function(){return _interopRequireDefault(_Fade).default}});var _Bounce=require(\"./Bounce\");Object.defineProperty(exports,\"Bounce\",{enumerable:!0,get:function(){return _interopRequireDefault(_Bounce).default}});var _Roll=require(\"./Roll\");Object.defineProperty(exports,\"Roll\",{enumerable:!0,get:function(){return _interopRequireDefault(_Roll).default}});var _Slide=require(\"./Slide\");Object.defineProperty(exports,\"Slide\",{enumerable:!0,get:function(){return _interopRequireDefault(_Slide).default}});var _Flip=require(\"./Flip\");Object.defineProperty(exports,\"Flip\",{enumerable:!0,get:function(){return _interopRequireDefault(_Flip).default}}),Object.defineProperty(exports,\"Reveal\",{enumerable:!0,get:function(){return _interopRequireDefault(_Reveal).default}});var _Rotate=require(\"./Rotate\");Object.defineProperty(exports,\"Rotate\",{enumerable:!0,get:function(){return _interopRequireDefault(_Rotate).default}});var _LightSpeed=require(\"./LightSpeed\");Object.defineProperty(exports,\"LightSpeed\",{enumerable:!0,get:function(){return _interopRequireDefault(_LightSpeed).default}});var _Zoom=require(\"./Zoom\");Object.defineProperty(exports,\"Zoom\",{enumerable:!0,get:function(){return _interopRequireDefault(_Zoom).default}});","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","\"use strict\";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function Reveal(e){function t(e){return e?_?{duration:n,delay:f,count:s,forever:d,className:_,style:{}}:y:i?{duration:void 0===o?u:o,delay:p,count:a,forever:l,className:i,style:{}}:c}var r=e.children,o=e.timeout,u=e.duration,p=e.delay,a=e.count,l=e.forever,n=e.durationOut,f=e.delayOut,s=e.countOut,d=e.foreverOut,i=e.effect,_=e.effectOut,c=e.inEffect,y=e.outEffect,O=_objectWithoutProperties(e,[\"children\",\"timeout\",\"duration\",\"delay\",\"count\",\"forever\",\"durationOut\",\"delayOut\",\"countOut\",\"foreverOut\",\"effect\",\"effectOut\",\"inEffect\",\"outEffect\"]);return(0,_wrap2.default)(O,t(!1),t(!0),r)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_propTypes=require(\"prop-types\"),_globals=require(\"./globals\"),_wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_Fade=require(\"./Fade\"),_Fade2=_interopRequireDefault(_Fade),propTypes={in:_propTypes.object,out:(0,_propTypes.oneOfType)([_propTypes.object,(0,_propTypes.oneOf)([!1])]),effect:_propTypes.string,effectOut:_propTypes.string,duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool,durationOut:_propTypes.number,delayOut:_propTypes.number,countOut:_propTypes.number,foreverOut:_propTypes.bool},defaultProps=_extends({},_globals.defaults,{durationOut:_globals.defaults.duration,delayOut:_globals.defaults.delay,countOut:_globals.defaults.count,foreverOut:_globals.defaults.forever,inEffect:(0,_Fade2.default)(_globals.defaults),outEffect:(0,_Fade2.default)(_extends({out:!0},_globals.defaults))});Reveal.propTypes=propTypes,Reveal.defaultProps=defaultProps,exports.default=Reveal,module.exports=exports.default;","\"use strict\";function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties(o,n){var r={};for(var t in o)n.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t]);return r}function make(o,n){var r=n.left,t=n.right,e=n.up,a=n.down,p=n.top,i=n.bottom,s=n.mirror,l=n.opposite,u=(r?1:0)|(t?2:0)|(p||a?4:0)|(i||e?8:0)|(s?16:0)|(l?32:0)|(o?64:0);if(lookup.hasOwnProperty(u))return lookup[u];if(!s!=!(o&&l)){var d=[t,r,i,p,a,e];r=d[0],t=d[1],p=d[2],i=d[3],e=d[4],a=d[5]}var f=r||t,c=p||i||e||a,m=f||c,y=void 0,v=void 0,_=void 0,b=void 0,x=void 0,T=void 0,g=void 0,h=void 0,k=void 0,w=void 0,q=void 0,O=void 0,P=void 0,j=void 0;return o?(b=f?(t?\"-\":\"\")+\"20px\":0,x=c?(e||i?\"\":\"-\")+\"10px\":\"0\",T=(a||p?\"\":\"-\")+\"20px\",P=f?(r?\"-\":\"\")+\"2000px\":\"0\",j=c?(a||p?\"-\":\"\")+\"2000px\":\"0\"):(v=f?(r?\"-\":\"\")+\"3000px\":\"0\",_=c?(a||p?\"-\":\"\")+\"3000px\":\"0\",g=f?(t?\"-\":\"\")+\"25px\":\"0\",h=c?(e||i?\"-\":\"\")+\"25px\":\"0\",k=f?(r?\"-\":\"\")+\"10px\":\"0\",w=c?(a||p?\"-\":\"\")+\"10px\":\"0\",q=f?(t?\"-\":\"\")+\"5px\":\"0\",O=c?(e||i?\"-\":\"\")+\"5px\":\"0\"),y=m?o?\"\\n        20% {\\n          transform: translate3d(\"+b+\", \"+x+\", 0);\\n          }\\n        \"+(c?\"40%, 45% {\\n            opacity: 1;\\n            transform: translate3d(0, \"+T+\", 0);\\n          }\":\"\")+\"\\n          to {\\n            opacity: 0;\\n            transform: translate3d(\"+P+\", \"+j+\", 0);\\n        }\\n      \":\"from, 60%, 75%, 90%, to {\\n        animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n      }\\n      from {\\n        opacity: 0;\\n        transform: translate3d(\"+v+\", \"+_+\", 0);\\n      }\\n      60% {\\n        opacity: 1;\\n        transform: translate3d(\"+g+\", \"+h+\", 0);\\n      }\\n      75% {\\n        transform: translate3d(\"+k+\", \"+w+\", 0);\\n      }\\n      90% {\\n        transform: translate3d(\"+q+\", \"+O+\", 0);\\n      }\\n      to {\\n        transform: none;\\n      }\":o?\"20% {\\n          transform: scale3d(.9, .9, .9);\\n        }\\n        50%, 55% {\\n          opacity: 1;\\n          transform: scale3d(1.1, 1.1, 1.1);\\n        }\\n        to {\\n          opacity: 0;\\n          transform: scale3d(.3, .3, .3);\\n      }\":\"from, 20%, 40%, 60%, 80%, to {\\n        animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n      }\\n      0% {\\n        opacity: 0;\\n        transform: scale3d(.3, .3, .3);\\n      }\\n      20% {\\n        transform: scale3d(1.1, 1.1, 1.1);\\n      }\\n      40% {\\n        transform: scale3d(.9, .9, .9);\\n      }\\n      60% {\\n        opacity: 1;\\n        transform: scale3d(1.03, 1.03, 1.03);\\n      }\\n      80% {\\n        transform: scale3d(.97, .97, .97);\\n      }\\n      to {\\n        opacity: 1;\\n        transform: scale3d(1, 1, 1);\\n      }\",lookup[u]=(0,_globals.animation)(y),lookup[u]}function Bounce(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_globals.defaults,n=o.children,r=(o.out,o.forever),t=o.timeout,e=o.duration,a=void 0===e?_globals.defaults.duration:e,p=o.delay,i=void 0===p?_globals.defaults.delay:p,s=o.count,l=void 0===s?_globals.defaults.count:s,u=_objectWithoutProperties(o,[\"children\",\"out\",\"forever\",\"timeout\",\"duration\",\"delay\",\"count\"]),d={make:make,duration:void 0===t?a:t,delay:i,forever:r,count:l,style:{animationFillMode:\"both\"},reverse:u.left};return(0,_wrap2.default)(u,d,d,n)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _propTypes=require(\"prop-types\"),_wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_globals=require(\"./globals\"),propTypes={out:_propTypes.bool,left:_propTypes.bool,right:_propTypes.bool,top:_propTypes.bool,bottom:_propTypes.bool,mirror:_propTypes.bool,opposite:_propTypes.bool,duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool},lookup={};Bounce.propTypes=propTypes,exports.default=Bounce,module.exports=exports.default;","\"use strict\";function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties(o,e){var r={};for(var t in o)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t]);return r}function make(o,e){var r=e.left,t=e.right,p=e.up,l=e.down,a=e.top,u=e.bottom,i=e.big,n=e.mirror,s=e.opposite,d=(r?1:0)|(t?2:0)|(a||l?4:0)|(u||p?8:0)|(n?16:0)|(s?32:0)|(o?64:0)|(i?128:0);if(lookup.hasOwnProperty(d))return lookup[d];if(!n!=!(o&&s)){var _=[t,r,u,a,l,p];r=_[0],t=_[1],a=_[2],u=_[3],p=_[4],l=_[5]}var y=i?\"2000px\":\"100%\",b=r?\"-\"+y:t?y:\"0\",f=l||a?\"-\"+y:p||u?y:\"0\";return lookup[d]=(0,_globals.animation)(\"\\n    \"+(o?\"to\":\"from\")+\" {opacity: 0;transform: translate3d(\"+b+\", \"+f+\", 0) rotate3d(0, 0, 1, -120deg);}\\n\\t  \"+(o?\"from\":\"to\")+\" {opacity: 1;transform: none}\\n  \"),lookup[d]}function Roll(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_globals.defaults,e=o.children,r=(o.out,o.forever),t=o.timeout,p=o.duration,l=void 0===p?_globals.defaults.duration:p,a=o.delay,u=void 0===a?_globals.defaults.delay:a,i=o.count,n=void 0===i?_globals.defaults.count:i,s=_objectWithoutProperties(o,[\"children\",\"out\",\"forever\",\"timeout\",\"duration\",\"delay\",\"count\"]),d={make:make,duration:void 0===t?l:t,delay:u,forever:r,count:n,style:{animationFillMode:\"both\"}};return(0,_wrap2.default)(s,d,d,e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_propTypes=require(\"prop-types\"),_globals=require(\"./globals\"),propTypes={out:_propTypes.bool,left:_propTypes.bool,right:_propTypes.bool,top:_propTypes.bool,bottom:_propTypes.bool,big:_propTypes.bool,mirror:_propTypes.bool,opposite:_propTypes.bool,duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool},lookup={};Roll.propTypes=propTypes,exports.default=Roll,module.exports=exports.default;","\"use strict\";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,o){var t={};for(var r in e)o.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function make(e,o){var t=o.left,r=o.right,n=o.top,p=o.bottom,i=o.x,a=o.y,s=o.mirror,l=o.opposite,u=(t?1:0)|(r||a?2:0)|(n||i?4:0)|(p?8:0)|(s?16:0)|(l?32:0)|(e?64:0);if(lookup.hasOwnProperty(u))return lookup[u];if(!s!=!(e&&l)){var d=[r,t,p,n,a,i];t=d[0],r=d[1],n=d[2],p=d[3],i=d[4],a=d[5]}var f=void 0;if(i||a||t||r||n||p){var m=i||n||p?(p?\"-\":\"\")+\"1\":\"0\",c=a||r||t?(t?\"-\":\"\")+\"1\":\"0\";f=e?\"from {\\n          transform: perspective(400px);\\n        }\\n        30% {\\n          transform: perspective(400px) rotate3d(\"+m+\", \"+c+\", 0, -15deg);\\n          opacity: 1;\\n        }\\n        to {\\n          transform: perspective(400px) rotate3d(\"+m+\", \"+c+\", 0, 90deg);\\n          opacity: 0;\\n        }\":\"from {\\n          transform: perspective(400px) rotate3d(\"+m+\", \"+c+\", 0, 90deg);\\n          animation-timing-function: ease-in;\\n          opacity: 0;\\n        }\\n        40% {\\n          transform: perspective(400px) rotate3d(\"+m+\", \"+c+\", 0, -20deg);\\n          animation-timing-function: ease-in;\\n        }\\n        60% {\\n          transform: perspective(400px) rotate3d(\"+m+\", \"+c+\", 0, 10deg);\\n          opacity: 1;\\n        }\\n        80% {\\n          transform: perspective(400px) rotate3d(\"+m+\", \"+c+\", 0, -5deg);\\n        }\\n        to {\\n          transform: perspective(400px);\\n        }\"}else f=\"from {\\n          transform: perspective(400px) rotate3d(0, 1, 0, -360deg);\\n          animation-timing-function: ease-out;\\n          opacity: \"+(e?\"1\":\"0\")+\";\\n        }\\n        40% {\\n          transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);\\n          animation-timing-function: ease-out;\\n        }\\n        50% {\\n          transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);\\n          animation-timing-function: ease-in;\\n        }\\n        to {\\n          transform: perspective(400px);\\n          animation-timing-function: ease-in;\\n          opacity: \"+(e?\"0\":\"1\")+\";\\n        }\";return lookup[u]=(0,_globals.animation)(f),lookup[u]}function Flip(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_globals.defaults,o=e.children,t=(e.out,e.forever),r=e.timeout,n=e.duration,p=void 0===n?_globals.defaults.duration:n,i=e.delay,a=void 0===i?_globals.defaults.delay:i,s=e.count,l=void 0===s?_globals.defaults.count:s,u=_objectWithoutProperties(e,[\"children\",\"out\",\"forever\",\"timeout\",\"duration\",\"delay\",\"count\"]),d={make:make,duration:void 0===r?p:r,delay:a,forever:t,count:l,style:{animationFillMode:\"both\",backfaceVisibility:\"visible\"}};return(0,_wrap2.default)(u,d,d,o)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _propTypes=require(\"prop-types\"),_wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_globals=require(\"./globals\"),propTypes={out:_propTypes.bool,left:_propTypes.bool,right:_propTypes.bool,top:_propTypes.bool,bottom:_propTypes.bool,mirror:_propTypes.bool,opposite:_propTypes.bool,duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool},lookup={};Flip.propTypes=propTypes,exports.default=Flip,module.exports=exports.default;","\"use strict\";function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties(o,e){var r={};for(var t in o)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t]);return r}function make(o,e){var r=e.left,t=e.right,p=e.up,a=e.down,l=e.top,u=e.bottom,i=e.mirror,n=e.opposite,s=(r?1:0)|(t?2:0)|(l||a?4:0)|(u||p?8:0)|(i?16:0)|(n?32:0)|(o?64:0);if(lookup.hasOwnProperty(s))return lookup[s];if(!i!=!(o&&n)){var d=[t,r,u,l,a,p];r=d[0],t=d[1],l=d[2],u=d[3],p=d[4],a=d[5]}var f=\"-200deg\",_=\"center\";return(a||l)&&r&&(f=\"-45deg\"),((a||l)&&t||(p||u)&&r)&&(f=\"45deg\"),(p||u)&&t&&(f=\"-90deg\"),(r||t)&&(_=(r?\"left\":\"right\")+\" bottom\"),lookup[s]=(0,_globals.animation)(\"\\n    \"+(o?\"to\":\"from\")+\" { opacity: 0; transform-origin: \"+_+\"; transform: rotate3d(0, 0, 1, \"+f+\");}\\n    \"+(o?\"from\":\"to\")+\" { opacity: 1; transform-origin: \"+_+\"; transform: none;}\\n  \"),lookup[s]}function Rotate(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_globals.defaults,e=o.children,r=(o.out,o.forever),t=o.timeout,p=o.duration,a=void 0===p?_globals.defaults.duration:p,l=o.delay,u=void 0===l?_globals.defaults.delay:l,i=o.count,n=void 0===i?_globals.defaults.count:i,s=_objectWithoutProperties(o,[\"children\",\"out\",\"forever\",\"timeout\",\"duration\",\"delay\",\"count\"]),d={make:make,duration:void 0===t?a:t,delay:u,forever:r,count:n,style:{animationFillMode:\"both\"}};return(0,_wrap2.default)(s,d,d,e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _propTypes=require(\"prop-types\"),_wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_globals=require(\"./globals\"),propTypes={out:_propTypes.bool,left:_propTypes.bool,right:_propTypes.bool,top:_propTypes.bool,bottom:_propTypes.bool,mirror:_propTypes.bool,opposite:_propTypes.bool,duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool},lookup={};Rotate.propTypes=propTypes,exports.default=Rotate,module.exports=exports.default;","\"use strict\";function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties(o,e){var r={};for(var t in o)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t]);return r}function make(o,e){var r=e.left,t=e.right,p=e.mirror,n=e.opposite,a=(r?1:0)|(t?2:0)|(p?16:0)|(n?32:0)|(o?64:0);if(lookup.hasOwnProperty(a))return lookup[a];if(!p!=!(o&&n)){var i=[t,r];r=i[0],t=i[1]}var l=r?\"-100%\":t?\"100%\":\"0\",u=o?\"from {\\n        opacity: 1;\\n      }\\n      to {\\n        transform: translate3d(\"+l+\", 0, 0) skewX(30deg);\\n        opacity: 0;\\n      }\\n    \":\"from {\\n        transform: translate3d(\"+l+\", 0, 0) skewX(-30deg);\\n        opacity: 0;\\n      }\\n      60% {\\n        transform: skewX(20deg);\\n        opacity: 1;\\n      }\\n      80% {\\n        transform: skewX(-5deg);\\n        opacity: 1;\\n      }\\n      to {\\n        transform: none;\\n        opacity: 1;\\n      }\";return lookup[a]=(0,_globals.animation)(u),lookup[a]}function LightSpeed(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_globals.defaults,e=o.children,r=(o.out,o.forever),t=o.timeout,p=o.duration,n=void 0===p?_globals.defaults.duration:p,a=o.delay,i=void 0===a?_globals.defaults.delay:a,l=o.count,u=void 0===l?_globals.defaults.count:l,s=_objectWithoutProperties(o,[\"children\",\"out\",\"forever\",\"timeout\",\"duration\",\"delay\",\"count\"]),d={make:make,duration:void 0===t?n:t,delay:i,forever:r,count:u,style:{animationFillMode:\"both\"}};s.left,s.right,s.mirror,s.opposite;return(0,_wrap2.default)(s,d,d,e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_propTypes=require(\"prop-types\"),_globals=require(\"./globals\"),propTypes={out:_propTypes.bool,left:_propTypes.bool,right:_propTypes.bool,mirror:_propTypes.bool,opposite:_propTypes.bool,duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool},lookup={};LightSpeed.propTypes=propTypes,exports.default=LightSpeed,module.exports=exports.default;","\"use strict\";function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties(o,e){var r={};for(var t in o)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t]);return r}function make(o,e){var r=e.left,t=e.right,p=e.up,n=e.down,a=e.top,i=e.bottom,l=e.mirror,u=e.opposite,s=(r?1:0)|(t?2:0)|(a||n?4:0)|(i||p?8:0)|(l?16:0)|(u?32:0)|(o?64:0);if(lookup.hasOwnProperty(s))return lookup[s];if(!l!=!(o&&u)){var d=[t,r,i,a,n,p];r=d[0],t=d[1],a=d[2],i=d[3],p=d[4],n=d[5]}var f=r||t,c=a||i||p||n,m=f||c,y=void 0,b=void 0,_=void 0,v=void 0,T=void 0;return m?o?(b=f?(r?\"\":\"-\")+\"42px\":\"0\",_=c?(n||a?\"-\":\"\")+\"60px\":\"0\",v=f?(t?\"\":\"-\")+\"2000px\":\"0\",T=c?(p||i?\"\":\"-\")+\"2000px\":\"0\",y=\"40% {\\n          opacity: 1;\\n          transform: scale3d(.475, .475, .475) translate3d(\"+b+\", \"+_+\", 0);\\n        }\\n        to {\\n          opacity: 0;\\n          transform: scale(.1) translate3d(\"+v+\", \"+T+\", 0);\\n          transform-origin: \"+(c?\"center bottom\":(r?\"left\":\"right\")+\" center\")+\";\\n        }\"):(b=f?(r?\"-\":\"\")+\"1000px\":\"0\",_=c?(n||a?\"-\":\"\")+\"1000px\":\"0\",v=f?(t?\"-\":\"\")+\"10px\":\"0\",T=c?(p||i?\"-\":\"\")+\"60px\":\"0\",y=\"from {\\n          opacity: 0;\\n          transform: scale3d(.1, .1, .1) translate3d(\"+b+\", \"+_+\", 0);\\n          animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\\n        }\\n        60% {\\n          opacity: 1;\\n          transform: scale3d(.475, .475, .475) translate3d(\"+v+\", \"+T+\", 0);\\n          animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\\n        }\"):y=(o?\"to\":\"from\")+\" {opacity: 0; transform: scale3d(.1, .1, .1);} \"+(o?\"from\":\"to\")+\" { opacity: 1; transform: none;}\",lookup[s]=(0,_globals.animation)(y),lookup[s]}function Zoom(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_globals.defaults,e=o.children,r=(o.out,o.forever),t=o.timeout,p=o.duration,n=void 0===p?_globals.defaults.duration:p,a=o.delay,i=void 0===a?_globals.defaults.delay:a,l=o.count,u=void 0===l?_globals.defaults.count:l,s=_objectWithoutProperties(o,[\"children\",\"out\",\"forever\",\"timeout\",\"duration\",\"delay\",\"count\"]),d={make:make,duration:void 0===t?n:t,delay:i,forever:r,count:u,style:{animationFillMode:\"both\"},reverse:s.left};return(0,_wrap2.default)(s,d,d,e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _propTypes=require(\"prop-types\"),_wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_globals=require(\"./globals\"),propTypes={out:_propTypes.bool,left:_propTypes.bool,right:_propTypes.bool,top:_propTypes.bool,bottom:_propTypes.bool,mirror:_propTypes.bool,opposite:_propTypes.bool,duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool},lookup={};Zoom.propTypes=propTypes,exports.default=Zoom,module.exports=exports.default;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","let array8 = arrayUntyped,\n    array16 = arrayUntyped,\n    array32 = arrayUntyped,\n    arrayLengthen = arrayLengthenUntyped,\n    arrayWiden = arrayWidenUntyped;\nif (typeof Uint8Array !== \"undefined\") {\n  array8 = function(n) { return new Uint8Array(n); };\n  array16 = function(n) { return new Uint16Array(n); };\n  array32 = function(n) { return new Uint32Array(n); };\n\n  arrayLengthen = function(array, length) {\n    if (array.length >= length) return array;\n    var copy = new array.constructor(length);\n    copy.set(array);\n    return copy;\n  };\n\n  arrayWiden = function(array, width) {\n    var copy;\n    switch (width) {\n      case 16: copy = array16(array.length); break;\n      case 32: copy = array32(array.length); break;\n      default: throw new Error(\"invalid array width!\");\n    }\n    copy.set(array);\n    return copy;\n  };\n}\n\nfunction arrayUntyped(n) {\n  var array = new Array(n), i = -1;\n  while (++i < n) array[i] = 0;\n  return array;\n}\n\nfunction arrayLengthenUntyped(array, length) {\n  var n = array.length;\n  while (n < length) array[n++] = 0;\n  return array;\n}\n\nfunction arrayWidenUntyped(array, width) {\n  if (width > 32) throw new Error(\"invalid array width!\");\n  return array;\n}\n\n// An arbitrarily-wide array of bitmasks\nfunction bitarray(n) {\n  this.length = n;\n  this.subarrays = 1;\n  this.width = 8;\n  this.masks = {\n    0: 0\n  }\n\n  this[0] = array8(n);\n}\n\nbitarray.prototype.lengthen = function(n) {\n  var i, len;\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    this[i] = arrayLengthen(this[i], n);\n  }\n  this.length = n;\n};\n\n// Reserve a new bit index in the array, returns {offset, one}\nbitarray.prototype.add = function() {\n  var m, w, one, i, len;\n\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    m = this.masks[i];\n    w = this.width - (32 * i);\n    // isolate the rightmost zero bit and return it as an unsigned int of 32 bits, if NaN or -1, return a 0 \n    one = (~m & (m + 1)) >>> 0;\n\n    if (w >= 32 && !one) {\n      continue;\n    }\n\n    if (w < 32 && (one & (1 << w))) {\n      // widen this subarray\n      this[i] = arrayWiden(this[i], w <<= 1);\n      this.width = 32 * i + w;\n    }\n\n    this.masks[i] |= one;\n\n    return {\n      offset: i,\n      one: one\n    };\n  }\n\n  // add a new subarray\n  this[this.subarrays] = array8(this.length);\n  this.masks[this.subarrays] = 1;\n  this.width += 8;\n  return {\n    offset: this.subarrays++,\n    one: 1\n  };\n};\n\n// Copy record from index src to index dest\nbitarray.prototype.copy = function(dest, src) {\n  var i, len;\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    this[i][dest] = this[i][src];\n  }\n};\n\n// Truncate the array to the given length\nbitarray.prototype.truncate = function(n) {\n  var i, len;\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    for (var j = this.length - 1; j >= n; j--) {\n      this[i][j] = 0;\n    }\n  }\n  this.length = n;\n};\n\n// Checks that all bits for the given index are 0\nbitarray.prototype.zero = function(n) {\n  var i, len;\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    if (this[i][n]) {\n      return false;\n    }\n  }\n  return true;\n};\n\n// Checks that all bits for the given index are 0 except for possibly one\nbitarray.prototype.zeroExcept = function(n, offset, zero) {\n  var i, len;\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    if (i === offset ? this[i][n] & zero : this[i][n]) {\n      return false;\n    }\n  }\n  return true;\n};\n\n// Checks that all bits for the given index are 0 except for the specified mask.\n// The mask should be an array of the same size as the filter subarrays width.\nbitarray.prototype.zeroExceptMask = function(n, mask) {\n  var i, len;\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    if (this[i][n] & mask[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// Checks that only the specified bit is set for the given index\nbitarray.prototype.only = function(n, offset, one) {\n  var i, len;\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    if (this[i][n] != (i === offset ? one : 0)) {\n      return false;\n    }\n  }\n  return true;\n};\n\n// Checks that only the specified bit is set for the given index except for possibly one other\nbitarray.prototype.onlyExcept = function(n, offset, zero, onlyOffset, onlyOne) {\n  var mask;\n  var i, len;\n  for (i = 0, len = this.subarrays; i < len; ++i) {\n    mask = this[i][n];\n    if (i === offset)\n      mask = (mask & zero) >>> 0;\n    if (mask != (i === onlyOffset ? onlyOne : 0)) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport default {\n  array8: arrayUntyped,\n  array16: arrayUntyped,\n  array32: arrayUntyped,\n  arrayLengthen: arrayLengthenUntyped,\n  arrayWiden: arrayWidenUntyped,\n  bitarray: bitarray\n};\n","const filterExact = (bisect, value) => {\n  return function(values) {\n    var n = values.length;\n    return [bisect.left(values, value, 0, n), bisect.right(values, value, 0, n)];\n  };\n}\n\nconst filterRange = (bisect, range) => {\n  var min = range[0],\n      max = range[1];\n  return function(values) {\n    var n = values.length;\n    return [bisect.left(values, min, 0, n), bisect.left(values, max, 0, n)];\n  };\n}\n\nconst filterAll = values => {\n  return [0, values.length];\n}\n\nexport default {\n  filterExact,\n  filterRange,\n  filterAll\n};\n","export default d => {\n  return d;\n};\n","export default () =>  {\n  return null;\n}\n","export default () => {\n  return 0;\n}\n","import identity from './identity';\n\nfunction heap_by(f) {\n\n  // Builds a binary heap within the specified array a[lo:hi]. The heap has the\n  // property such that the parent a[lo+i] is always less than or equal to its\n  // two children: a[lo+2*i+1] and a[lo+2*i+2].\n  function heap(a, lo, hi) {\n    var n = hi - lo,\n        i = (n >>> 1) + 1;\n    while (--i > 0) sift(a, i, n, lo);\n    return a;\n  }\n\n  // Sorts the specified array a[lo:hi] in descending order, assuming it is\n  // already a heap.\n  function sort(a, lo, hi) {\n    var n = hi - lo,\n        t;\n    while (--n > 0) t = a[lo], a[lo] = a[lo + n], a[lo + n] = t, sift(a, 1, n, lo);\n    return a;\n  }\n\n  // Sifts the element a[lo+i-1] down the heap, where the heap is the contiguous\n  // slice of array a[lo:lo+n]. This method can also be used to update the heap\n  // incrementally, without incurring the full cost of reconstructing the heap.\n  function sift(a, i, n, lo) {\n    var d = a[--lo + i],\n        x = f(d),\n        child;\n    while ((child = i << 1) <= n) {\n      if (child < n && f(a[lo + child]) > f(a[lo + child + 1])) child++;\n      if (x <= f(a[lo + child])) break;\n      a[lo + i] = a[lo + child];\n      i = child;\n    }\n    a[lo + i] = d;\n  }\n\n  heap.sort = sort;\n  return heap;\n}\n\nconst h = heap_by(identity);\nh.by = heap_by;\n\nexport default h;\n","import identity from './identity';\nimport xFilterHeap from './heap';\n\nfunction heapselect_by(f) {\n  var heap = xFilterHeap.by(f);\n\n  // Returns a new array containing the top k elements in the array a[lo:hi].\n  // The returned array is not sorted, but maintains the heap property. If k is\n  // greater than hi - lo, then fewer than k elements will be returned. The\n  // order of elements in a is unchanged by this operation.\n  function heapselect(a, lo, hi, k) {\n    var queue = new Array(k = Math.min(hi - lo, k)),\n        min,\n        i,\n        d;\n\n    for (i = 0; i < k; ++i) queue[i] = a[lo++];\n    heap(queue, 0, k);\n\n    if (lo < hi) {\n      min = f(queue[0]);\n      do {\n        if (f(d = a[lo]) > min) {\n          queue[0] = d;\n          min = f(heap(queue, 0, k)[0]);\n        }\n      } while (++lo < hi);\n    }\n\n    return queue;\n  }\n\n  return heapselect;\n}\n\n\nconst h = heapselect_by(identity);\nh.by = heapselect_by; // assign the raw function to the export as well\n\nexport default h;\n","import identity from './identity';\n\nfunction bisect_by(f) {\n\n  // Locate the insertion point for x in a to maintain sorted order. The\n  // arguments lo and hi may be used to specify a subset of the array which\n  // should be considered; by default the entire array is used. If x is already\n  // present in a, the insertion point will be before (to the left of) any\n  // existing entries. The return value is suitable for use as the first\n  // argument to `array.splice` assuming that a is already sorted.\n  //\n  // The returned insertion point i partitions the array a into two halves so\n  // that all v < x for v in a[lo:i] for the left side and all v >= x for v in\n  // a[i:hi] for the right side.\n  function bisectLeft(a, x, lo, hi) {\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (f(a[mid]) < x) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  // Similar to bisectLeft, but returns an insertion point which comes after (to\n  // the right of) any existing entries of x in a.\n  //\n  // The returned insertion point i partitions the array into two halves so that\n  // all v <= x for v in a[lo:i] for the left side and all v > x for v in\n  // a[i:hi] for the right side.\n  function bisectRight(a, x, lo, hi) {\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (x < f(a[mid])) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  bisectRight.right = bisectRight;\n  bisectRight.left = bisectLeft;\n  return bisectRight;\n}\n\nconst bisect = bisect_by(identity);\nbisect.by = bisect_by; // assign the raw function to the export as well\n\nexport default bisect;\n\n","export default (array, index, deep) => {\n  for (var i = 0, n = index.length, copy = deep ? JSON.parse(JSON.stringify(array)) : new Array(n); i < n; ++i) {\n    copy[i] = array[index[i]];\n  }\n  return copy;\n}\n","const reduceIncrement = p => {\n  return p + 1;\n}\n\nconst reduceDecrement = p => {\n  return p - 1;\n}\n\nconst reduceAdd = f => {\n  return function(p, v) {\n    return p + +f(v);\n  };\n}\n\nconst reduceSubtract = f => {\n  return function(p, v) {\n    return p - f(v);\n  };\n}\n\nexport default {\n  reduceIncrement,\n  reduceDecrement,\n  reduceAdd,\n  reduceSubtract\n};\n","import deep from \"@ranfdev/deepobj\"\n// Note(cg): result was previsouly using lodash.result, not ESM compatible.\n \nconst get = (obj, prop) => {\n  const value = obj[prop];\n  return (typeof value === 'function') ? value.call(obj) : value;\n}\n\n/**\n * get value of object at a deep path.\n * if the resolved value is a function,\n * it's invoked with the `this` binding of \n * its parent object and its result is returned. \n *  \n * @param  {Object} obj  the object (e.g. { 'a': [{ 'b': { 'c1': 3, 'c2': 4} }], 'd': {e:1} }; )\n * @param  {String} path deep path (e.g. `d.e`` or `a[0].b.c1`. Dot notation (a.0.b)is also supported)\n * @return {Any}      the resolved value\n */\nconst reg = /\\[([\\w\\d]+)\\]/g;\nexport default (obj, path) => {\n  return deep(get, obj, path.replace(reg, '.$1'))\n}\n","export default (action, obj, keys, id, key) => {\n  keys = keys.split(\".\");\n  id = keys.splice(-1, 1);\n  for (key in keys) obj = obj[keys[key]] = obj[keys[key]] || {};\n  return action(obj, id);\n}\n","import xfilterArray from './array';\nimport xfilterFilter from './filter';\nimport cr_identity from './identity';\nimport cr_null from './null';\nimport cr_zero from './zero';\nimport xfilterHeapselect from './heapselect';\nimport xfilterHeap from './heap';\nimport bisect from './bisect';\nimport permute from './permute';\nimport xfilterReduce from './reduce';\nimport result from './result';\n\n// constants\nvar REMOVED_INDEX = -1;\n\ncrossfilter.heap = xfilterHeap;\ncrossfilter.heapselect = xfilterHeapselect;\ncrossfilter.bisect = bisect;\ncrossfilter.permute = permute;\nexport default crossfilter;\n\nfunction crossfilter() {\n  var crossfilter = {\n    add: add,\n    remove: removeData,\n    dimension: dimension,\n    groupAll: groupAll,\n    size: size,\n    all: all,\n    allFiltered: allFiltered,\n    onChange: onChange,\n    isElementFiltered: isElementFiltered\n  };\n\n  var data = [], // the records\n      n = 0, // the number of records; data.length\n      filters, // 1 is filtered out\n      filterListeners = [], // when the filters change\n      dataListeners = [], // when data is added\n      removeDataListeners = [], // when data is removed\n      callbacks = [];\n\n  filters = new xfilterArray.bitarray(0);\n\n  // Adds the specified new records to this crossfilter.\n  function add(newData) {\n    var n0 = n,\n        n1 = newData.length;\n\n    // If there's actually new data to add…\n    // Merge the new data into the existing data.\n    // Lengthen the filter bitset to handle the new records.\n    // Notify listeners (dimensions and groups) that new data is available.\n    if (n1) {\n      data = data.concat(newData);\n      filters.lengthen(n += n1);\n      dataListeners.forEach(function(l) { l(newData, n0, n1); });\n      triggerOnChange('dataAdded');\n    }\n\n    return crossfilter;\n  }\n\n  // Removes all records that match the current filters, or if a predicate function is passed,\n  // removes all records matching the predicate (ignoring filters).\n  function removeData(predicate) {\n    var // Mapping from old record indexes to new indexes (after records removed)\n        newIndex = new Array(n),\n        removed = [],\n        usePred = typeof predicate === 'function',\n        shouldRemove = function (i) {\n          return usePred ? predicate(data[i], i) : filters.zero(i)\n        };\n\n    for (var index1 = 0, index2 = 0; index1 < n; ++index1) {\n      if ( shouldRemove(index1) ) {\n        removed.push(index1);\n        newIndex[index1] = REMOVED_INDEX;\n      } else {\n        newIndex[index1] = index2++;\n      }\n    }\n\n    // Remove all matching records from groups.\n    filterListeners.forEach(function(l) { l(-1, -1, [], removed, true); });\n\n    // Update indexes.\n    removeDataListeners.forEach(function(l) { l(newIndex); });\n\n    // Remove old filters and data by overwriting.\n    for (var index3 = 0, index4 = 0; index3 < n; ++index3) {\n      if ( newIndex[index3] !== REMOVED_INDEX ) {\n        if (index3 !== index4) filters.copy(index4, index3), data[index4] = data[index3];\n        ++index4;\n      }\n    }\n\n    data.length = n = index4;\n    filters.truncate(index4);\n    triggerOnChange('dataRemoved');\n  }\n\n  function maskForDimensions(dimensions) {\n    var n,\n        d,\n        len,\n        id,\n        mask = Array(filters.subarrays);\n    for (n = 0; n < filters.subarrays; n++) { mask[n] = ~0; }\n    for (d = 0, len = dimensions.length; d < len; d++) {\n      // The top bits of the ID are the subarray offset and the lower bits are the bit\n      // offset of the \"one\" mask.\n      id = dimensions[d].id();\n      mask[id >> 7] &= ~(0x1 << (id & 0x3f));\n    }\n    return mask;\n  }\n\n  // Return true if the data element at index i is filtered IN.\n  // Optionally, ignore the filters of any dimensions in the ignore_dimensions list.\n  function isElementFiltered(i, ignore_dimensions) {\n    var mask = maskForDimensions(ignore_dimensions || []);\n    return filters.zeroExceptMask(i,mask);\n  }\n\n  // Adds a new dimension with the specified value accessor function.\n  function dimension(value, iterable) {\n\n    if (typeof value === 'string') {\n      var accessorPath = value;\n      value = function(d) { return result(d, accessorPath); };\n    }\n\n    var dimension = {\n      filter: filter,\n      filterExact: filterExact,\n      filterRange: filterRange,\n      filterFunction: filterFunction,\n      filterAll: filterAll,\n      currentFilter: currentFilter,\n      hasCurrentFilter: hasCurrentFilter,\n      top: top,\n      bottom: bottom,\n      group: group,\n      groupAll: groupAll,\n      dispose: dispose,\n      remove: dispose, // for backwards-compatibility\n      accessor: value,\n      id: function() { return id; }\n    };\n\n    var one, // lowest unset bit as mask, e.g., 00001000\n        zero, // inverted one, e.g., 11110111\n        offset, // offset into the filters arrays\n        id, // unique ID for this dimension (reused when dimensions are disposed)\n        values, // sorted, cached array\n        index, // maps sorted value index -> record index (in data)\n        newValues, // temporary array storing newly-added values\n        newIndex, // temporary array storing newly-added index\n        iterablesIndexCount,\n        iterablesIndexFilterStatus,\n        iterablesEmptyRows = [],\n        sortRange = function(n) {\n          return cr_range(n).sort(function(A, B) {\n            var a = newValues[A], b = newValues[B];\n            return a < b ? -1 : a > b ? 1 : A - B;\n          });\n        },\n        refilter = xfilterFilter.filterAll, // for recomputing filter\n        refilterFunction, // the custom filter function in use\n        filterValue, // the value used for filtering (value, array, function or undefined)\n        filterValuePresent, // true if filterValue contains something\n        indexListeners = [], // when data is added\n        dimensionGroups = [],\n        lo0 = 0,\n        hi0 = 0,\n        t = 0,\n        k;\n\n    // Updating a dimension is a two-stage process. First, we must update the\n    // associated filters for the newly-added records. Once all dimensions have\n    // updated their filters, the groups are notified to update.\n    dataListeners.unshift(preAdd);\n    dataListeners.push(postAdd);\n\n    removeDataListeners.push(removeData);\n\n    // Add a new dimension in the filter bitmap and store the offset and bitmask.\n    var tmp = filters.add();\n    offset = tmp.offset;\n    one = tmp.one;\n    zero = ~one;\n\n    // Create a unique ID for the dimension\n    // IDs will be re-used if dimensions are disposed.\n    // For internal use the ID is the subarray offset shifted left 7 bits or'd with the\n    // bit offset of the set bit in the dimension's \"one\" mask.\n    id = (offset << 7) | (Math.log(one) / Math.log(2));\n\n    preAdd(data, 0, n);\n    postAdd(data, 0, n);\n\n    // Incorporates the specified new records into this dimension.\n    // This function is responsible for updating filters, values, and index.\n    function preAdd(newData, n0, n1) {\n      var newIterablesIndexCount,\n          newIterablesIndexFilterStatus;\n\n      if (iterable){\n        // Count all the values\n        t = 0;\n        j = 0;\n        k = [];\n\n        for (var i0 = 0; i0 < newData.length; i0++) {\n          for(j = 0, k = value(newData[i0]); j < k.length; j++) {\n            t++;\n          }\n        }\n\n        newValues = [];\n        newIterablesIndexCount = cr_range(newData.length);\n        newIterablesIndexFilterStatus = cr_index(t,1);\n        var unsortedIndex = cr_range(t);\n\n        for (var l = 0, index1 = 0; index1 < newData.length; index1++) {\n          k = value(newData[index1])\n          //\n          if(!k.length){\n            newIterablesIndexCount[index1] = 0;\n            iterablesEmptyRows.push(index1 + n0);\n            continue;\n          }\n          newIterablesIndexCount[index1] = k.length\n          for (j = 0; j < k.length; j++) {\n            newValues.push(k[j]);\n            unsortedIndex[l] = index1;\n            l++;\n          }\n        }\n\n        // Create the Sort map used to sort both the values and the valueToData indices\n        var sortMap = sortRange(t);\n\n        // Use the sortMap to sort the newValues\n        newValues = permute(newValues, sortMap);\n\n\n        // Use the sortMap to sort the unsortedIndex map\n        // newIndex should be a map of sortedValue -> crossfilterData\n        newIndex = permute(unsortedIndex, sortMap)\n\n      } else{\n        // Permute new values into natural order using a standard sorted index.\n        newValues = newData.map(value);\n        newIndex = sortRange(n1);\n        newValues = permute(newValues, newIndex);\n      }\n\n      // Bisect newValues to determine which new records are selected.\n      var bounds = refilter(newValues), lo1 = bounds[0], hi1 = bounds[1];\n\n      var index2, index3, index4;\n      if(iterable) {\n        n1 = t;\n        if (refilterFunction) {\n          for (index2 = 0; index2 < n1; ++index2) {\n            if (!refilterFunction(newValues[index2], index2)) {\n              if(--newIterablesIndexCount[newIndex[index2]] === 0) {\n                filters[offset][newIndex[index2] + n0] |= one;\n              }\n              newIterablesIndexFilterStatus[index2] = 1;\n            }\n          }\n        } else {\n          for (index3 = 0; index3 < lo1; ++index3) {\n            if(--newIterablesIndexCount[newIndex[index3]] === 0) {\n              filters[offset][newIndex[index3] + n0] |= one;\n            }\n            newIterablesIndexFilterStatus[index3] = 1;\n          }\n          for (index4 = hi1; index4 < n1; ++index4) {\n            if(--newIterablesIndexCount[newIndex[index4]] === 0) {\n              filters[offset][newIndex[index4] + n0] |= one;\n            }\n            newIterablesIndexFilterStatus[index4] = 1;\n          }\n        }\n      } else {\n        if (refilterFunction) {\n          for (index2 = 0; index2 < n1; ++index2) {\n            if (!refilterFunction(newValues[index2], index2)) {\n              filters[offset][newIndex[index2] + n0] |= one;\n            }\n          }\n        } else {\n          for (index3 = 0; index3 < lo1; ++index3) {\n            filters[offset][newIndex[index3] + n0] |= one;\n          }\n          for (index4 = hi1; index4 < n1; ++index4) {\n            filters[offset][newIndex[index4] + n0] |= one;\n          }\n        }\n      }\n\n      // If this dimension previously had no data, then we don't need to do the\n      // more expensive merge operation; use the new values and index as-is.\n      if (!n0) {\n        values = newValues;\n        index = newIndex;\n        iterablesIndexCount = newIterablesIndexCount;\n        iterablesIndexFilterStatus = newIterablesIndexFilterStatus;\n        lo0 = lo1;\n        hi0 = hi1;\n        return;\n      }\n\n\n\n      var oldValues = values,\n        oldIndex = index,\n        oldIterablesIndexFilterStatus = iterablesIndexFilterStatus,\n        old_n0,\n        i1 = 0;\n\n      i0 = 0;\n\n      if(iterable){\n        old_n0 = n0\n        n0 = oldValues.length;\n        n1 = t\n      }\n\n      // Otherwise, create new arrays into which to merge new and old.\n      values = iterable ? new Array(n0 + n1) : new Array(n);\n      index = iterable ? new Array(n0 + n1) : cr_index(n, n);\n      if(iterable) iterablesIndexFilterStatus = cr_index(n0 + n1, 1);\n\n      // Concatenate the newIterablesIndexCount onto the old one.\n      if(iterable) {\n        var oldiiclength = iterablesIndexCount.length;\n        iterablesIndexCount = xfilterArray.arrayLengthen(iterablesIndexCount, n);\n        for(var j=0; j+oldiiclength < n; j++) {\n          iterablesIndexCount[j+oldiiclength] = newIterablesIndexCount[j];\n        }\n      }\n\n      // Merge the old and new sorted values, and old and new index.\n      var index5 = 0;\n      for (; i0 < n0 && i1 < n1; ++index5) {\n        if (oldValues[i0] < newValues[i1]) {\n          values[index5] = oldValues[i0];\n          if(iterable) iterablesIndexFilterStatus[index5] = oldIterablesIndexFilterStatus[i0];\n          index[index5] = oldIndex[i0++];\n        } else {\n          values[index5] = newValues[i1];\n          if(iterable) iterablesIndexFilterStatus[index5] = newIterablesIndexFilterStatus[i1];\n          index[index5] = newIndex[i1++] + (iterable ? old_n0 : n0);\n        }\n      }\n\n      // Add any remaining old values.\n      for (; i0 < n0; ++i0, ++index5) {\n        values[index5] = oldValues[i0];\n        if(iterable) iterablesIndexFilterStatus[index5] = oldIterablesIndexFilterStatus[i0];\n        index[index5] = oldIndex[i0];\n      }\n\n      // Add any remaining new values.\n      for (; i1 < n1; ++i1, ++index5) {\n        values[index5] = newValues[i1];\n        if(iterable) iterablesIndexFilterStatus[index5] = newIterablesIndexFilterStatus[i1];\n        index[index5] = newIndex[i1] + (iterable ? old_n0 : n0);\n      }\n\n      // Bisect again to recompute lo0 and hi0.\n      bounds = refilter(values), lo0 = bounds[0], hi0 = bounds[1];\n    }\n\n    // When all filters have updated, notify index listeners of the new values.\n    function postAdd(newData, n0, n1) {\n      indexListeners.forEach(function(l) { l(newValues, newIndex, n0, n1); });\n      newValues = newIndex = null;\n    }\n\n    function removeData(reIndex) {\n      if (iterable) {\n        for (var i0 = 0, i1 = 0; i0 < iterablesEmptyRows.length; i0++) {\n          if (reIndex[iterablesEmptyRows[i0]] !== REMOVED_INDEX) {\n            iterablesEmptyRows[i1] = reIndex[iterablesEmptyRows[i0]];\n            i1++;\n          }\n        }\n        iterablesEmptyRows.length = i1;\n        for (i0 = 0, i1 = 0; i0 < n; i0++) {\n          if (reIndex[i0] !== REMOVED_INDEX) {\n            if (i1 !== i0) iterablesIndexCount[i1] = iterablesIndexCount[i0];\n            i1++;\n          }\n        }\n        iterablesIndexCount = iterablesIndexCount.slice(0, i1);\n      }\n      // Rewrite our index, overwriting removed values\n      var n0 = values.length;\n      for (var i = 0, j = 0, oldDataIndex; i < n0; ++i) {\n        oldDataIndex = index[i];\n        if (reIndex[oldDataIndex] !== REMOVED_INDEX) {\n          if (i !== j) values[j] = values[i];\n          index[j] = reIndex[oldDataIndex];\n          if (iterable) {\n            iterablesIndexFilterStatus[j] = iterablesIndexFilterStatus[i];\n          }\n          ++j;\n        }\n      }\n      values.length = j;\n      if (iterable) iterablesIndexFilterStatus = iterablesIndexFilterStatus.slice(0, j);\n      while (j < n0) index[j++] = 0;\n\n      // Bisect again to recompute lo0 and hi0.\n      var bounds = refilter(values);\n      lo0 = bounds[0], hi0 = bounds[1];\n    }\n\n    // Updates the selected values based on the specified bounds [lo, hi].\n    // This implementation is used by all the public filter methods.\n    function filterIndexBounds(bounds) {\n\n      var lo1 = bounds[0],\n          hi1 = bounds[1];\n\n      if (refilterFunction) {\n        refilterFunction = null;\n        filterIndexFunction(function(d, i) { return lo1 <= i && i < hi1; }, bounds[0] === 0 && bounds[1] === values.length);\n        lo0 = lo1;\n        hi0 = hi1;\n        return dimension;\n      }\n\n      var i,\n          j,\n          k,\n          added = [],\n          removed = [],\n          valueIndexAdded = [],\n          valueIndexRemoved = [];\n\n\n      // Fast incremental update based on previous lo index.\n      if (lo1 < lo0) {\n        for (i = lo1, j = Math.min(lo0, hi1); i < j; ++i) {\n          added.push(index[i]);\n          valueIndexAdded.push(i);\n        }\n      } else if (lo1 > lo0) {\n        for (i = lo0, j = Math.min(lo1, hi0); i < j; ++i) {\n          removed.push(index[i]);\n          valueIndexRemoved.push(i);\n        }\n      }\n\n      // Fast incremental update based on previous hi index.\n      if (hi1 > hi0) {\n        for (i = Math.max(lo1, hi0), j = hi1; i < j; ++i) {\n          added.push(index[i]);\n          valueIndexAdded.push(i);\n        }\n      } else if (hi1 < hi0) {\n        for (i = Math.max(lo0, hi1), j = hi0; i < j; ++i) {\n          removed.push(index[i]);\n          valueIndexRemoved.push(i);\n        }\n      }\n\n      if(!iterable) {\n        // Flip filters normally.\n\n        for(i=0; i<added.length; i++) {\n          filters[offset][added[i]] ^= one;\n        }\n\n        for(i=0; i<removed.length; i++) {\n          filters[offset][removed[i]] ^= one;\n        }\n\n      } else {\n        // For iterables, we need to figure out if the row has been completely removed vs partially included\n        // Only count a row as added if it is not already being aggregated. Only count a row\n        // as removed if the last element being aggregated is removed.\n\n        var newAdded = [];\n        var newRemoved = [];\n        for (i = 0; i < added.length; i++) {\n          iterablesIndexCount[added[i]]++\n          iterablesIndexFilterStatus[valueIndexAdded[i]] = 0;\n          if(iterablesIndexCount[added[i]] === 1) {\n            filters[offset][added[i]] ^= one;\n            newAdded.push(added[i]);\n          }\n        }\n        for (i = 0; i < removed.length; i++) {\n          iterablesIndexCount[removed[i]]--\n          iterablesIndexFilterStatus[valueIndexRemoved[i]] = 1;\n          if(iterablesIndexCount[removed[i]] === 0) {\n            filters[offset][removed[i]] ^= one;\n            newRemoved.push(removed[i]);\n          }\n        }\n\n        added = newAdded;\n        removed = newRemoved;\n\n        // Now handle empty rows.\n        if(refilter === xfilterFilter.filterAll) {\n          for(i = 0; i < iterablesEmptyRows.length; i++) {\n            if((filters[offset][k = iterablesEmptyRows[i]] & one)) {\n              // Was not in the filter, so set the filter and add\n              filters[offset][k] ^= one;\n              added.push(k);\n            }\n          }\n        } else {\n          // filter in place - remove empty rows if necessary\n          for(i = 0; i < iterablesEmptyRows.length; i++) {\n            if(!(filters[offset][k = iterablesEmptyRows[i]] & one)) {\n              // Was in the filter, so set the filter and remove\n              filters[offset][k] ^= one;\n              removed.push(k);\n            }\n          }\n        }\n      }\n\n      lo0 = lo1;\n      hi0 = hi1;\n      filterListeners.forEach(function(l) { l(one, offset, added, removed); });\n      triggerOnChange('filtered');\n      return dimension;\n    }\n\n    // Filters this dimension using the specified range, value, or null.\n    // If the range is null, this is equivalent to filterAll.\n    // If the range is an array, this is equivalent to filterRange.\n    // Otherwise, this is equivalent to filterExact.\n    function filter(range) {\n      return range == null\n          ? filterAll() : Array.isArray(range)\n          ? filterRange(range) : typeof range === \"function\"\n          ? filterFunction(range)\n          : filterExact(range);\n    }\n\n    // Filters this dimension to select the exact value.\n    function filterExact(value) {\n      filterValue = value;\n      filterValuePresent = true;\n      return filterIndexBounds((refilter = xfilterFilter.filterExact(bisect, value))(values));\n    }\n\n    // Filters this dimension to select the specified range [lo, hi].\n    // The lower bound is inclusive, and the upper bound is exclusive.\n    function filterRange(range) {\n      filterValue = range;\n      filterValuePresent = true;\n      return filterIndexBounds((refilter = xfilterFilter.filterRange(bisect, range))(values));\n    }\n\n    // Clears any filters on this dimension.\n    function filterAll() {\n      filterValue = undefined;\n      filterValuePresent = false;\n      return filterIndexBounds((refilter = xfilterFilter.filterAll)(values));\n    }\n\n    // Filters this dimension using an arbitrary function.\n    function filterFunction(f) {\n      filterValue = f;\n      filterValuePresent = true;\n\n      refilterFunction = f;\n      refilter = xfilterFilter.filterAll;\n\n      filterIndexFunction(f, false);\n\n      var bounds = refilter(values);\n      lo0 = bounds[0], hi0 = bounds[1];\n\n      return dimension;\n    }\n\n    function filterIndexFunction(f, filterAll) {\n      var i,\n          k,\n          x,\n          added = [],\n          removed = [],\n          valueIndexAdded = [],\n          valueIndexRemoved = [],\n          indexLength = values.length;\n\n      if(!iterable) {\n        for (i = 0; i < indexLength; ++i) {\n          if (!(filters[offset][k = index[i]] & one) ^ !!(x = f(values[i], i))) {\n            if (x) added.push(k);\n            else removed.push(k);\n          }\n        }\n      }\n\n      if(iterable) {\n        for(i=0; i < indexLength; ++i) {\n          if(f(values[i], i)) {\n            added.push(index[i]);\n            valueIndexAdded.push(i);\n          } else {\n            removed.push(index[i]);\n            valueIndexRemoved.push(i);\n          }\n        }\n      }\n\n      if(!iterable) {\n        for(i=0; i<added.length; i++) {\n          if(filters[offset][added[i]] & one) filters[offset][added[i]] &= zero;\n        }\n\n        for(i=0; i<removed.length; i++) {\n          if(!(filters[offset][removed[i]] & one)) filters[offset][removed[i]] |= one;\n        }\n      } else {\n\n        var newAdded = [];\n        var newRemoved = [];\n        for (i = 0; i < added.length; i++) {\n          // First check this particular value needs to be added\n          if(iterablesIndexFilterStatus[valueIndexAdded[i]] === 1) {\n            iterablesIndexCount[added[i]]++\n            iterablesIndexFilterStatus[valueIndexAdded[i]] = 0;\n            if(iterablesIndexCount[added[i]] === 1) {\n              filters[offset][added[i]] ^= one;\n              newAdded.push(added[i]);\n            }\n          }\n        }\n        for (i = 0; i < removed.length; i++) {\n          // First check this particular value needs to be removed\n          if(iterablesIndexFilterStatus[valueIndexRemoved[i]] === 0) {\n            iterablesIndexCount[removed[i]]--\n            iterablesIndexFilterStatus[valueIndexRemoved[i]] = 1;\n            if(iterablesIndexCount[removed[i]] === 0) {\n              filters[offset][removed[i]] ^= one;\n              newRemoved.push(removed[i]);\n            }\n          }\n        }\n\n        added = newAdded;\n        removed = newRemoved;\n\n        // Now handle empty rows.\n        if(filterAll) {\n          for(i = 0; i < iterablesEmptyRows.length; i++) {\n            if((filters[offset][k = iterablesEmptyRows[i]] & one)) {\n              // Was not in the filter, so set the filter and add\n              filters[offset][k] ^= one;\n              added.push(k);\n            }\n          }\n        } else {\n          // filter in place - remove empty rows if necessary\n          for(i = 0; i < iterablesEmptyRows.length; i++) {\n            if(!(filters[offset][k = iterablesEmptyRows[i]] & one)) {\n              // Was in the filter, so set the filter and remove\n              filters[offset][k] ^= one;\n              removed.push(k);\n            }\n          }\n        }\n      }\n\n      filterListeners.forEach(function(l) { l(one, offset, added, removed); });\n      triggerOnChange('filtered');\n    }\n\n    function currentFilter() {\n      return filterValue;\n    }\n\n    function hasCurrentFilter() {\n      return filterValuePresent;\n    }\n\n    // Returns the top K selected records based on this dimension's order.\n    // Note: observes this dimension's filter, unlike group and groupAll.\n    function top(k, top_offset) {\n      var array = [],\n          i = hi0,\n          j,\n          toSkip = 0;\n\n      if(top_offset && top_offset > 0) toSkip = top_offset;\n\n      while (--i >= lo0 && k > 0) {\n        if (filters.zero(j = index[i])) {\n          if(toSkip > 0) {\n            //skip matching row\n            --toSkip;\n          } else {\n            array.push(data[j]);\n            --k;\n          }\n        }\n      }\n\n      if(iterable){\n        for(i = 0; i < iterablesEmptyRows.length && k > 0; i++) {\n          // Add row with empty iterable column at the end\n          if(filters.zero(j = iterablesEmptyRows[i])) {\n            if(toSkip > 0) {\n              //skip matching row\n              --toSkip;\n            } else {\n              array.push(data[j]);\n              --k;\n            }\n          }\n        }\n      }\n\n      return array;\n    }\n\n    // Returns the bottom K selected records based on this dimension's order.\n    // Note: observes this dimension's filter, unlike group and groupAll.\n    function bottom(k, bottom_offset) {\n      var array = [],\n          i,\n          j,\n          toSkip = 0;\n\n      if(bottom_offset && bottom_offset > 0) toSkip = bottom_offset;\n\n      if(iterable) {\n        // Add row with empty iterable column at the top\n        for(i = 0; i < iterablesEmptyRows.length && k > 0; i++) {\n          if(filters.zero(j = iterablesEmptyRows[i])) {\n            if(toSkip > 0) {\n              //skip matching row\n              --toSkip;\n            } else {\n              array.push(data[j]);\n              --k;\n            }\n          }\n        }\n      }\n\n      i = lo0;\n\n      while (i < hi0 && k > 0) {\n        if (filters.zero(j = index[i])) {\n          if(toSkip > 0) {\n            //skip matching row\n            --toSkip;\n          } else {\n            array.push(data[j]);\n            --k;\n          }\n        }\n        i++;\n      }\n\n      return array;\n    }\n\n    // Adds a new group to this dimension, using the specified key function.\n    function group(key) {\n      var group = {\n        top: top,\n        all: all,\n        reduce: reduce,\n        reduceCount: reduceCount,\n        reduceSum: reduceSum,\n        order: order,\n        orderNatural: orderNatural,\n        size: size,\n        dispose: dispose,\n        remove: dispose // for backwards-compatibility\n      };\n\n      // Ensure that this group will be removed when the dimension is removed.\n      dimensionGroups.push(group);\n\n      var groups, // array of {key, value}\n          groupIndex, // object id ↦ group id\n          groupWidth = 8,\n          groupCapacity = capacity(groupWidth),\n          k = 0, // cardinality\n          select,\n          heap,\n          reduceAdd,\n          reduceRemove,\n          reduceInitial,\n          update = cr_null,\n          reset = cr_null,\n          resetNeeded = true,\n          groupAll = key === cr_null,\n          n0old;\n\n      if (arguments.length < 1) key = cr_identity;\n\n      // The group listens to the crossfilter for when any dimension changes, so\n      // that it can update the associated reduce values. It must also listen to\n      // the parent dimension for when data is added, and compute new keys.\n      filterListeners.push(update);\n      indexListeners.push(add);\n      removeDataListeners.push(removeData);\n\n      // Incorporate any existing data into the grouping.\n      add(values, index, 0, n);\n\n      // Incorporates the specified new values into this group.\n      // This function is responsible for updating groups and groupIndex.\n      function add(newValues, newIndex, n0, n1) {\n\n        if(iterable) {\n          n0old = n0\n          n0 = values.length - newValues.length\n          n1 = newValues.length;\n        }\n\n        var oldGroups = groups,\n            reIndex = iterable ? [] : cr_index(k, groupCapacity),\n            add = reduceAdd,\n            remove = reduceRemove,\n            initial = reduceInitial,\n            k0 = k, // old cardinality\n            i0 = 0, // index of old group\n            i1 = 0, // index of new record\n            j, // object id\n            g0, // old group\n            x0, // old key\n            x1, // new key\n            g, // group to add\n            x; // key of group to add\n\n        // If a reset is needed, we don't need to update the reduce values.\n        if (resetNeeded) add = initial = cr_null;\n        if (resetNeeded) remove = initial = cr_null;\n\n        // Reset the new groups (k is a lower bound).\n        // Also, make sure that groupIndex exists and is long enough.\n        groups = new Array(k), k = 0;\n        if(iterable){\n          groupIndex = k0 ? groupIndex : [];\n        }\n        else{\n          groupIndex = k0 > 1 ? xfilterArray.arrayLengthen(groupIndex, n) : cr_index(n, groupCapacity);\n        }\n\n\n        // Get the first old key (x0 of g0), if it exists.\n        if (k0) x0 = (g0 = oldGroups[0]).key;\n\n        // Find the first new key (x1), skipping NaN keys.\n        while (i1 < n1 && !((x1 = key(newValues[i1])) >= x1)) ++i1;\n\n        // While new keys remain…\n        while (i1 < n1) {\n\n          // Determine the lesser of the two current keys; new and old.\n          // If there are no old keys remaining, then always add the new key.\n          if (g0 && x0 <= x1) {\n            g = g0, x = x0;\n\n            // Record the new index of the old group.\n            reIndex[i0] = k;\n\n            // Retrieve the next old key.\n            g0 = oldGroups[++i0];\n            if (g0) x0 = g0.key;\n          } else {\n            g = {key: x1, value: initial()}, x = x1;\n          }\n\n          // Add the lesser group.\n          groups[k] = g;\n\n          // Add any selected records belonging to the added group, while\n          // advancing the new key and populating the associated group index.\n\n          while (x1 <= x) {\n            j = newIndex[i1] + (iterable ? n0old : n0)\n\n\n            if(iterable){\n              if(groupIndex[j]){\n                groupIndex[j].push(k)\n              }\n              else{\n                groupIndex[j] = [k]\n              }\n            }\n            else{\n              groupIndex[j] = k;\n            }\n\n            // Always add new values to groups. Only remove when not in filter.\n            // This gives groups full information on data life-cycle.\n            g.value = add(g.value, data[j], true);\n            if (!filters.zeroExcept(j, offset, zero)) g.value = remove(g.value, data[j], false);\n            if (++i1 >= n1) break;\n            x1 = key(newValues[i1]);\n          }\n\n          groupIncrement();\n        }\n\n        // Add any remaining old groups that were greater th1an all new keys.\n        // No incremental reduce is needed; these groups have no new records.\n        // Also record the new index of the old group.\n        while (i0 < k0) {\n          groups[reIndex[i0] = k] = oldGroups[i0++];\n          groupIncrement();\n        }\n\n\n        // Fill in gaps with empty arrays where there may have been rows with empty iterables\n        if(iterable){\n          for (var index1 = 0; index1 < n; index1++) {\n            if(!groupIndex[index1]){\n              groupIndex[index1] = [];\n            }\n          }\n        }\n\n        // If we added any new groups before any old groups,\n        // update the group index of all the old records.\n        if(k > i0){\n          if(iterable){\n            for (i0 = 0; i0 < n0old; ++i0) {\n              for (index1 = 0; index1 < groupIndex[i0].length; index1++) {\n                groupIndex[i0][index1] = reIndex[groupIndex[i0][index1]];\n              }\n            }\n          }\n          else{\n            for (i0 = 0; i0 < n0; ++i0) {\n              groupIndex[i0] = reIndex[groupIndex[i0]];\n            }\n          }\n        }\n\n        // Modify the update and reset behavior based on the cardinality.\n        // If the cardinality is less than or equal to one, then the groupIndex\n        // is not needed. If the cardinality is zero, then there are no records\n        // and therefore no groups to update or reset. Note that we also must\n        // change the registered listener to point to the new method.\n        j = filterListeners.indexOf(update);\n        if (k > 1 || iterable) {\n          update = updateMany;\n          reset = resetMany;\n        } else {\n          if (!k && groupAll) {\n            k = 1;\n            groups = [{key: null, value: initial()}];\n          }\n          if (k === 1) {\n            update = updateOne;\n            reset = resetOne;\n          } else {\n            update = cr_null;\n            reset = cr_null;\n          }\n          groupIndex = null;\n        }\n        filterListeners[j] = update;\n\n        // Count the number of added groups,\n        // and widen the group index as needed.\n        function groupIncrement() {\n          if(iterable){\n            k++\n            return\n          }\n          if (++k === groupCapacity) {\n            reIndex = xfilterArray.arrayWiden(reIndex, groupWidth <<= 1);\n            groupIndex = xfilterArray.arrayWiden(groupIndex, groupWidth);\n            groupCapacity = capacity(groupWidth);\n          }\n        }\n      }\n\n      function removeData(reIndex) {\n        if (k > 1 || iterable) {\n          var oldK = k,\n              oldGroups = groups,\n              seenGroups = cr_index(oldK, oldK),\n              i,\n              i0,\n              j;\n\n          // Filter out non-matches by copying matching group index entries to\n          // the beginning of the array.\n          if (!iterable) {\n            for (i = 0, j = 0; i < n; ++i) {\n              if (reIndex[i] !== REMOVED_INDEX) {\n                seenGroups[groupIndex[j] = groupIndex[i]] = 1;\n                ++j;\n              }\n            }\n          } else {\n            for (i = 0, j = 0; i < n; ++i) {\n              if (reIndex[i] !== REMOVED_INDEX) {\n                groupIndex[j] = groupIndex[i];\n                for (i0 = 0; i0 < groupIndex[j].length; i0++) {\n                  seenGroups[groupIndex[j][i0]] = 1;\n                }\n                ++j;\n              }\n            }\n            groupIndex = groupIndex.slice(0, j);\n          }\n\n          // Reassemble groups including only those groups that were referred\n          // to by matching group index entries.  Note the new group index in\n          // seenGroups.\n          groups = [], k = 0;\n          for (i = 0; i < oldK; ++i) {\n            if (seenGroups[i]) {\n              seenGroups[i] = k++;\n              groups.push(oldGroups[i]);\n            }\n          }\n\n          if (k > 1 || iterable) {\n            // Reindex the group index using seenGroups to find the new index.\n            if (!iterable) {\n              for (i = 0; i < j; ++i) groupIndex[i] = seenGroups[groupIndex[i]];\n            } else {\n              for (i = 0; i < j; ++i) {\n                for (i0 = 0; i0 < groupIndex[i].length; ++i0) {\n                  groupIndex[i][i0] = seenGroups[groupIndex[i][i0]];\n                }\n              }\n            }\n          } else {\n            groupIndex = null;\n          }\n          filterListeners[filterListeners.indexOf(update)] = k > 1 || iterable\n              ? (reset = resetMany, update = updateMany)\n              : k === 1 ? (reset = resetOne, update = updateOne)\n              : reset = update = cr_null;\n        } else if (k === 1) {\n          if (groupAll) return;\n          for (var index3 = 0; index3 < n; ++index3) if (reIndex[index3] !== REMOVED_INDEX) return;\n          groups = [], k = 0;\n          filterListeners[filterListeners.indexOf(update)] =\n          update = reset = cr_null;\n        }\n      }\n\n      // Reduces the specified selected or deselected records.\n      // This function is only used when the cardinality is greater than 1.\n      // notFilter indicates a crossfilter.add/remove operation.\n      function updateMany(filterOne, filterOffset, added, removed, notFilter) {\n\n        if ((filterOne === one && filterOffset === offset) || resetNeeded) return;\n\n        var i,\n            j,\n            k,\n            n,\n            g;\n\n        if(iterable){\n          // Add the added values.\n          for (i = 0, n = added.length; i < n; ++i) {\n            if (filters.zeroExcept(k = added[i], offset, zero)) {\n              for (j = 0; j < groupIndex[k].length; j++) {\n                g = groups[groupIndex[k][j]];\n                g.value = reduceAdd(g.value, data[k], false, j);\n              }\n            }\n          }\n\n          // Remove the removed values.\n          for (i = 0, n = removed.length; i < n; ++i) {\n            if (filters.onlyExcept(k = removed[i], offset, zero, filterOffset, filterOne)) {\n              for (j = 0; j < groupIndex[k].length; j++) {\n                g = groups[groupIndex[k][j]];\n                g.value = reduceRemove(g.value, data[k], notFilter, j);\n              }\n            }\n          }\n          return;\n        }\n\n        // Add the added values.\n        for (i = 0, n = added.length; i < n; ++i) {\n          if (filters.zeroExcept(k = added[i], offset, zero)) {\n            g = groups[groupIndex[k]];\n            g.value = reduceAdd(g.value, data[k], false);\n          }\n        }\n\n        // Remove the removed values.\n        for (i = 0, n = removed.length; i < n; ++i) {\n          if (filters.onlyExcept(k = removed[i], offset, zero, filterOffset, filterOne)) {\n            g = groups[groupIndex[k]];\n            g.value = reduceRemove(g.value, data[k], notFilter);\n          }\n        }\n      }\n\n      // Reduces the specified selected or deselected records.\n      // This function is only used when the cardinality is 1.\n      // notFilter indicates a crossfilter.add/remove operation.\n      function updateOne(filterOne, filterOffset, added, removed, notFilter) {\n        if ((filterOne === one && filterOffset === offset) || resetNeeded) return;\n\n        var i,\n            k,\n            n,\n            g = groups[0];\n\n        // Add the added values.\n        for (i = 0, n = added.length; i < n; ++i) {\n          if (filters.zeroExcept(k = added[i], offset, zero)) {\n            g.value = reduceAdd(g.value, data[k], false);\n          }\n        }\n\n        // Remove the removed values.\n        for (i = 0, n = removed.length; i < n; ++i) {\n          if (filters.onlyExcept(k = removed[i], offset, zero, filterOffset, filterOne)) {\n            g.value = reduceRemove(g.value, data[k], notFilter);\n          }\n        }\n      }\n\n      // Recomputes the group reduce values from scratch.\n      // This function is only used when the cardinality is greater than 1.\n      function resetMany() {\n        var i,\n            j,\n            g;\n\n        // Reset all group values.\n        for (i = 0; i < k; ++i) {\n          groups[i].value = reduceInitial();\n        }\n\n        // We add all records and then remove filtered records so that reducers\n        // can build an 'unfiltered' view even if there are already filters in\n        // place on other dimensions.\n        if(iterable){\n          for (i = 0; i < n; ++i) {\n            for (j = 0; j < groupIndex[i].length; j++) {\n              g = groups[groupIndex[i][j]];\n              g.value = reduceAdd(g.value, data[i], true, j);\n            }\n          }\n          for (i = 0; i < n; ++i) {\n            if (!filters.zeroExcept(i, offset, zero)) {\n              for (j = 0; j < groupIndex[i].length; j++) {\n                g = groups[groupIndex[i][j]];\n                g.value = reduceRemove(g.value, data[i], false, j);\n              }\n            }\n          }\n          return;\n        }\n\n        for (i = 0; i < n; ++i) {\n          g = groups[groupIndex[i]];\n          g.value = reduceAdd(g.value, data[i], true);\n        }\n        for (i = 0; i < n; ++i) {\n          if (!filters.zeroExcept(i, offset, zero)) {\n            g = groups[groupIndex[i]];\n            g.value = reduceRemove(g.value, data[i], false);\n          }\n        }\n      }\n\n      // Recomputes the group reduce values from scratch.\n      // This function is only used when the cardinality is 1.\n      function resetOne() {\n        var i,\n            g = groups[0];\n\n        // Reset the singleton group values.\n        g.value = reduceInitial();\n\n        // We add all records and then remove filtered records so that reducers\n        // can build an 'unfiltered' view even if there are already filters in\n        // place on other dimensions.\n        for (i = 0; i < n; ++i) {\n          g.value = reduceAdd(g.value, data[i], true);\n        }\n\n        for (i = 0; i < n; ++i) {\n          if (!filters.zeroExcept(i, offset, zero)) {\n            g.value = reduceRemove(g.value, data[i], false);\n          }\n        }\n      }\n\n      // Returns the array of group values, in the dimension's natural order.\n      function all() {\n        if (resetNeeded) reset(), resetNeeded = false;\n        return groups;\n      }\n\n      // Returns a new array containing the top K group values, in reduce order.\n      function top(k) {\n        var top = select(all(), 0, groups.length, k);\n        return heap.sort(top, 0, top.length);\n      }\n\n      // Sets the reduce behavior for this group to use the specified functions.\n      // This method lazily recomputes the reduce values, waiting until needed.\n      function reduce(add, remove, initial) {\n        reduceAdd = add;\n        reduceRemove = remove;\n        reduceInitial = initial;\n        resetNeeded = true;\n        return group;\n      }\n\n      // A convenience method for reducing by count.\n      function reduceCount() {\n        return reduce(xfilterReduce.reduceIncrement, xfilterReduce.reduceDecrement, cr_zero);\n      }\n\n      // A convenience method for reducing by sum(value).\n      function reduceSum(value) {\n        return reduce(xfilterReduce.reduceAdd(value), xfilterReduce.reduceSubtract(value), cr_zero);\n      }\n\n      // Sets the reduce order, using the specified accessor.\n      function order(value) {\n        select = xfilterHeapselect.by(valueOf);\n        heap = xfilterHeap.by(valueOf);\n        function valueOf(d) { return value(d.value); }\n        return group;\n      }\n\n      // A convenience method for natural ordering by reduce value.\n      function orderNatural() {\n        return order(cr_identity);\n      }\n\n      // Returns the cardinality of this group, irrespective of any filters.\n      function size() {\n        return k;\n      }\n\n      // Removes this group and associated event listeners.\n      function dispose() {\n        var i = filterListeners.indexOf(update);\n        if (i >= 0) filterListeners.splice(i, 1);\n        i = indexListeners.indexOf(add);\n        if (i >= 0) indexListeners.splice(i, 1);\n        i = removeDataListeners.indexOf(removeData);\n        if (i >= 0) removeDataListeners.splice(i, 1);\n        i = dimensionGroups.indexOf(group);\n        if (i >= 0) dimensionGroups.splice(i, 1);\n        return group;\n      }\n\n      return reduceCount().orderNatural();\n    }\n\n    // A convenience function for generating a singleton group.\n    function groupAll() {\n      var g = group(cr_null), all = g.all;\n      delete g.all;\n      delete g.top;\n      delete g.order;\n      delete g.orderNatural;\n      delete g.size;\n      g.value = function() { return all()[0].value; };\n      return g;\n    }\n\n    // Removes this dimension and associated groups and event listeners.\n    function dispose() {\n      dimensionGroups.forEach(function(group) { group.dispose(); });\n      var i = dataListeners.indexOf(preAdd);\n      if (i >= 0) dataListeners.splice(i, 1);\n      i = dataListeners.indexOf(postAdd);\n      if (i >= 0) dataListeners.splice(i, 1);\n      i = removeDataListeners.indexOf(removeData);\n      if (i >= 0) removeDataListeners.splice(i, 1);\n      filters.masks[offset] &= zero;\n      return filterAll();\n    }\n\n    return dimension;\n  }\n\n  // A convenience method for groupAll on a dummy dimension.\n  // This implementation can be optimized since it always has cardinality 1.\n  function groupAll() {\n    var group = {\n      reduce: reduce,\n      reduceCount: reduceCount,\n      reduceSum: reduceSum,\n      value: value,\n      dispose: dispose,\n      remove: dispose // for backwards-compatibility\n    };\n\n    var reduceValue,\n        reduceAdd,\n        reduceRemove,\n        reduceInitial,\n        resetNeeded = true;\n\n    // The group listens to the crossfilter for when any dimension changes, so\n    // that it can update the reduce value. It must also listen to the parent\n    // dimension for when data is added.\n    filterListeners.push(update);\n    dataListeners.push(add);\n\n    // For consistency; actually a no-op since resetNeeded is true.\n    add(data, 0, n);\n\n    // Incorporates the specified new values into this group.\n    function add(newData, n0) {\n      var i;\n\n      if (resetNeeded) return;\n\n      // Cycle through all the values.\n      for (i = n0; i < n; ++i) {\n\n        // Add all values all the time.\n        reduceValue = reduceAdd(reduceValue, data[i], true);\n\n        // Remove the value if filtered.\n        if (!filters.zero(i)) {\n          reduceValue = reduceRemove(reduceValue, data[i], false);\n        }\n      }\n    }\n\n    // Reduces the specified selected or deselected records.\n    function update(filterOne, filterOffset, added, removed, notFilter) {\n      var i,\n          k,\n          n;\n\n      if (resetNeeded) return;\n\n      // Add the added values.\n      for (i = 0, n = added.length; i < n; ++i) {\n        if (filters.zero(k = added[i])) {\n          reduceValue = reduceAdd(reduceValue, data[k], notFilter);\n        }\n      }\n\n      // Remove the removed values.\n      for (i = 0, n = removed.length; i < n; ++i) {\n        if (filters.only(k = removed[i], filterOffset, filterOne)) {\n          reduceValue = reduceRemove(reduceValue, data[k], notFilter);\n        }\n      }\n    }\n\n    // Recomputes the group reduce value from scratch.\n    function reset() {\n      var i;\n\n      reduceValue = reduceInitial();\n\n      // Cycle through all the values.\n      for (i = 0; i < n; ++i) {\n\n        // Add all values all the time.\n        reduceValue = reduceAdd(reduceValue, data[i], true);\n\n        // Remove the value if it is filtered.\n        if (!filters.zero(i)) {\n          reduceValue = reduceRemove(reduceValue, data[i], false);\n        }\n      }\n    }\n\n    // Sets the reduce behavior for this group to use the specified functions.\n    // This method lazily recomputes the reduce value, waiting until needed.\n    function reduce(add, remove, initial) {\n      reduceAdd = add;\n      reduceRemove = remove;\n      reduceInitial = initial;\n      resetNeeded = true;\n      return group;\n    }\n\n    // A convenience method for reducing by count.\n    function reduceCount() {\n      return reduce(xfilterReduce.reduceIncrement, xfilterReduce.reduceDecrement, cr_zero);\n    }\n\n    // A convenience method for reducing by sum(value).\n    function reduceSum(value) {\n      return reduce(xfilterReduce.reduceAdd(value), xfilterReduce.reduceSubtract(value), cr_zero);\n    }\n\n    // Returns the computed reduce value.\n    function value() {\n      if (resetNeeded) reset(), resetNeeded = false;\n      return reduceValue;\n    }\n\n    // Removes this group and associated event listeners.\n    function dispose() {\n      var i = filterListeners.indexOf(update);\n      if (i >= 0) filterListeners.splice(i, 1);\n      i = dataListeners.indexOf(add);\n      if (i >= 0) dataListeners.splice(i, 1);\n      return group;\n    }\n\n    return reduceCount();\n  }\n\n  // Returns the number of records in this crossfilter, irrespective of any filters.\n  function size() {\n    return n;\n  }\n\n  // Returns the raw row data contained in this crossfilter\n  function all(){\n    return data;\n  }\n\n  // Returns row data with all dimension filters applied, except for filters in ignore_dimensions\n  function allFiltered(ignore_dimensions) {\n    var array = [],\n        i = 0,\n        mask = maskForDimensions(ignore_dimensions || []);\n\n      for (i = 0; i < n; i++) {\n        if (filters.zeroExceptMask(i, mask)) {\n          array.push(data[i]);\n        }\n      }\n\n      return array;\n  }\n\n  function onChange(cb){\n    if(typeof cb !== 'function'){\n      /* eslint no-console: 0 */\n      console.warn('onChange callback parameter must be a function!');\n      return;\n    }\n    callbacks.push(cb);\n    return function(){\n      callbacks.splice(callbacks.indexOf(cb), 1);\n    };\n  }\n\n  function triggerOnChange(eventName){\n    for (var i = 0; i < callbacks.length; i++) {\n      callbacks[i](eventName);\n    }\n  }\n\n  return arguments.length\n      ? add(arguments[0])\n      : crossfilter;\n}\n\n// Returns an array of size n, big enough to store ids up to m.\nfunction cr_index(n, m) {\n  return (m < 0x101\n      ? xfilterArray.array8 : m < 0x10001\n      ? xfilterArray.array16\n      : xfilterArray.array32)(n);\n}\n\n// Constructs a new array of size n, with sequential values from 0 to n - 1.\nfunction cr_range(n) {\n  var range = cr_index(n, n);\n  for (var i = -1; ++i < n;) range[i] = i;\n  return range;\n}\n\nfunction capacity(w) {\n  return w === 8\n      ? 0x100 : w === 16\n      ? 0x10000\n      : 0x100000000;\n}\n","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}"],"sourceRoot":""}