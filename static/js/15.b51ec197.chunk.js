(this["webpackJsonptwitter-polarization"]=this["webpackJsonptwitter-polarization"]||[]).push([[15],{304:function(t,n,e){"use strict";e.r(n);var a,r,i,c=e(111),o=e(35),s=e(0),u=e(139),d=e(187),l=e(306),f=e(118),h=e(300),g=e(4),m=e(5),p=m.b.section(a||(a=Object(g.a)(["\n  position: relative;\n  padding: 10rem 0 8rem;\n  @media only screen and (max-width: 768px) {\n    padding: 4rem 0 4rem;\n  }\n"]))),b=m.b.svg(r||(r=Object(g.a)([""]))),j=m.b.div(i||(i=Object(g.a)(["\n  display: flex;\n\n  @media only screen and (max-width: 768px) {\n    display: block;\n  }\n\n  div {\n    flex: 1;\n    @media only screen and (max-width: 768px) {\n      flex: 0;\n    }\n  }\n\n  .right {\n    padding-top: 9%;\n    @media only screen and (max-width: 768px) {\n      padding-top: 0;\n    }\n  }\n\n  img {\n    border-radius: 50%;\n    height: 48px;\n  }\n\n  .left {\n    @media only screen and (max-width: 768px) {\n      padding-left: 0%;\n\n      svg {\n        width: 100%;\n      }\n    }\n  }\n\n  .userInfo {\n    padding-top: 1rem;\n    display: inline-flex;\n\n    p {\n      padding-top: 1rem;\n      padding-right: 1rem;\n    }\n  }\n"]))),x=e(1);n.default=function(){var t=Object(l.a)("https://gist.githubusercontent.com/dhannyell/f4453995758ea516ed637fd00b9da2f4/raw/2feb69a9dc9b3c1c4166c1ed41c2b4b2f6134c0a/hierarchical_graph.json"),n=Object(o.a)(t,2),e=n[0],a=e.response,r=e.loading,i=e.error,g=(n[1],Object(l.a)("https://gist.githubusercontent.com/dhannyell/b405174707a39252af5cc8981aec3aee/raw/78945dda256ca9afbbef38c91aeb7a8f2e113035/standard_graph@1.json")),m=Object(o.a)(g,2),O=m[0],v=O.response,y=O.loading,w=(O.error2,m[1],Object(s.useState)([])),I=Object(o.a)(w,2),k=I[0],M=I[1],S=Object(s.useState)([]),z=Object(o.a)(S,2),A=(z[0],z[1]),E=Object(s.useState)([]),N=Object(o.a)(E,2),P=N[0],L=N[1],D=Object(s.useState)([]),F=Object(o.a)(D,2),R=F[0],Y=F[1],q=Object(s.useState)([]),C=Object(o.a)(q,2),G=C[0],H=C[1],J=Object(s.useState)([]),U=Object(o.a)(J,2),_=U[0],B=U[1],X=Object(s.useState)([]),K=Object(o.a)(X,2),Q=K[0],T=K[1],V=Object(s.useState)([]),W=Object(o.a)(V,2),Z=W[0],$=W[1],tt=Object(s.useState)(""),nt=Object(o.a)(tt,2),et=nt[0],at=nt[1],rt=954,it=u.i().domain(["Esquerda","Direita","Centro"]).range(["#941c1c","#1a219c","#9c8e19"]);function ct(t){return"".concat(t.parent?ct(t.parent)+".":"").concat(t.data.name)}return Object(s.useEffect)((function(){if(!1===y){var t=v.data.links;M(t);var n=v.data.nodes;A(n);var e=Object(d.a)(n);L(e);var a=e.dimension((function(t){return t.Ideology}));Y(a);e.dimension((function(t){return t.username}));var r=a.group();H(r);var i=Object(d.a)(n);B(i);var c=i.dimension((function(t){return t.Ideology}));T(c);i.dimension((function(t){return t.username}));var o=c.group();$(o)}}),[y]),Object(s.useEffect)((function(){if(k.length>0&&!1===r){var t=function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",a=new Map;return t.forEach((function t(r){var i=r.name;if(a.has(i))return a.get(i);var c=i.lastIndexOf(e);return a.set(i,r),c>=0?(t({name:i.substring(0,c),children:[]}).children.push(r),r.name=i.substring(c+1)):n=r,r})),n}(a.data),n=u.g().curve(u.d.beta(.85)).radius((function(t){return t.y})).angle((function(t){return t.x})),e=u.b().size([2*Math.PI,377])(function(t){"undefined"===typeof t.leaves()&&(console.log("sou undefined"),t=[{data:{name:"loading","Orienta\xe7ao":"Centro",imports:[]},depth:2,height:0,incoming:[],outgoing:[],parent:[]}]);var n,e=new Map(t.leaves().map((function(t){return[ct(t),t]}))),a=Object(c.a)(t.leaves());try{var r=function(){var t=n.value;t.incoming=[],t.outgoing=t.data.imports.map((function(n){return[t,e.get(n)]}))};for(a.s();!(n=a.n()).done;)r()}catch(f){a.e(f)}finally{a.f()}var i,o=Object(c.a)(t.leaves());try{for(o.s();!(i=o.n()).done;){var s,u=i.value,d=Object(c.a)(u.outgoing);try{for(d.s();!(s=d.n()).done;){var l=s.value;l[1].incoming.push(l)}}catch(f){d.e(f)}finally{d.f()}}}catch(f){o.e(f)}finally{o.f()}return t}(u.e(t).sort((function(t,n){return u.a(t.height,n.height)||u.a(t.data.name,n.data.name)})))),i=P.dimension((function(t){return t.username})),s=_.dimension((function(t){return t.username})),d=u.m("#hierarchical").attr("viewBox",[-477,-477,rt,rt]);u.h().domain([0,60]).range([150,0]);console.log(e.leaves());d.append("g").attr("font-family","sans-serif").attr("font-size",10).selectAll("g").data(e.leaves()).join("g").attr("transform",(function(t){return"rotate(".concat(180*t.x/Math.PI-90,") translate(").concat(t.y,",0)")})).append("text").attr("dy","0.31em").attr("x",(function(t){return t.x<Math.PI?6:-6})).attr("text-anchor",(function(t){return t.x<Math.PI?"start":"end"})).attr("transform",(function(t){return t.x>=Math.PI?"rotate(180)":null})).text((function(t){return t.data.name})).attr("fill",(function(t){return it(t.data["Orienta\xe7\xe3o"])})).each((function(t){t.text=this})).on("click",(function(t,n){t.data.selected?(t.data.selected=!1,l.style("mix-blend-mode","multiply"),u.m("hierarchical").attr("font-weight",null),u.m("hierarchical").attr("fill",it(t.data.Ideology)),u.n(t.incoming.map((function(t){return t.path}))).attr("stroke",null),u.n(t.outgoing.map((function(t){return t.path}))).attr("stroke",null),u.n(t.incoming.map((function(t){return Object(o.a)(t,1)[0].text}))).attr("font-weight",null),u.n(t.outgoing.map((function(t){return Object(o.a)(t,2)[1].text}))).attr("font-weight",null)):(at(t.data.name),t.data.selected=!0,l.style("mix-blend-mode",null),u.m("hierarchical").attr("font-weight","bold"),u.m("hierarchical").attr("fill","#000"),u.n(t.incoming.map((function(t){return t.path}))).attr("stroke","#660033").raise(),u.n(t.outgoing.map((function(t){return t.path}))).attr("stroke","#669900").raise(),u.n(t.incoming.map((function(t){return Object(o.a)(t,1)[0].text}))).attr("font-weight","bold"),u.n(t.outgoing.map((function(t){return Object(o.a)(t,2)[1].text}))).attr("font-weight","bold"));var e=function(t){var n=[];return t.forEach((function(t){n.push(t.split(".")[2])})),n}(t.data.imports),a=function(t){var n=[];return k.forEach((function(e){e.target==t&&n.push(e.source)})),n}(t.data.name);i.filterFunction((function(t){return e.indexOf(t)>-1})),s.filterFunction((function(t){return a.indexOf(t)>-1})),f.renderAll()})).call((function(t){return t.append("title").text((function(t){return"".concat(t.data.name,"\n                        Retweeted by ").concat(t.outgoing.length," users\n                        Retweeted ").concat(t.incoming.length," users")}))}));var l=d.append("g").attr("stroke","#ccc").attr("fill","none").selectAll("path").data(e.leaves().flatMap((function(t){return t.outgoing}))).join("path").style("mix-blend-mode","multiply").attr("d",(function(t){var e=Object(o.a)(t,2),a=e[0],r=e[1];return n(a.path(r))})).each((function(t){t.path=this}));f.renderAll()}}),[k,r]),r||y?Object(x.jsx)("h1",{children:"Loading Data..."}):i?Object(x.jsx)("p",{children:"Error!"}):Object(x.jsx)(x.Fragment,{children:k.length>100?Object(x.jsx)(p,{children:Object(x.jsxs)(j,{children:[Object(x.jsx)("div",{className:"left ",children:Object(x.jsx)(b,{id:"hierarchical",preserveAspectRatio:"xMidYMid meet"})}),Object(x.jsxs)("div",{className:"right",children:[Object(x.jsxs)("div",{className:"userInfo",children:[Object(x.jsxs)("p",{children:["Ideologia de quem retuitou @",et]}),Object(x.jsx)("img",{src:"/twitter-polarization/images/".concat(et,".jpg"),alt:et})]}),Object(x.jsxs)("div",{className:"charts",children:[Object(x.jsx)(h.a,{dimension:R,group:G,x:it,xUnits:f.units.ordinal,elasticY:!0,elasticX:!1,margins:{top:10,right:20,bottom:20,left:30},renderHorizontalGridLines:!0,colorAccessor:function(t){return t.key}}),Object(x.jsx)("div",{className:"userInfo",children:Object(x.jsxs)("p",{children:["Ideologia dos retuitados por @",et]})}),Object(x.jsx)(h.a,{dimension:Q,group:Z,x:it,xUnits:f.units.ordinal,elasticY:!0,margin:{top:10,right:20,bottom:20,left:30},renderHorizontalGridLines:!0,colorAccessor:function(t){return t.key}})]})]})]})}):Object(x.jsx)("h1",{children:"Loading Data..."})})}}}]);
//# sourceMappingURL=15.b51ec197.chunk.js.map